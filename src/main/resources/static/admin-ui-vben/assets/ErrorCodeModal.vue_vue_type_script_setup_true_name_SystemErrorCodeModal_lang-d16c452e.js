import{u as h,B as w}from"./index-b9c40b5d.js";import{u as E,a as b}from"./useForm-8fd7b992.js";import"./index-c3c80eae.js";import{u as i}from"./useRender-7b752cf7.js";import{D as l,g as x}from"./dict-411628cd.js";import{bD as r,a as d,H as C,u as o,o as P,c as R,w as y,e as S,ag as T}from"./index-185fe65d.js";const A=[{title:"编号",dataIndex:"id",width:100},{title:"类型",dataIndex:"type",width:80,customRender:({text:e})=>i.renderDict(e,l.SYSTEM_ERROR_CODE_TYPE)},{title:"应用名",dataIndex:"applicationName",width:200},{title:"错误码编码",dataIndex:"code",width:120},{title:"错误码提示",dataIndex:"message",width:300},{title:"备注",dataIndex:"memo",width:200},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:e})=>i.renderDate(e)}],H=[{label:"错误码类型",field:"type",component:"Select",componentProps:{options:x(l.SYSTEM_ERROR_CODE_TYPE)},colProps:{span:8}},{label:"应用名",field:"applicationName",component:"Input",colProps:{span:8}},{label:"错误码编码",field:"code",component:"Input",colProps:{span:8}},{label:"错误码提示",field:"message",component:"Input",colProps:{span:8}},{label:"创建时间",field:"createTime",component:"RangePicker",colProps:{span:8}}],D=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"应用名",field:"applicationName",required:!0,component:"Input"},{label:"错误码编码",field:"code",required:!0,component:"Input"},{label:"错误码提示",field:"message",required:!0,component:"Input"},{label:"备注",field:"memo",component:"InputTextArea"}];function U(e){return r.get({url:"/system/error-code/page",params:e})}function M(e){return r.get({url:"/system/error-code/get?id="+e})}function O(e){return r.post({url:"/system/error-code/create",data:e})}function B(e){return r.put({url:"/system/error-code/update",data:e})}function V(e){return r.delete({url:"/system/error-code/delete?id="+e})}function $(e){return r.download({url:"/system/error-code/export-excel",params:e},"错误码.xls")}const F=d({name:"SystemErrorCodeModal"}),G=d({...F,emits:["success","register"],setup(e,{emit:c}){const a=C(!0),[p,{setFieldsValue:u,resetFields:m,validate:f}]=E({labelWidth:120,baseColProps:{span:24},schemas:D,showActionButtonGroup:!1,actionColOptions:{span:23}}),[g,{setModalProps:n,closeModal:_}]=h(async t=>{if(m(),n({confirmLoading:!1}),a.value=!!t?.isUpdate,o(a)){const s=await M(t.record.id);u({...s})}});async function I(){try{const t=await f();n({confirmLoading:!0}),o(a)?await B(t):await O(t),_(),c("success")}finally{n({confirmLoading:!1})}}return(t,s)=>(P(),R(o(w),T(t.$attrs,{onRegister:o(g),title:a.value?"编辑":"新增",onOk:I}),{default:y(()=>[S(o(b),{onRegister:o(p)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{G as _,A as c,V as d,$ as e,U as g,H as s};
