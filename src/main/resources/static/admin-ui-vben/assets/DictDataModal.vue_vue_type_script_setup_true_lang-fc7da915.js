import{a as I,c as w,z as S,k as t,fy as T,o as D,j as M,w as _,n as x,ag as C,fz as y,fA as O,x as P}from"./index-8b526734.js";import{u as k,_ as A}from"./useForm-f7dccb87.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import{a as F,B as R}from"./index-40f1f97e.js";import"./index-ec19b8e7.js";import"./index-d2d20fb4.js";import"./tree-e6981725.js";import"./index-03ea37ad.js";import"./index-3e87b811.js";import"./index-c8168e27.js";import"./sortable.esm-f208c0d8.js";import{u as r}from"./useRender-f65ba3eb.js";import{D as i,g as u}from"./dict-5cefafd8.js";const q=[{value:"",label:"无"},{value:"processing",label:"主要"},{value:"success",label:"成功"},{value:"default",label:"默认"},{value:"warning",label:"警告"},{value:"error",label:"危险"},{value:"pink",label:"pink"},{value:"red",label:"red"},{value:"orange",label:"orange"},{value:"green",label:"green"},{value:"cyan",label:"cyan"},{value:"blue",label:"blue"},{value:"purple",label:"purple"}];function B(){return q.map(e=>{const{value:l,label:s}=e;return l===""?e:{label:r.renderTag(s,l),value:l}})}const Q=[{title:"字典编码",dataIndex:"id",width:100},{title:"字典标签",dataIndex:"label",width:180},{title:"字典键值",dataIndex:"value",width:100},{title:"字典排序",dataIndex:"sort",width:120},{title:"状态",dataIndex:"status",width:180,customRender:({text:e})=>r.renderDict(e,i.COMMON_STATUS)},{title:"颜色类型",dataIndex:"colorType",width:180},{title:"CSS Class",dataIndex:"cssClass",width:180},{title:"备注",dataIndex:"remark",width:180},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:e})=>r.renderDate(e)}],X=[{label:"字典标签",field:"label",component:"Input",colProps:{span:8}},{label:"状态",field:"status",component:"Select",componentProps:{options:u(i.COMMON_STATUS)},colProps:{span:8}}],N=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"字典类型",field:"dictType",required:!0,component:"Input",dynamicDisabled:({values:e})=>!!e.dictType},{label:"数据标签",field:"label",required:!0,component:"Input"},{label:"数据键值",field:"value",required:!0,component:"Input"},{label:"显示排序",field:"sort",required:!0,defaultValue:0,component:"InputNumber"},{label:"状态",field:"status",component:"Select",componentProps:{options:u(i.COMMON_STATUS)}},{label:"颜色类型",field:"colorType",component:"Select",componentProps:{options:B()}},{label:"CSS Class",field:"cssClass",component:"Input",helpMessage:"输入hex模式的颜色, 例如#108ee9",rules:[{required:!1,message:"输入正确的16进制颜色",pattern:/^#([0-9a-fA-F]{3}){1,2}$/,trigger:"blur"}]},{label:"备注",field:"remark",component:"InputTextArea"}],Z=I({name:"SystemDictDataModal",__name:"DictDataModal",emits:["success","register"],setup(e,{emit:l}){const{t:s}=w(),{createMessage:p}=P(),o=S(!0),[m,{setFieldsValue:c,resetFields:f,validate:b}]=k({labelWidth:120,baseColProps:{span:24},schemas:N,showActionButtonGroup:!1,actionColOptions:{span:23}}),[g,{setModalProps:n,closeModal:v}]=F(async a=>{if(f(),n({confirmLoading:!1}),o.value=!!a?.isUpdate,t(o)){const d=await T(a.record.id);c({...d})}else c({dictType:a.record})});async function h(){try{const a=await b();n({confirmLoading:!0}),t(o)?await y(a):await O(a),v(),l("success"),p.success(s("common.saveSuccessText"))}finally{n({confirmLoading:!1})}}return(a,d)=>(D(),M(t(R),C(a.$attrs,{onRegister:t(g),title:o.value?t(s)("action.edit"):t(s)("action.create"),onOk:h}),{default:_(()=>[x(t(A),{onRegister:t(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{Z as _,X as a,Q as d};
