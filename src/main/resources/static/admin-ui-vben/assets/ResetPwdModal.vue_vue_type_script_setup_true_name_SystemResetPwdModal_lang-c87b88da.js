import{u as d,B as f}from"./index-b9c40b5d.js";import{u as p,a as _}from"./useForm-8fd7b992.js";import{u as g}from"./user.data-54241481.js";import{r as w}from"./index-385c14ff.js";import{a as r,H as h,o as P,c as M,w as B,e as R,u as s,ag as v}from"./index-185fe65d.js";const y=r({name:"SystemResetPwdModal"}),I=r({...y,emits:["success","register"],setup(C,{emit:t}){const o=h(0),[n,{resetFields:i,validate:c}]=p({labelWidth:120,baseColProps:{span:24},schemas:g,showActionButtonGroup:!1,actionColOptions:{span:23}}),[l,{setModalProps:a,closeModal:m}]=d(e=>{i(),o.value=e.record.id,a({confirmLoading:!1})});async function u(){try{const e=await c();await w(o.value,e.newPassword),a({confirmLoading:!0}),m(),t("success")}finally{a({confirmLoading:!1})}}return(e,F)=>(P(),M(s(f),v(e.$attrs,{onRegister:s(l),title:"重置密码",onOk:u}),{default:B(()=>[R(s(_),{onRegister:s(n)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}});export{I as _};
