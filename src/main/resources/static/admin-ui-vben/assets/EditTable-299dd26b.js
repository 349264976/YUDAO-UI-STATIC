import{a as T,y as k,z as i,B,C as V,o as s,j as l,w as S,i as b,n as a,k as r,D as u,E as c,l as h,G as E}from"./index-8b526734.js";import{S as I}from"./index-4cdc1ad4.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import{P as F}from"./index-42e905fb.js";import P from"./BasicInfoForm-91ddbcab.js";import R from"./CloumInfoForm-f3b461ad.js";import D from"./FinishForm-6fba75ba.js";import{u as j,g as q}from"./index-9608a02d.js";import"./index-d2d20fb4.js";import"./index-7aea77c8.js";import"./index-50e4b4b2.js";import"./index-8e6d9858.js";import"./index-c8168e27.js";import"./index-47ca6c32.js";import"./get-11175361.js";import"./tree-e6981725.js";import"./eagerComputed-6290a54f.js";import"./index-03ea37ad.js";import"./index-3e87b811.js";import"./_baseIteratee-625e56a9.js";import"./useSize-5af631ed.js";import"./onMountedOrActivated-13e9417a.js";import"./index-40f1f97e.js";import"./useWindowSizeFn-38cd0f6d.js";import"./FullscreenOutlined-8b988545.js";import"./index-081b541d.js";import"./useRefs-872c0ad6.js";import"./index-c8286d7f.js";import"./index-42686290.js";import"./index-d89d7986.js";import"./index-1967bd47.js";import"./useContentViewHeight-0508c576.js";import"./ArrowLeftOutlined-83b12cfe.js";import"./useForm-f7dccb87.js";import"./_stringToArray-c38191b3.js";import"./uniqBy-f83999c6.js";import"./index-9e517d44.js";import"./data-c2e000ad.js";import"./type-291341e4.js";import"./index-a2b632f4.js";import"./dict-5cefafd8.js";import"./useTable-33ec4cfa.js";import"./index-ec19b8e7.js";import"./fromPairs-e099444b.js";import"./scrollTo-67205127.js";import"./index-fb15648b.js";import"./sortable.esm-f208c0d8.js";import"./RedoOutlined-fa24e892.js";import"./index-8629d074.js";import"./index-10ea0885.js";import"./PreviewModal.vue_vue_type_script_setup_true_lang-7174b95f.js";import"./index-1cd9ce27.js";import"./index-e8507731.js";/* empty css              */import"./index-ccb32bec.js";const z={class:"step-form-form"},G={class:"m-5"},L=T({__name:"EditTable",setup(M){const n=I.Step,{query:f}=k(),d=i(),v=i([]),p=i(),_=i(),t=i(0),e=B({initSetp2:!1,initSetp3:!1});function y(o){t.value++,p.value=o,e.initSetp2=!0}function x(){t.value--}async function g(o){t.value++,_.value=o,await w(),e.initSetp3=!0}async function w(){p.value.id=f.id;const o={table:p.value,columns:_.value};await j(o)}function C(){t.value=0,e.initSetp2=!1,e.initSetp3=!1}async function N(){const o=f.id,m=await q(o);d.value=m.table,v.value=m.columns}return V(async()=>{await N()}),(o,m)=>(s(),l(r(F),null,{default:S(()=>[b("div",z,[a(r(I),{current:t.value},{default:S(()=>[a(r(n),{title:"生成信息"}),a(r(n),{title:"字段信息"}),a(r(n),{title:"完成"})]),_:1},8,["current"])]),b("div",G,[u(a(P,{basicInfo:d.value,onNext:y},null,8,["basicInfo"]),[[c,t.value===0]]),e.initSetp2?u((s(),l(R,{key:0,columnsInfo:v.value,onPrev:x,onNext:g},null,8,["columnsInfo"])),[[c,t.value===1]]):h("",!0),e.initSetp3?u((s(),l(D,{key:1,onRedo:C},null,512)),[[c,t.value===2]]):h("",!0)])]),_:1}))}});const At=E(L,[["__scopeId","data-v-f9fbad2a"]]);export{At as default};
