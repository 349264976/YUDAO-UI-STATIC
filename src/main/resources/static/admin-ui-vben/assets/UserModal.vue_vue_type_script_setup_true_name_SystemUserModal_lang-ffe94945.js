import{u as p,B as g}from"./index-b9c40b5d.js";import{u as _,a as h}from"./useForm-8fd7b992.js";import{f as w}from"./user.data-54241481.js";import{a as M,b as U,c as y}from"./index-385c14ff.js";import{a as r,H as B,u as s,o as b,c as v,w as C,e as F,ag as R}from"./index-185fe65d.js";const k=r({name:"SystemUserModal"}),$=r({...k,emits:["success","register"],setup(L,{emit:i}){const a=B(!0),[n,{setFieldsValue:c,resetFields:l,validate:m}]=_({labelWidth:120,baseColProps:{span:24},schemas:w,showActionButtonGroup:!1,actionColOptions:{span:23}}),[u,{setModalProps:t,closeModal:f}]=p(async e=>{if(l(),t({confirmLoading:!1}),a.value=!!e?.isUpdate,s(a)){const o=await M(e.record.id);c({...o})}});async function d(){try{const e=await m();t({confirmLoading:!0}),s(a)?await U(e):await y(e),f(),i("success")}finally{t({confirmLoading:!1})}}return(e,o)=>(b(),v(s(g),R(e.$attrs,{onRegister:s(u),title:a.value?"编辑":"新增",onOk:d}),{default:C(()=>[F(s(h),{onRegister:s(n)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{$ as _};
