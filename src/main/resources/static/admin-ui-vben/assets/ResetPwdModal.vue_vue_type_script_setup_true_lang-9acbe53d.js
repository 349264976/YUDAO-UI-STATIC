import{a as f,c as p,z as g,o as _,j as w,w as M,n as P,k as e,ag as h,x as R}from"./index-8b526734.js";import{u as v,_ as B}from"./useForm-f7dccb87.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import{a as k,B as x}from"./index-40f1f97e.js";import{u as y}from"./user.data-cd3248bc.js";import{r as C}from"./index-2d30e53e.js";const z=f({name:"SystemResetPwdModal",__name:"ResetPwdModal",emits:["success","register"],setup(F,{emit:t}){const{t:r}=p(),{createMessage:n}=R(),o=g(0),[c,{resetFields:i,validate:m}]=v({labelWidth:120,baseColProps:{span:24},schemas:y,showActionButtonGroup:!1,actionColOptions:{span:23}}),[l,{setModalProps:a,closeModal:u}]=k(s=>{i(),o.value=s.record.id,a({confirmLoading:!1})});async function d(){try{const s=await m();await C(o.value,s.newPassword),a({confirmLoading:!0}),u(),t("success"),n.success(r("common.saveSuccessText"))}finally{a({confirmLoading:!1})}}return(s,S)=>(_(),w(e(x),h(s.$attrs,{onRegister:e(l),title:"重置密码",onOk:d}),{default:M(()=>[P(e(B),{onRegister:e(c)},null,8,["onRegister"])]),_:1},16,["onRegister"]))}});export{z as _};
