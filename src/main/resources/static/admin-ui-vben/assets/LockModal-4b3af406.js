import{a as u,T as S,bp as I,B as c,j as $,o as b,c as C,w as l,b as t,ad as s,u as e,af as m,e as p,k as L,ag as x,i as M}from"./index-185fe65d.js";import{u as R,B as F}from"./index-b9c40b5d.js";import{u as N,a as P}from"./useForm-8fd7b992.js";import{u as U}from"./lock-ff451b83.js";import{h as V}from"./header-b0e9d88a.js";import"./useWindowSizeFn-513fc031.js";import"./FullscreenOutlined-32991190.js";import"./index-273d53fa.js";import"./index-e80a262d.js";import"./_baseIteratee-ef666e06.js";import"./get-99b39cda.js";import"./useSize-536e554d.js";import"./index-69b45e12.js";import"./index-a51ee13a.js";import"./index-ea6c9550.js";import"./index-726b028f.js";import"./index-55063501.js";import"./index-4d2a3b0b.js";import"./tree-1cdc2dee.js";import"./eagerComputed-625aaa6f.js";import"./index-ad77ec72.js";import"./transButton-4d2a5fee.js";import"./index-3ea574b4.js";import"./useRefs-d524c1a2.js";import"./index-e8479e4b.js";import"./index-109393d4.js";import"./uniqBy-074073a7.js";const D=["src"],T=u({name:"LockModal"}),de=u({...T,setup(j){const{t:r}=M(),{prefixCls:o}=S("header-lock-modal"),n=I(),d=U(),_=c(()=>n.getUserInfo?.user.nickname),[f,{closeModal:g}]=R(),[k,{validateFields:h,resetFields:v}]=N({showActionButtonGroup:!1,schemas:[{field:"password",label:r("layout.header.lockScreenPassword"),colProps:{span:24},component:"InputPassword",required:!0}]});async function w(){const i=(await h()).password;g(),d.setLockInfo({isLock:!0,pwd:i}),await v()}const y=c(()=>{const{avatar:a}=n.getUserInfo.user;return a||V});return(a,i)=>{const B=$("a-button");return b(),C(e(F),x({footer:null,title:e(r)("layout.header.lockScreen")},a.$attrs,{class:e(o),onRegister:e(f)}),{default:l(()=>[t("div",{class:s(`${e(o)}__entry`)},[t("div",{class:s(`${e(o)}__header`)},[t("img",{src:e(y),class:s(`${e(o)}__header-img`)},null,10,D),t("p",{class:s(`${e(o)}__header-name`)},m(e(_)),3)],2),p(e(P),{onRegister:e(k)},null,8,["onRegister"]),t("div",{class:s(`${e(o)}__footer`)},[p(B,{type:"primary",block:"",class:"mt-2",onClick:w},{default:l(()=>[L(m(e(r)("layout.header.lockScreenBtn")),1)]),_:1})],2)],2)]),_:1},16,["title","class","onRegister"])}}});export{de as default};
