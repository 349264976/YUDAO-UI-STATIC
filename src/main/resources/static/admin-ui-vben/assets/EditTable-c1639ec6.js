import{a as j,m as s,n as Z,p as v,q as et,e as o,s as it,_ as b,t as nt,v as ot,x as st,y as rt,z as at,A as ct,B as H,C as lt,D as ut,E as pt,G as dt,H as z,J as ft,K as mt,o as W,c as A,w as J,b as K,u as E,L,M as q,h as Q,N as vt}from"./index-185fe65d.js";import{P as gt}from"./useForm-8fd7b992.js";import{P as Ct}from"./index-341544d4.js";import ht from"./BasicInfoForm-f37cb238.js";import bt from"./CloumInfoForm-ba11cdaf.js";import St from"./FinishForm-4830060f.js";import{u as xt,g as _t}from"./index-f2d2d6f2.js";import"./index-273d53fa.js";import"./index-e80a262d.js";import"./_baseIteratee-ef666e06.js";import"./get-99b39cda.js";import"./useSize-536e554d.js";import"./index-69b45e12.js";import"./index-a51ee13a.js";import"./index-ea6c9550.js";import"./index-726b028f.js";import"./index-55063501.js";import"./index-4d2a3b0b.js";import"./tree-1cdc2dee.js";import"./eagerComputed-625aaa6f.js";import"./index-ad77ec72.js";import"./transButton-4d2a5fee.js";import"./index-b9c40b5d.js";import"./useWindowSizeFn-513fc031.js";import"./FullscreenOutlined-32991190.js";import"./index-3ea574b4.js";import"./useRefs-d524c1a2.js";import"./index-e8479e4b.js";import"./index-109393d4.js";import"./uniqBy-074073a7.js";import"./index-a2353b1b.js";import"./index-a331c47c.js";import"./useContentViewHeight-f2cd4d02.js";import"./ArrowLeftOutlined-b0e96cce.js";import"./index-1091f5b3.js";import"./data-1bbd35a2.js";import"./type-26865084.js";import"./index-17b3345e.js";import"./dict-411628cd.js";import"./index-c3c80eae.js";import"./sortable.esm-261924ea.js";import"./RedoOutlined-4bac5e59.js";import"./fromPairs-e099444b.js";import"./scrollTo-360190e5.js";import"./index-0e02bec4.js";import"./index-55aee596.js";import"./useTable-e1aa62c8.js";import"./index-1c9f0c4d.js";import"./PreviewModal.vue_vue_type_script_setup_true_name_InfraPreviewModal_lang-6d7b346c.js";import"./index-bb610c0a.js";import"./index-ed8d3e4e.js";import"./index-9a79925f.js";var yt=["prefixCls"];const It=j({compatConfig:{MODE:3},name:"Steps",props:{type:s.string.def("default"),prefixCls:s.string.def("vc-steps"),iconPrefix:s.string.def("vc"),direction:s.string.def("horizontal"),labelPlacement:s.string.def("horizontal"),status:s.string.def("process"),size:s.string.def(""),progressDot:s.oneOfType([s.looseBool,s.func]).def(void 0),initial:s.number.def(0),current:s.number.def(0),icons:s.shape({finish:s.any,error:s.any}).loose,stepIcon:Function},slots:["stepIcon","progressDot"],emits:["change"],setup:function(t,C){var l=C.slots,P=C.emit,x=function(n){var i=t.current;i!==n&&P("change",n)};return function(){var f,n,i=t.prefixCls,d=t.direction,u=t.type,m=t.labelPlacement,r=t.iconPrefix,p=t.status,h=t.size,e=t.current,a=t.progressDot,c=a===void 0?l.progressDot:a,N=t.initial,_=t.icons,y=t.stepIcon,D=y===void 0?l.stepIcon:y,g=u==="navigation",$=c?"vertical":m,T=Z(i,"".concat(i,"-").concat(d),(f={},v(f,"".concat(i,"-").concat(h),h),v(f,"".concat(i,"-label-").concat($),d==="horizontal"),v(f,"".concat(i,"-dot"),!!c),v(f,"".concat(i,"-navigation"),g),f)),w=et((n=l.default)===null||n===void 0?void 0:n.call(l));return o("div",{class:T},[w.map(function(B,F){var M=B.props||{},O=M.prefixCls,V=O===void 0?i:O,R=it(M,yt),I=N+F,S=b(b({},R),{},{stepNumber:I+1,stepIndex:I,key:I,prefixCls:V,iconPrefix:r,progressDot:c,icons:_,stepIcon:D,onStepClick:x});return p==="error"&&F===e-1&&(S.class="".concat(i,"-next-error")),R.status||(I===e?S.status=p:I<e?S.status="finish":S.status="wait"),S.active=I===e,nt(B,S)})])}}});function X(k){return typeof k=="string"}function Pt(){}var tt=function(){return{prefixCls:String,wrapperStyle:{type:Object,default:void 0},itemWidth:String,active:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},status:String,iconPrefix:String,icon:s.any,adjustMarginRight:String,stepNumber:Number,stepIndex:Number,description:s.any,title:s.any,subTitle:s.any,progressDot:ot(s.oneOfType([s.looseBool,s.func])),tailContent:s.any,icons:s.shape({finish:s.any,error:s.any}).loose,onClick:Function,onStepClick:Function,stepIcon:Function}};const Nt=j({compatConfig:{MODE:3},name:"Step",props:tt(),slots:["title","subTitle","description","tailContent","stepIcon","progressDot"],emits:["click","stepClick"],setup:function(t,C){var l=C.slots,P=C.emit,x=function(i){P("click",i),P("stepClick",t.stepIndex)},f=function(i){var d,u=i.icon,m=i.title,r=i.description,p=t.prefixCls,h=t.stepNumber,e=t.status,a=t.iconPrefix,c=t.icons,N=t.progressDot,_=N===void 0?l.progressDot:N,y=t.stepIcon,D=y===void 0?l.stepIcon:y,g,$=(d={},v(d,"".concat(p,"-icon"),!0),v(d,"".concat(a,"icon"),!0),v(d,"".concat(a,"icon-").concat(u),u&&X(u)),v(d,"".concat(a,"icon-check"),!u&&e==="finish"&&c&&!c.finish),v(d,"".concat(a,"icon-close"),!u&&e==="error"&&c&&!c.error),d),T=o("span",{class:"".concat(p,"-icon-dot")},null);return _?typeof _=="function"?g=o("span",{class:"".concat(p,"-icon")},[_({iconDot:T,index:h-1,status:e,title:m,description:r,prefixCls:p})]):g=o("span",{class:"".concat(p,"-icon")},[T]):u&&!X(u)?g=o("span",{class:"".concat(p,"-icon")},[u]):c&&c.finish&&e==="finish"?g=o("span",{class:"".concat(p,"-icon")},[c.finish]):c&&c.error&&e==="error"?g=o("span",{class:"".concat(p,"-icon")},[c.error]):u||e==="finish"||e==="error"?g=o("span",{class:$},null):g=o("span",{class:"".concat(p,"-icon")},[h]),D&&(g=D({index:h-1,status:e,title:m,description:r,node:g})),g};return function(){var n,i,d,u,m,r=t.prefixCls,p=t.itemWidth,h=t.active,e=t.status,a=e===void 0?"wait":e,c=t.tailContent,N=t.adjustMarginRight,_=t.disabled,y=t.title,D=y===void 0?(n=l.title)===null||n===void 0?void 0:n.call(l):y,g=t.description,$=g===void 0?(i=l.description)===null||i===void 0?void 0:i.call(l):g,T=t.subTitle,w=T===void 0?(d=l.subTitle)===null||d===void 0?void 0:d.call(l):T,B=t.icon,F=B===void 0?(u=l.icon)===null||u===void 0?void 0:u.call(l):B,M=t.onClick,O=t.onStepClick,V=(m={},v(m,"".concat(r,"-item"),!0),v(m,"".concat(r,"-item-").concat(a),!0),v(m,"".concat(r,"-item-custom"),F),v(m,"".concat(r,"-item-active"),h),v(m,"".concat(r,"-item-disabled"),_===!0),m),R={class:V},I={};p&&(I.width=p),N&&(I.marginRight=N);var S={onClick:M||Pt};return O&&!_&&(S.role="button",S.tabindex=0,S.onClick=x),o("div",b(b({},R),{},{style:I}),[o("div",b(b({},S),{},{class:"".concat(r,"-item-container")}),[o("div",{class:"".concat(r,"-item-tail")},[c]),o("div",{class:"".concat(r,"-item-icon")},[f({icon:F,title:D,description:$})]),o("div",{class:"".concat(r,"-item-content")},[o("div",{class:"".concat(r,"-item-title")},[D,w&&o("div",{title:w,class:"".concat(r,"-item-subtitle")},[w])]),$&&o("div",{class:"".concat(r,"-item-description")},[$])])])])}}});var kt=function(){return{prefixCls:String,iconPrefix:String,current:Number,initial:Number,percent:Number,responsive:{type:Boolean,default:void 0},labelPlacement:String,status:String,size:String,direction:String,progressDot:{type:[Boolean,Function],default:void 0},type:String,onChange:Function,"onUpdate:current":Function}},U=j({compatConfig:{MODE:3},name:"ASteps",inheritAttrs:!1,props:rt(kt(),{current:0,responsive:!0,labelPlacement:"horizontal"}),slots:["progressDot"],setup:function(t,C){var l=C.attrs,P=C.slots,x=C.emit,f=at("steps",t),n=f.prefixCls,i=f.direction,d=f.configProvider,u=ct(),m=H(function(){return t.responsive&&u.value.xs?"vertical":t.direction}),r=H(function(){return d.getPrefixCls("",t.iconPrefix)}),p=function(a){x("update:current",a),x("change",a)},h=function(a){var c=a.node,N=a.status;if(N==="process"&&t.percent!==void 0){var _=t.size==="small"?32:40,y=o("div",{class:"".concat(n,"-progress-icon")},[o(gt,{type:"circle",percent:t.percent,width:_,strokeWidth:4,format:function(){return null}},null),c]);return y}return c};return function(){var e,a=Z((e={},v(e,"".concat(n.value,"-rtl"),i.value==="rtl"),v(e,"".concat(n.value,"-with-progress"),t.percent!==void 0),e),l.class),c={finish:o(lt,{class:"".concat(n,"-finish-icon")},null),error:o(ut,{class:"".concat(n,"-error-icon")},null)};return o(It,b(b({icons:c},pt(t,["percent","responsive"])),{},{direction:m.value,prefixCls:n.value,iconPrefix:r.value,class:a,onChange:p}),b(b({},P),{},{stepIcon:h}))}}}),G=j(b(b({compatConfig:{MODE:3}},Nt),{},{name:"AStep",props:tt()}));const Y=st(U,{Step:G,install:function(t){return t.component(U.name,U),t.component(G.name,G),t}});const Dt={class:"step-form-form"},$t={class:"m-5"},Tt=j({__name:"EditTable",setup(k){const t=Y.Step,{query:C}=dt(),l=z(),P=z([]),x=z(),f=z(),n=z(0),i=ft({initSetp2:!1,initSetp3:!1});function d(e){n.value++,x.value=e,i.initSetp2=!0}function u(){n.value--}async function m(e){n.value++,f.value=e,await r(),i.initSetp3=!0}async function r(){x.value.id=C.id;const e={table:x.value,columns:f.value};await xt(e)}function p(){n.value=0,i.initSetp2=!1,i.initSetp3=!1}async function h(){const e=C.id,a=await _t(e);l.value=a.table,P.value=a.columns}return mt(async()=>{await h()}),(e,a)=>(W(),A(E(Ct),null,{default:J(()=>[K("div",Dt,[o(E(Y),{current:n.value},{default:J(()=>[o(E(t),{title:"生成信息"}),o(E(t),{title:"字段信息"}),o(E(t),{title:"完成"})]),_:1},8,["current"])]),K("div",$t,[L(o(ht,{basicInfo:l.value,onNext:d},null,8,["basicInfo"]),[[q,n.value===0]]),i.initSetp2?L((W(),A(bt,{key:0,columnsInfo:P.value,onPrev:u,onNext:m},null,8,["columnsInfo"])),[[q,n.value===1]]):Q("",!0),i.initSetp3?L((W(),A(St,{key:1,onRedo:p},null,512)),[[q,n.value===2]]):Q("",!0)])]),_:1}))}});const $e=vt(Tt,[["__scopeId","data-v-f9fbad2a"]]);export{$e as default};
