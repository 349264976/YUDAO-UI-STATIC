import{a as w,c as M,z as P,k as e,o as b,j as S,w as x,n as T,ag as O,x as C}from"./index-8b526734.js";import{u as R,_ as k}from"./useForm-f7dccb87.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import{a as v,B as y}from"./index-40f1f97e.js";import"./index-ec19b8e7.js";import"./index-d2d20fb4.js";import"./tree-e6981725.js";import"./index-03ea37ad.js";import"./index-3e87b811.js";import"./index-c8168e27.js";import"./sortable.esm-f208c0d8.js";import{u as c}from"./useRender-f65ba3eb.js";import{D as r,g as l}from"./dict-5cefafd8.js";import{g as A,u as B,c as D}from"./index-f394e401.js";const K=[{title:"岗位编号",dataIndex:"id",width:100},{title:"岗位名称",dataIndex:"name",width:180},{title:"岗位编码",dataIndex:"code",width:100},{title:"岗位顺序",dataIndex:"sort",width:120},{title:"状态",dataIndex:"status",width:180,customRender:({text:o})=>c.renderDict(o,r.COMMON_STATUS)},{title:"备注",dataIndex:"remark",width:180},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:o})=>c.renderDate(o)}],Q=[{label:"岗位名称",field:"name",component:"Input",colProps:{span:8}},{label:"岗位编码",field:"code",component:"Input",colProps:{span:8}},{label:"状态",field:"status",component:"Select",componentProps:{options:l(r.COMMON_STATUS)},colProps:{span:8}}],F=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"岗位名称",field:"name",required:!0,component:"Input"},{label:"岗位编码",field:"code",required:!0,component:"Input"},{label:"岗位顺序",field:"sort",required:!0,defaultValue:0,component:"InputNumber"},{label:"状态",field:"status",component:"Select",componentProps:{options:l(r.COMMON_STATUS)}},{label:"备注",field:"remark",component:"InputTextArea"}],X=w({name:"SystemPostModal",__name:"PostModal",emits:["success","register"],setup(o,{emit:d}){const{t:a}=M(),{createMessage:m}=C(),s=P(!0),[p,{setFieldsValue:u,resetFields:f,validate:g}]=R({labelWidth:120,baseColProps:{span:24},schemas:F,showActionButtonGroup:!1,actionColOptions:{span:23}}),[h,{setModalProps:n,closeModal:I}]=v(async t=>{if(f(),n({confirmLoading:!1}),s.value=!!t?.isUpdate,e(s)){const i=await A(t.record.id);u({...i})}});async function _(){try{const t=await g();n({confirmLoading:!0}),e(s)?await B(t):await D(t),I(),d("success"),m.success(a("common.saveSuccessText"))}finally{n({confirmLoading:!1})}}return(t,i)=>(b(),S(e(y),O(t.$attrs,{onRegister:e(h),title:s.value?e(a)("action.edit"):e(a)("action.create"),onOk:_}),{default:x(()=>[T(e(k),{onRegister:e(p)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{X as _,K as c,Q as s};
