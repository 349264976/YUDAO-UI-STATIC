import{e as f,a8 as ue,a2 as de,a as j,z as fe,H as x,eA as ge,B as H,bY as ve,n as he,p as J,cL as pe,m as P,q as me,eB as be,ds as _e,T as ne,aj as ye,o as E,f as U,b as Y,ay as S,ad as N,u as c,aD as oe,N as He,K as $e,W,dq as ke,X as re,ev as Ce,dF as Fe,bT as Be,dM as Pe,a9 as b,aA as Se,aN as we,a6 as xe,cl as Q,c as ee,bf as Re,r as Te,w as D,aI as Ae,aJ as Ie,F as Oe,k as Ee,af as Ne,ag as je,h as te,bA as se}from"./index-185fe65d.js";import{B as ze}from"./index-a2353b1b.js";import{A as De}from"./index-a331c47c.js";import{u as We}from"./useWindowSizeFn-513fc031.js";import{a as Le}from"./useContentViewHeight-f2cd4d02.js";import{A as Me}from"./ArrowLeftOutlined-b0e96cce.js";import"./index-1091f5b3.js";import{T as Ve}from"./transButton-4d2a5fee.js";var qe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};const Xe=qe;function ae(s){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?Object(arguments[t]):{},v=Object.keys(i);typeof Object.getOwnPropertySymbols=="function"&&(v=v.concat(Object.getOwnPropertySymbols(i).filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable}))),v.forEach(function(n){Je(s,n,i[n])})}return s}function Je(s,t,i){return t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}var Z=function(t,i){var v=ae({},t,i.attrs);return f(ue,ae({},v,{icon:Xe}),null)};Z.displayName="ArrowRightOutlined";Z.inheritAttrs=!1;const Ue=Z;var Ye=function(){return{backIcon:P.any,prefixCls:String,title:P.any,subTitle:P.any,breadcrumb:P.object,tags:P.any,footer:P.any,extra:P.any,avatar:P.object,ghost:{type:Boolean,default:void 0},onBack:Function}},Ze=j({compatConfig:{MODE:3},name:"APageHeader",props:Ye(),slots:["backIcon","avatar","breadcrumb","title","subTitle","tags","extra","footer"],setup:function(t,i){var v=i.emit,n=i.slots,k=fe("page-header",t),h=k.prefixCls,_=k.direction,y=k.pageHeader,R=x(!1),A=ge(),$=function(e){var a=e.width;A.value||(R.value=a<768)},C=H(function(){var r,e,a;return(r=(e=t.ghost)!==null&&e!==void 0?e:(a=y.value)===null||a===void 0?void 0:a.ghost)!==null&&r!==void 0?r:!0}),F=function(){var e,a,o;return(e=(a=t.backIcon)!==null&&a!==void 0?a:(o=n.backIcon)===null||o===void 0?void 0:o.call(n))!==null&&e!==void 0?e:_.value==="rtl"?f(Ue,null,null):f(Me,null,null)},u=function(e){return!e||!t.onBack?null:f(_e,{componentName:"PageHeader",children:function(o){var l=o.back;return f("div",{class:"".concat(h.value,"-back")},[f(Ve,{onClick:function(w){v("back",w)},class:"".concat(h.value,"-back-button"),"aria-label":l},{default:function(){return[e]}})])}},null)},B=function(){var e;return t.breadcrumb?f(ze,t.breadcrumb,null):(e=n.breadcrumb)===null||e===void 0?void 0:e.call(n)},m=function(){var e,a,o,l,d,w,z,L,M,V=t.avatar,I=(e=t.title)!==null&&e!==void 0?e:(a=n.title)===null||a===void 0?void 0:a.call(n),O=(o=t.subTitle)!==null&&o!==void 0?o:(l=n.subTitle)===null||l===void 0?void 0:l.call(n),q=(d=t.tags)!==null&&d!==void 0?d:(w=n.tags)===null||w===void 0?void 0:w.call(n),X=(z=t.extra)!==null&&z!==void 0?z:(L=n.extra)===null||L===void 0?void 0:L.call(n),T="".concat(h.value,"-heading"),G=I||O||q||X;if(!G)return null;var ie=F(),K=u(ie),ce=K||V||G;return f("div",{class:T},[ce&&f("div",{class:"".concat(T,"-left")},[K,V?f(De,V,null):(M=n.avatar)===null||M===void 0?void 0:M.call(n),I&&f("span",{class:"".concat(T,"-title"),title:typeof I=="string"?I:void 0},[I]),O&&f("span",{class:"".concat(T,"-sub-title"),title:typeof O=="string"?O:void 0},[O]),q&&f("span",{class:"".concat(T,"-tags")},[q])]),X&&f("span",{class:"".concat(T,"-extra")},[X])])},g=function(){var e,a,o=(e=t.footer)!==null&&e!==void 0?e:me((a=n.footer)===null||a===void 0?void 0:a.call(n));return be(o)?null:f("div",{class:"".concat(h.value,"-footer")},[o])},p=function(e){return f("div",{class:"".concat(h.value,"-content")},[e])};return function(){var r,e,a,o=((r=t.breadcrumb)===null||r===void 0?void 0:r.routes)||n.breadcrumb,l=t.footer||n.footer,d=ve((e=n.default)===null||e===void 0?void 0:e.call(n)),w=he(h.value,(a={"has-breadcrumb":o,"has-footer":l},J(a,"".concat(h.value,"-ghost"),C.value),J(a,"".concat(h.value,"-rtl"),_.value==="rtl"),J(a,"".concat(h.value,"-compact"),R.value),a));return f(pe,{onResize:$},{default:function(){return[f("div",{class:w},[B(),m(),d.length?p(d):null,g()])]}})}}});const Ge=de(Ze),Ke=j({name:"PageFooter",inheritAttrs:!1}),Qe=j({...Ke,setup(s){const{prefixCls:t}=ne("page-footer"),{getCalcContentWidth:i}=ye();return(v,n)=>(E(),U("div",{class:N(c(t)),style:oe({width:c(i)})},[Y("div",{class:N(`${c(t)}__left`)},[S(v.$slots,"left",{},void 0,!0)],2),S(v.$slots,"default",{},void 0,!0),Y("div",{class:N(`${c(t)}__right`)},[S(v.$slots,"right",{},void 0,!0)],2)],6))}});const le=He(Qe,[["__scopeId","data-v-d610c2bf"]]);function et(s){let t;$e(()=>{s(),W(()=>{t=!0})}),ke(()=>{t&&s()})}function tt(s,t,i,v,n=0,k=x(0)){const h=x(null),{footerHeightRef:_}=Le();let y={useLayoutFooter:!0};const R=u=>{y=u};function A(){W(()=>{F()})}function $(u,B="all"){function m(r){return Number(r.replace(/[^\d]/g,""))}let g=0;const p="0px";if(u){const r=getComputedStyle(u),e=m(r?.marginTop??p),a=m(r?.marginBottom??p),o=m(r?.paddingTop??p),l=m(r?.paddingBottom??p);B==="all"?(g+=e,g+=a,g+=o,g+=l):B==="top"?(g+=e,g+=o):(g+=a,g+=l)}return g}function C(u){return u==null?null:u instanceof HTMLDivElement?u:u.$el}async function F(){if(!s.value)return;await W();const u=C(c(t));if(!u)return;const{bottomIncludeBody:B}=Ce(u);let m=0;i.forEach(o=>{m+=C(c(o))?.offsetHeight??0});let g=$(u)??0;v.forEach(o=>{g+=$(C(c(o)))});let p=0;function r(o,l){if(o&&l){const d=o.parentElement;d&&(Be(l)?d.classList.contains(l)?p+=$(d,"bottom"):(p+=$(d,"bottom"),r(d,l)):Pe(l)&&l>0&&(p+=$(d,"bottom"),r(d,--l)))}}Fe(n)?r(u,c(n)):r(u,n);let e=B-c(_)-c(k)-m-g-p;const a=()=>{y.elements?.forEach(o=>{e+=C(c(o))?.offsetHeight??0})};y.useLayoutFooter&&c(_)>0,a(),h.value=e}return et(()=>{W(()=>{F()})}),We(()=>{F()},50,{immediate:!0}),re(()=>[_.value],()=>{F()},{flush:"post",immediate:!0}),{redoHeight:A,setCompensation:R,contentHeight:h}}const at=j({name:"PageWrapper",inheritAttrs:!1}),nt=j({...at,props:{title:b.string,dense:b.bool,ghost:b.bool,content:b.string,contentStyle:{type:Object},contentBackground:b.bool.def(!0),contentFullHeight:b.bool.def(!1),contentClass:b.string,fixedHeight:b.bool,upwardSpace:b.oneOfType([b.number,b.string]).def(0)},setup(s){const t=s,i=Se(),v=we(),n=x(null),k=x(null),h=x(null),_=x(null),{prefixCls:y}=ne("page-wrapper");xe(ot,H(()=>t.fixedHeight));const R=H(()=>t.contentFullHeight),A=H(()=>t.upwardSpace),{redoHeight:$,setCompensation:C,contentHeight:F}=tt(R,n,[k,_],[h],A);C({useLayoutFooter:!0,elements:[_]});const u=H(()=>[y,{[`${y}--dense`]:t.dense},v.class??{}]),B=H(()=>t.content||i?.headerContent||t.title||g.value.length),m=H(()=>i?.leftFooter||i?.rightFooter),g=H(()=>Object.keys(Q(i,"default","leftFooter","rightFooter","headerContent"))),p=H(()=>{const{contentFullHeight:e,contentStyle:a,fixedHeight:o}=t;if(!e)return{...a};const l=`${c(F)}px`;return{...a,minHeight:l,...o?{height:l}:{}}}),r=H(()=>{const{contentBackground:e,contentClass:a}=t;return[`${y}-content`,a,{[`${y}-content-bg`]:e}]});return re(()=>[m.value],()=>{$()},{flush:"post",immediate:!0}),(e,a)=>(E(),U("div",{class:N(c(u)),ref_key:"wrapperRef",ref:n},[c(B)?(E(),ee(c(Ge),je({key:0,ghost:s.ghost,title:s.title},c(Q)(e.$attrs,"class"),{ref_key:"headerRef",ref:k}),Re({default:D(()=>[s.content?(E(),U(Oe,{key:0},[Ee(Ne(s.content),1)],64)):S(e.$slots,"headerContent",{key:1})]),_:2},[Te(c(g),(o,l)=>({name:o,fn:D(d=>[S(e.$slots,o,Ae(Ie(d||{})))])}))]),1040,["ghost","title"])):te("",!0),Y("div",{class:N(["overflow-hidden",c(r)]),style:oe(c(p)),ref_key:"contentRef",ref:h},[S(e.$slots,"default")],6),c(m)?(E(),ee(le,{key:1,ref_key:"footerRef",ref:_},{left:D(()=>[S(e.$slots,"leftFooter")]),right:D(()=>[S(e.$slots,"rightFooter")]),_:3},512)):te("",!0)],2))}});se(le);const gt=se(nt),ot="PageWrapperFixedHeight";export{gt as P,ot as a,et as o};
