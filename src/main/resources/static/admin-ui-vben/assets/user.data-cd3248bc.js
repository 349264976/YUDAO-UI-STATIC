import{bb as s,x as r}from"./index-8b526734.js";import{S as p}from"./index-8e6d9858.js";import{l as m}from"./index-9e9f35a9.js";import{l as d}from"./index-f394e401.js";import"./index-ec19b8e7.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import"./index-d2d20fb4.js";import"./tree-e6981725.js";import"./index-03ea37ad.js";import"./index-3e87b811.js";import"./index-c8168e27.js";import"./index-40f1f97e.js";import"./sortable.esm-f208c0d8.js";import{u as i}from"./useRender-f65ba3eb.js";import{g as n,D as o}from"./dict-5cefafd8.js";import{u as c}from"./index-2d30e53e.js";import{l as u}from"./index-74c73d6c.js";const q=[{title:"用户编号",dataIndex:"id",width:100},{title:"用户名称",dataIndex:"username",width:180},{title:"用户昵称",dataIndex:"nickname",width:100},{title:"部门",dataIndex:"deptId",width:120,customRender:({record:e})=>i.renderTag(e.dept&&e.dept.name)},{title:"手机号码",dataIndex:"mobile",width:120},{title:"状态",dataIndex:"status",width:180,customRender:({record:e})=>(Reflect.has(e,"pendingStatus")||(e.pendingStatus=!1),s(p,{checked:e.status===0,checkedChildren:"已启用",unCheckedChildren:"已禁用",loading:e.pendingStatus,onChange(a){e.pendingStatus=!0;const t=a?0:1,{createMessage:l}=r();c(e.id,t).then(()=>{e.status=t,l.success("已成功修改用户状态")}).catch(()=>{l.error("修改用户状态失败")}).finally(()=>{e.pendingStatus=!1})}}))},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:e})=>i.renderDate(e)}],A=[{label:"用户名称",field:"username",component:"Input",colProps:{span:8}},{label:"手机号码",field:"mobile",component:"Input",colProps:{span:8}},{label:"状态",field:"status",component:"Select",componentProps:{options:n(o.COMMON_STATUS)},colProps:{span:8}},{label:"创建时间",field:"createTime",component:"RangePicker",componentProps:{format:"YYYY-MM-DD HH:mm:ss"},colProps:{span:8}}],Y=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"用户昵称",field:"nickname",required:!0,component:"Input"},{label:"用户头像",field:"avatar",component:"FileUpload",componentProps:{maxCount:1,fileType:"image"}},{label:"归属部门",field:"deptId",required:!0,component:"ApiTreeSelect",componentProps:{api:()=>m(),fieldNames:{label:"name",key:"id",value:"id"},handleTree:"id"}},{label:"手机号码",field:"mobile",required:!0,defaultValue:0,component:"InputNumber"},{label:"邮箱",field:"email",required:!0,component:"Input"},{label:"用户名称",field:"username",component:"Input",dynamicDisabled:({values:e})=>!!e.id},{label:"用户密码",field:"password",component:"InputPassword",ifShow:({values:e})=>!e.id},{label:"用户性别",field:"sex",component:"Select",componentProps:{options:n(o.SYSTEM_USER_SEX)}},{label:"岗位",field:"postIds",component:"ApiSelect",defaultValue:[],componentProps:{api:()=>d(),labelField:"name",valueField:"id",mode:"tags"}},{label:"状态",field:"status",component:"Select",componentProps:{options:n(o.COMMON_STATUS)}},{label:"备注",field:"remark",component:"InputTextArea"}],_=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"用户名称",field:"username",component:"Input",dynamicDisabled:()=>!0},{label:"用户昵称",field:"nickname",component:"Input",dynamicDisabled:()=>!0},{label:"角色",field:"roleIds",component:"ApiSelect",componentProps:{api:()=>u(),labelField:"name",valueField:"id",mode:"tags"}}],v=[{field:"newPassword",label:"新密码",component:"StrengthMeter",componentProps:{placeholder:"新密码"},rules:[{required:!0,message:"请输入新密码"}]},{field:"confirmPassword",label:"确认密码",component:"InputPassword",dynamicRules:({values:e})=>[{required:!0,validator:(a,t)=>t?t!==e.newPassword?Promise.reject("两次输入的密码不一致!"):Promise.resolve():Promise.reject("密码不能为空")}]}];export{_ as a,q as c,Y as f,A as s,v as u};
