import{u as T,B as w}from"./index-b9c40b5d.js";import{u as y,a as I}from"./useForm-8fd7b992.js";import"./index-c3c80eae.js";import{u as i}from"./useRender-7b752cf7.js";import{D as n,g as l}from"./dict-411628cd.js";import{g as S,u as M,c as b}from"./type-26865084.js";import{a as c,H as C,u as t,o as D,c as O,w as x,e as P,ag as R}from"./index-185fe65d.js";const q=[{title:"字典编号",dataIndex:"id",width:100},{title:"字典名称",dataIndex:"name",width:180},{title:"状态",dataIndex:"status",width:180,customRender:({text:a})=>i.renderDict(a,n.COMMON_STATUS)},{title:"备注",dataIndex:"remark",width:180},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:a})=>i.renderDate(a)}],$=[{label:"字典名称",field:"name",component:"Input",colProps:{span:8}},{label:"状态",field:"status",component:"Select",componentProps:{options:l(n.COMMON_STATUS)},colProps:{span:8}}],F=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"字典名称",field:"name",required:!0,component:"Input"},{label:"字典类型",field:"type",required:!0,component:"Input"},{label:"状态",field:"status",component:"Select",defaultValue:0,componentProps:{options:l(n.COMMON_STATUS)}},{label:"备注",field:"remark",component:"InputTextArea"}],k=c({name:"SystemDictTypeModal"}),E=c({...k,emits:["success","register"],setup(a,{emit:d}){const s=C(!0),[p,{setFieldsValue:m,resetFields:u,validate:f}]=y({labelWidth:120,baseColProps:{span:24},schemas:F,showActionButtonGroup:!1,actionColOptions:{span:23}}),[_,{setModalProps:o,closeModal:g}]=T(async e=>{if(u(),o({confirmLoading:!1}),s.value=!!e?.isUpdate,t(s)){const r=await S(e.record.id);m({...r})}});async function h(){try{const e=await f();o({confirmLoading:!0}),t(s)?await M(e):await b(e),g(),d("success")}finally{o({confirmLoading:!1})}}return(e,r)=>(D(),O(t(w),R(e.$attrs,{onRegister:t(_),title:s.value?"编辑":"新增",onOk:h}),{default:x(()=>[P(t(I),{onRegister:t(p)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{E as _,$ as a,q as t};
