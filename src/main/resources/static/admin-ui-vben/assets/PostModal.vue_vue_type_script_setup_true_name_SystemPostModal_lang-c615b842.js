import{u as g,B as w}from"./index-b9c40b5d.js";import{u as b,a as P}from"./useForm-8fd7b992.js";import"./index-c3c80eae.js";import{u as i}from"./useRender-7b752cf7.js";import{D as n,g as l}from"./dict-411628cd.js";import{g as M,u as S,c as x}from"./index-8a7feea2.js";import{a as c,H as T,u as t,o as O,c as C,w as R,e as k,ag as y}from"./index-185fe65d.js";const V=[{title:"岗位编号",dataIndex:"id",width:100},{title:"岗位名称",dataIndex:"name",width:180},{title:"岗位编码",dataIndex:"code",width:100},{title:"岗位顺序",dataIndex:"sort",width:120},{title:"状态",dataIndex:"status",width:180,customRender:({text:a})=>i.renderDict(a,n.COMMON_STATUS)},{title:"备注",dataIndex:"remark",width:180},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:a})=>i.renderDate(a)}],$=[{label:"岗位名称",field:"name",component:"Input",colProps:{span:8}},{label:"岗位编码",field:"code",component:"Input",colProps:{span:8}},{label:"状态",field:"status",component:"Select",componentProps:{options:l(n.COMMON_STATUS)},colProps:{span:8}}],A=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"岗位名称",field:"name",required:!0,component:"Input"},{label:"岗位编码",field:"code",required:!0,component:"Input"},{label:"岗位顺序",field:"sort",required:!0,component:"InputNumber"},{label:"状态",field:"status",component:"Select",defaultValue:0,componentProps:{options:l(n.COMMON_STATUS)}},{label:"备注",field:"remark",component:"InputTextArea"}],B=c({name:"SystemPostModal"}),E=c({...B,emits:["success","register"],setup(a,{emit:d}){const o=T(!0),[m,{setFieldsValue:p,resetFields:u,validate:f}]=b({labelWidth:120,baseColProps:{span:24},schemas:A,showActionButtonGroup:!1,actionColOptions:{span:23}}),[h,{setModalProps:s,closeModal:I}]=g(async e=>{if(u(),s({confirmLoading:!1}),o.value=!!e?.isUpdate,t(o)){const r=await M(e.record.id);p({...r})}});async function _(){try{const e=await f();s({confirmLoading:!0}),t(o)?await S(e):await x(e),I(),d("success")}finally{s({confirmLoading:!1})}}return(e,r)=>(O(),C(t(w),y(e.$attrs,{onRegister:t(h),title:o.value?"编辑":"新增",onOk:_}),{default:R(()=>[k(t(P),{onRegister:t(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{E as _,V as c,$ as s};
