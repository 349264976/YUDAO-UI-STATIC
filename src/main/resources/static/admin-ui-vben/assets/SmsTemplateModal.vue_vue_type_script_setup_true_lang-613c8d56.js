import{a as g,c as _,z as M,k as e,o as S,j as h,w,n as T,ag as v,x as y}from"./index-8b526734.js";import{u as B,_ as k}from"./useForm-f7dccb87.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import{a as x,B as C}from"./index-40f1f97e.js";import{f as F,g as R,u as b,c as L}from"./smsTemplate.data-fd40ce03.js";const j=g({name:"SystemSmsTemplateModal",__name:"SmsTemplateModal",emits:["success","register"],setup(P,{emit:n}){const{t}=_(),{createMessage:i}=y(),a=M(!0),[c,{setFieldsValue:l,resetFields:m,validate:u}]=B({labelWidth:120,baseColProps:{span:24},schemas:F,showActionButtonGroup:!1,actionColOptions:{span:23}}),[p,{setModalProps:o,closeModal:d}]=x(async s=>{if(m(),o({confirmLoading:!1}),a.value=!!s?.isUpdate,e(a)){const r=await R(s.record.id);l({...r})}});async function f(){try{const s=await u();o({confirmLoading:!0}),e(a)?await b(s):await L(s),d(),n("success"),i.success(t("common.saveSuccessText"))}finally{o({confirmLoading:!1})}}return(s,r)=>(S(),h(e(C),v(s.$attrs,{onRegister:e(p),title:a.value?e(t)("action.edit"):e(t)("action.create"),onOk:f}),{default:w(()=>[T(e(k),{onRegister:e(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{j as _};
