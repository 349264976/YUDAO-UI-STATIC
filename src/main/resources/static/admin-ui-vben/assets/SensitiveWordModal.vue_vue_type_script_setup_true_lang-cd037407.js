import{cm as o,a as _,c as x,z as M,k as t,o as I,j as P,w as T,n as b,ag as y,x as O}from"./index-8b526734.js";import{u as R,_ as W}from"./useForm-f7dccb87.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import{a as C,B as k}from"./index-40f1f97e.js";import"./index-ec19b8e7.js";import"./index-d2d20fb4.js";import"./tree-e6981725.js";import"./index-03ea37ad.js";import"./index-3e87b811.js";import"./index-c8168e27.js";import"./sortable.esm-f208c0d8.js";import{u as i}from"./useRender-f65ba3eb.js";import{D as c,g as l}from"./dict-5cefafd8.js";const K=[{title:"编号",dataIndex:"id",width:100},{title:"敏感词",dataIndex:"name",width:180},{title:"状态",dataIndex:"status",width:180,customRender:({text:e})=>i.renderDict(e,c.COMMON_STATUS)},{title:"描述",dataIndex:"description",width:200},{title:"标签",dataIndex:"tags",width:180,customRender:({text:e})=>i.renderTags(e)},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:e})=>i.renderDate(e)}],Q=[{label:"敏感词",field:"name",component:"Input",colProps:{span:8}},{label:"标签",field:"tag",component:"Input",colProps:{span:8}},{label:"状态",field:"status",component:"Select",componentProps:{options:l(c.COMMON_STATUS)},colProps:{span:8}},{label:"创建时间",field:"createTime",component:"RangePicker",colProps:{span:8}}],A=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"敏感词",field:"name",required:!0,component:"Input"},{label:"状态",field:"status",component:"Select",componentProps:{options:l(c.COMMON_STATUS)}},{label:"备注",field:"remark",component:"InputTextArea"},{label:"标签",field:"tags",required:!0,component:"Select",componentProps:{mode:"tags",options:[]}}];function X(e){return o.get({url:"/system/sensitive-word/page",params:e})}function B(e){return o.get({url:"/system/sensitive-word/get?id="+e})}function D(e){return o.post({url:"/system/sensitive-word/create",data:e})}function F(e){return o.put({url:"/system/sensitive-word/update",data:e})}function Z(e){return o.delete({url:"/system/sensitive-word/delete?id="+e})}function ee(e){return o.download({url:"/system/sensitive-word/export-excel",params:e},"导出敏感词.xls")}const te=_({name:"SystemSensitiveWordModal",__name:"SensitiveWordModal",emits:["success","register"],setup(e,{emit:m}){const{t:a}=x(),{createMessage:p}=O(),n=M(!0),[u,{setFieldsValue:f,resetFields:g,validate:S}]=R({labelWidth:120,baseColProps:{span:24},schemas:A,showActionButtonGroup:!1,actionColOptions:{span:23}}),[w,{setModalProps:r,closeModal:v}]=C(async s=>{if(g(),r({confirmLoading:!1}),n.value=!!s?.isUpdate,t(n)){const d=await B(s.record.id);f({...d})}});async function h(){try{const s=await S();r({confirmLoading:!0}),t(n)?await F(s):await D(s),v(),m("success"),p.success(a("common.saveSuccessText"))}finally{r({confirmLoading:!1})}}return(s,d)=>(I(),P(t(k),y(s.$attrs,{onRegister:t(w),title:n.value?t(a)("action.edit"):t(a)("action.create"),onOk:h}),{default:T(()=>[b(t(W),{onRegister:t(u)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{te as _,K as c,Z as d,ee as e,X as g,Q as s};
