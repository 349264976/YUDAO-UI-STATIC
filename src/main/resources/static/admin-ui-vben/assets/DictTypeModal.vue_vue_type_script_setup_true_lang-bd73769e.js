import{a as M,c as y,z as S,k as e,o as w,j as I,w as b,n as x,ag as D,x as C}from"./index-8b526734.js";import{u as O,_ as P}from"./useForm-f7dccb87.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import{a as R,B as k}from"./index-40f1f97e.js";import"./index-ec19b8e7.js";import"./index-d2d20fb4.js";import"./tree-e6981725.js";import"./index-03ea37ad.js";import"./index-3e87b811.js";import"./index-c8168e27.js";import"./sortable.esm-f208c0d8.js";import{u as c}from"./useRender-f65ba3eb.js";import{D as r,g as l}from"./dict-5cefafd8.js";import{g as F,u as v,c as A}from"./type-291341e4.js";const K=[{title:"字典编号",dataIndex:"id",width:100},{title:"字典名称",dataIndex:"name",width:180},{title:"状态",dataIndex:"status",width:180,customRender:({text:a})=>c.renderDict(a,r.COMMON_STATUS)},{title:"备注",dataIndex:"remark",width:180},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:a})=>c.renderDate(a)}],Q=[{label:"字典名称",field:"name",component:"Input",colProps:{span:8}},{label:"状态",field:"status",component:"Select",componentProps:{options:l(r.COMMON_STATUS)},colProps:{span:8}}],B=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"字典名称",field:"name",required:!0,component:"Input"},{label:"字典类型",field:"type",required:!0,component:"Input"},{label:"状态",field:"status",component:"Select",componentProps:{options:l(r.COMMON_STATUS)}},{label:"备注",field:"remark",component:"InputTextArea"}],X=M({name:"SystemDictTypeModal",__name:"DictTypeModal",emits:["success","register"],setup(a,{emit:p}){const{t:o}=y(),{createMessage:m}=C(),s=S(!0),[d,{setFieldsValue:u,resetFields:f,validate:g}]=O({labelWidth:120,baseColProps:{span:24},schemas:B,showActionButtonGroup:!1,actionColOptions:{span:23}}),[T,{setModalProps:n,closeModal:_}]=R(async t=>{if(f(),n({confirmLoading:!1}),s.value=!!t?.isUpdate,e(s)){const i=await F(t.record.id);u({...i})}});async function h(){try{const t=await g();n({confirmLoading:!0}),e(s)?await v(t):await A(t),_(),p("success"),m.success(o("common.saveSuccessText"))}finally{n({confirmLoading:!1})}}return(t,i)=>(w(),I(e(k),D(t.$attrs,{onRegister:e(T),title:s.value?e(o)("action.edit"):e(o)("action.create"),onOk:h}),{default:b(()=>[x(e(P),{onRegister:e(d)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{X as _,Q as a,K as t};
