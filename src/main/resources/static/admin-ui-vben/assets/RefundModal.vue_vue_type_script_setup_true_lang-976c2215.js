import{a as p,B as m}from"./index-40f1f97e.js";import{D as u}from"./index-0f4dcf74.js";import{g as f}from"./index-5e56383b.js";import{cm as d,a as h,z as R,o as _,j as b,w as D,n as P,k as n,ag as I}from"./index-8b526734.js";import"./index-ec19b8e7.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import"./index-d2d20fb4.js";import"./tree-e6981725.js";import"./index-03ea37ad.js";import"./index-3e87b811.js";import"./index-c8168e27.js";import"./sortable.esm-f208c0d8.js";import{u as t}from"./useRender-f65ba3eb.js";import{D as r,g as a}from"./dict-5cefafd8.js";const k=[{title:"编号",dataIndex:"id",width:100},{title:"支付渠道",children:[{title:"商户名称",dataIndex:"merchantName",width:120},{title:"应用名称",dataIndex:"appName",width:120},{title:"渠道名称",dataIndex:"channelCodeName",width:160}]},{title:"商户订单号",children:[{title:"退款",dataIndex:"merchantRefundNo",width:200},{title:"交易",dataIndex:"merchantOrderId",width:100}]},{title:"支付订单号",children:[{title:"交易",dataIndex:"tradeNo",width:100},{title:"渠道",dataIndex:"channelOrderNo",width:200}]},{title:"支付金额(元)",dataIndex:"payAmount",width:120,customRender:({text:e})=>"￥"+parseFloat(e/100).toFixed(2)},{title:"退款金额(元)",dataIndex:"refundAmount",width:120,customRender:({text:e})=>"￥"+parseFloat(e/100).toFixed(2)},{title:"退款类型",dataIndex:"type",width:100,customRender:({text:e})=>t.renderDict(e,r.PAY_REFUND_ORDER_TYPE)},{title:"退款状态",dataIndex:"status",width:100,customRender:({text:e})=>t.renderDict(e,r.PAY_REFUND_ORDER_STATUS)},{title:"回调状态",dataIndex:"notifyStatus",width:100,customRender:({text:e})=>t.renderDict(e,r.PAY_ORDER_NOTIFY_STATUS)},{title:"退款原因",dataIndex:"reason",width:100},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:e})=>t.renderDate(e)},{title:"退款成功时间",dataIndex:"successTime",width:180,customRender:({text:e})=>t.renderDate(e)}],L=[{label:"所属商户",field:"merchantId",component:"ApiSelect",componentProps:{api:()=>f("")},colProps:{span:8}},{label:"应用编号",field:"appId",component:"Input",colProps:{span:8}},{label:"渠道编码",field:"channelCode",component:"Select",componentProps:{options:a(r.PAY_CHANNEL_CODE_TYPE)},colProps:{span:8}},{label:"退款类型",field:"type",component:"Select",componentProps:{options:a(r.PAY_REFUND_ORDER_TYPE)},colProps:{span:8}},{label:"商户退款订单号",field:"merchantRefundNo",component:"Input",colProps:{span:8}},{label:"应用编号",field:"appId",component:"Input",colProps:{span:8}},{label:"退款状态",field:"status",component:"Select",componentProps:{options:a(r.PAY_REFUND_ORDER_STATUS)},colProps:{span:8}},{label:"退款回调状态",field:"notifyStatus",component:"Select",componentProps:{options:a(r.PAY_ORDER_NOTIFY_STATUS)},colProps:{span:8}},{label:"创建时间",field:"createTime",component:"RangePicker",colProps:{span:8}}],T=[{label:"商户名称",field:"merchantName"},{label:"应用名称",field:"appName"},{label:"商品名称",field:"subject"},{label:"商户退款单号",field:"merchantRefundNo",render:e=>t.renderTag(e)},{label:"商户订单号",field:"merchantOrderId"},{label:"支付金额",field:"payAmount",render:e=>"￥"+parseFloat(e/100).toFixed(2)},{label:"退款金额",field:"refundAmount",render:e=>"￥"+parseFloat(e/100).toFixed(2)},{label:"退款类型",field:"type",render:e=>t.renderDict(e,r.PAY_REFUND_ORDER_TYPE)},{label:"退款状态",field:"status",render:e=>t.renderDict(e,r.PAY_REFUND_ORDER_STATUS)},{label:"创建时间",field:"createTime",render:e=>t.renderDate(e)},{label:"退款成功时间",field:"successTime",render:e=>t.renderDate(e)},{label:"退款失效时间",field:"expireTime",render:e=>t.renderDate(e)},{label:"更新时间",field:"updateTime",render:e=>t.renderDate(e)},{label:"支付渠道",field:"channelCodeName"},{label:"支付IP",field:"userIp"},{label:"回调地址",field:"notifyUrl"},{label:"回调状态",field:"notifyStatus",render:e=>t.renderDict(e,r.PAY_ORDER_NOTIFY_STATUS)},{label:"回调时间",field:"notifyTime",render:e=>t.renderDate(e)},{label:"渠道订单号",field:"channelOrderNo"},{label:"渠道退款单号",field:"channelRefundNo"},{label:"渠道错误码",field:"channelErrorCode"},{label:"渠道错误码描述",field:"notifchannelErrorMsgyUrl"},{label:"渠道额外参数",field:"channelExtras"},{label:"退款原因",field:"reason"}];function j(e){return d.get({url:"/pay/refund/page",params:e})}function x(e){return d.get({url:"/pay/refund/get?id="+e})}function v(e){return d.download({url:"/pay/refund/export-excel",params:e},"退款订单.xls")}const H=h({name:"PayRefundModal",__name:"RefundModal",setup(e){const o=R(),[s,{setModalProps:c}]=p(async l=>{c({confirmLoading:!1});const i=await x(l.record.id);o.value=i});return(l,i)=>(_(),b(n(m),I(l.$attrs,{width:"60%",onRegister:n(s),title:"查看详情",showOkBtn:!1}),{default:D(()=>[P(n(u),{bordered:!1,column:3,data:o.value,schema:n(T)},null,8,["data","schema"])]),_:1},16,["onRegister"]))}});export{H as _,k as c,v as e,j as g,L as s};
