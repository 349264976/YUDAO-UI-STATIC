import{a as w,c as _,z as I,k as e,o as M,j as b,w as x,n as T,ag as v,x as P}from"./index-8b526734.js";import{u as R,_ as S}from"./useForm-f7dccb87.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import{a as B,B as F}from"./index-40f1f97e.js";import{f as k}from"./index-6dcbd942.js";import"./index-ec19b8e7.js";import"./index-d2d20fb4.js";import"./tree-e6981725.js";import"./index-03ea37ad.js";import"./index-3e87b811.js";import"./index-c8168e27.js";import"./sortable.esm-f208c0d8.js";import{u as y}from"./useRender-f65ba3eb.js";import{g as C,u as A,c as L}from"./index-0c3bd330.js";const Q=[{title:"编号",dataIndex:"id",width:100},{title:"标签名称",dataIndex:"name",width:180},{title:"粉丝数",dataIndex:"count",width:100},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:n})=>y.renderDate(n)}],r=await k(),X=[{label:"公众号",field:"accountId",component:"Select",required:!0,defaultValue:r[0].id,componentProps:{options:r,fieldNames:{label:"name",value:"id"}},colProps:{span:8}},{label:"标签名称",field:"name",component:"Input",colProps:{span:8}}],O=[{label:"编号",field:"id",show:!1,component:"Input"},{label:"标签名称",field:"name",required:!0,component:"Input"}],Y=w({name:"MpTagModal",__name:"TagModal",emits:["success","register"],setup(n,{emit:c}){const{t:s}=_(),{createMessage:l}=P(),a=I(!0),[m,{setFieldsValue:d,resetFields:p,validate:u}]=R({labelWidth:120,baseColProps:{span:24},schemas:O,showActionButtonGroup:!1,actionColOptions:{span:23}}),[f,{setModalProps:o,closeModal:g}]=B(async t=>{if(p(),o({confirmLoading:!1}),a.value=!!t?.isUpdate,e(a)){const i=await C(t.record.id);d({...i})}});async function h(){try{const t=await u();o({confirmLoading:!0}),e(a)?await A(t):await L(t),g(),c("success"),l.success(s("common.saveSuccessText"))}finally{o({confirmLoading:!1})}}return(t,i)=>(M(),b(e(F),v(t.$attrs,{onRegister:e(f),title:a.value?e(s)("action.edit"):e(s)("action.create"),onOk:h}),{default:x(()=>[T(e(S),{onRegister:e(m)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{Y as _,Q as c,X as s};
