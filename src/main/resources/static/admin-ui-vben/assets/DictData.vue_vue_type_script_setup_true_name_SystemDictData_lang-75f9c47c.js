import{a as h,i as k,fa as w,X as x,j as E,bc as T,o as s,f as v,e as f,w as n,L as M,c as p,u as e,I as c,k as R,af as $,h as B,fb as N,l as V}from"./index-185fe65d.js";import{a as j}from"./index-b9c40b5d.js";import{d as F,a as L,_ as O}from"./DictDataModal.vue_vue_type_script_setup_true_name_SystemDictDataModal_lang-55fef4dc.js";import{_ as U}from"./index-c3c80eae.js";import{_ as A}from"./useForm-8fd7b992.js";import{u as P}from"./useTable-e1aa62c8.js";import"./index-3ea574b4.js";import"./index-ea6c9550.js";const W=h({name:"SystemDictData"}),Y=h({...W,props:{searchInfo:{type:Object,default:()=>({})}},setup(r){const i=r,{t}=k(),{createMessage:_}=V(),[b,{openModal:l}]=j(),[g,{reload:o}]=P({title:"字典数据列表",api:w,columns:F,formConfig:{labelWidth:120,schemas:L,autoSubmitOnEnter:!0},useSearchForm:!0,showTableSetting:!0,showIndexColumn:!1,actionColumn:{width:140,title:t("common.action"),dataIndex:"action",fixed:"right"}});function D(){l(!0,{record:i.searchInfo.dictType,isUpdate:!1})}function I(a){l(!0,{record:a,isUpdate:!0})}async function y(a){await N(a.id),_.success(t("common.delSuccessText")),o()}return x(()=>i.searchInfo,a=>{a&&o()},{deep:!0}),(a,m)=>{const C=E("a-button"),S=T("auth");return s(),v("div",null,[f(e(U),{onRegister:e(g),searchInfo:r.searchInfo},{toolbar:n(()=>[M((s(),p(C,{type:"primary",preIcon:e(c).ADD,onClick:D},{default:n(()=>[R($(e(t)("action.create")),1)]),_:1},8,["preIcon"])),[[S,["system:dict:create"]]])]),bodyCell:n(({column:u,record:d})=>[u.key==="action"?(s(),p(e(A),{key:0,actions:[{icon:e(c).EDIT,label:e(t)("action.edit"),auth:"system:dict:update",onClick:I.bind(null,d)},{icon:e(c).DELETE,color:"error",label:e(t)("action.delete"),auth:"system:dict:delete",popConfirm:{title:e(t)("common.delMessage"),placement:"left",confirm:y.bind(null,d)}}]},null,8,["actions"])):B("",!0)]),_:1},8,["onRegister","searchInfo"]),f(O,{onRegister:e(b),onSuccess:m[0]||(m[0]=u=>e(o)())},null,8,["onRegister"])])}}});export{Y as _};
