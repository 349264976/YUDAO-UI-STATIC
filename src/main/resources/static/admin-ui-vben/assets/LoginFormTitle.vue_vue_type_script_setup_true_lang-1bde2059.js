import{H as y,B as r,u as t,i as f,a as p,o as h,f as O,af as v}from"./index-185fe65d.js";var c=(e=>(e[e.LOGIN=0]="LOGIN",e[e.REGISTER=1]="REGISTER",e[e.RESET_PASSWORD=2]="RESET_PASSWORD",e[e.MOBILE=3]="MOBILE",e[e.QR_CODE=4]="QR_CODE",e))(c||{});const g=y(0);function I(){function e(s){g.value=s}const o=r(()=>g.value);function n(){e(0)}return{setLoginState:e,getLoginState:o,handleBackLogin:n}}function b(e){const o=r(()=>t(e)?.validate??(a=>Promise.resolve()));async function n(){const s=t(e);return s?await s.validate():void 0}return{validate:o,validForm:n}}function x(e){const{t:o}=f(),n=r(()=>m(o("sys.login.accountPlaceholder"))),s=r(()=>m(o("sys.login.passwordPlaceholder"))),a=r(()=>m(o("sys.login.smsPlaceholder"))),R=r(()=>m(o("sys.login.mobilePlaceholder"))),F=async(l,i)=>i?Promise.resolve():Promise.reject(o("sys.login.policyPlaceholder")),P=l=>async(i,u)=>u?u!==l?Promise.reject(o("sys.login.diffPwd")):Promise.resolve():Promise.reject(o("sys.login.passwordPlaceholder"));return{getFormRules:r(()=>{const l=t(n),i=t(s),u=t(a),_=t(R),d={sms:u,mobile:_};switch(t(g)){case 1:return{account:l,password:i,confirmPassword:[{validator:P(e?.password),trigger:"change"}],policy:[{validator:F,trigger:"change"}],...d};case 2:return{account:l,...d};case 3:return d;default:return{account:l,password:i}}})}}function m(e){return[{required:!0,message:e,trigger:"change"}]}const T={class:"mb-3 text-2xl font-bold text-center xl:text-3xl enter-x xl:text-left"},E=p({__name:"LoginFormTitle",setup(e){const{t:o}=f(),{getLoginState:n}=I(),s=r(()=>({[c.RESET_PASSWORD]:o("sys.login.forgetFormTitle"),[c.LOGIN]:o("sys.login.signInFormTitle"),[c.REGISTER]:o("sys.login.signUpFormTitle"),[c.MOBILE]:o("sys.login.mobileSignInFormTitle"),[c.QR_CODE]:o("sys.login.qrSignInFormTitle")})[t(n)]);return(a,R)=>(h(),O("h2",T,v(t(s)),1))}});export{c as L,E as _,x as a,b,I as u};
