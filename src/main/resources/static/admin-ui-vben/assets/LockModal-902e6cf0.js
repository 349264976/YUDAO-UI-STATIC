import{a as S,b as B,bl as I,f as c,s as L,o as $,j as b,w as l,i as t,q as s,k as e,t as m,n as p,v as C,ag as M,c as x}from"./index-8b526734.js";import{u as R,_ as F}from"./useForm-f7dccb87.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import{a as N,B as P}from"./index-40f1f97e.js";import{u as U}from"./lock-53a0bead.js";import{h as V}from"./header-b0e9d88a.js";import"./index-03ea37ad.js";import"./index-3e87b811.js";import"./_baseIteratee-625e56a9.js";import"./get-11175361.js";import"./useSize-5af631ed.js";import"./index-c8168e27.js";import"./_stringToArray-c38191b3.js";import"./index-42686290.js";import"./uniqBy-f83999c6.js";import"./index-9e517d44.js";import"./index-d2d20fb4.js";import"./index-7aea77c8.js";import"./index-50e4b4b2.js";import"./index-8e6d9858.js";import"./index-47ca6c32.js";import"./tree-e6981725.js";import"./eagerComputed-6290a54f.js";import"./onMountedOrActivated-13e9417a.js";import"./index-081b541d.js";import"./useRefs-872c0ad6.js";import"./index-c8286d7f.js";import"./useWindowSizeFn-38cd0f6d.js";import"./FullscreenOutlined-8b988545.js";const q=["src"],_e=S({name:"LockModal",__name:"LockModal",setup(D){const{t:r}=x(),{prefixCls:o}=B("header-lock-modal"),n=I(),u=U(),d=c(()=>n.getUserInfo?.user.nickname),[_,{closeModal:f}]=N(),[k,{validateFields:g,resetFields:h}]=R({showActionButtonGroup:!1,schemas:[{field:"password",label:r("layout.header.lockScreenPassword"),colProps:{span:24},component:"InputPassword",required:!0}]});async function v(){const i=(await g()).password;f(),u.setLockInfo({isLock:!0,pwd:i}),await h()}const w=c(()=>{const{avatar:a}=n.getUserInfo.user;return a||V});return(a,i)=>{const y=L("a-button");return $(),b(e(P),M({footer:null,title:e(r)("layout.header.lockScreen")},a.$attrs,{class:e(o),onRegister:e(_)}),{default:l(()=>[t("div",{class:s(`${e(o)}__entry`)},[t("div",{class:s(`${e(o)}__header`)},[t("img",{src:w.value,class:s(`${e(o)}__header-img`)},null,10,q),t("p",{class:s(`${e(o)}__header-name`)},m(d.value),3)],2),p(e(F),{onRegister:e(k)},null,8,["onRegister"]),t("div",{class:s(`${e(o)}__footer`)},[p(y,{type:"primary",block:"",class:"mt-2",onClick:v},{default:l(()=>[C(m(e(r)("layout.header.lockScreenBtn")),1)]),_:1})],2)],2)]),_:1},16,["title","class","onRegister"])}}});export{_e as default};
