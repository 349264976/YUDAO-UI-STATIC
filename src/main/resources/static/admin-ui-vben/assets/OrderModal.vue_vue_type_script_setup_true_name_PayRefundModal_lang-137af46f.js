import{u,B as m}from"./index-b9c40b5d.js";import{D as f}from"./index-a55dbca7.js";import{g as h}from"./index-c85a8cb3.js";import"./index-c3c80eae.js";import"./useForm-8fd7b992.js";import{u as t}from"./useRender-7b752cf7.js";import{D as r,g as n}from"./dict-411628cd.js";import{bD as d,a as s,H as b,o as _,c as T,w as D,e as P,u as a,ag as R}from"./index-185fe65d.js";const Y=[{title:"订单编号",dataIndex:"id",width:100},{title:"支付渠道",children:[{title:"商户名称",dataIndex:"merchantName",width:120},{title:"应用名称",dataIndex:"appName",width:120},{title:"渠道名称",dataIndex:"channelCodeName",width:160}]},{title:"支付订单",children:[{title:"商户",dataIndex:"merchantOrderId",width:100},{title:"支付",dataIndex:"channelOrderNo",width:200}]},{title:"商品标题",dataIndex:"subject",width:200},{title:"支付金额(元)",dataIndex:"amount",width:120,customRender:({text:e})=>"￥"+parseFloat(e||0/100).toFixed(2)},{title:"手续金额(元)",dataIndex:"channelFeeAmount",width:120,customRender:({text:e})=>"￥"+parseFloat(e||0/100).toFixed(2)},{title:"退款金额(元)",dataIndex:"refundAmount",width:120,customRender:({text:e})=>"￥"+parseFloat(e||0/100).toFixed(2)},{title:"支付状态",dataIndex:"status",width:100,customRender:({text:e})=>t.renderDict(e,r.PAY_ORDER_STATUS)},{title:"回调状态",dataIndex:"notifyStatus",width:100,customRender:({text:e})=>t.renderDict(e,r.PAY_ORDER_NOTIFY_STATUS)},{title:"创建时间",dataIndex:"createTime",width:180,customRender:({text:e})=>t.renderDate(e)},{title:"支付时间",dataIndex:"successTime",width:180,customRender:({text:e})=>t.renderDate(e)}],U=[{label:"所属商户",field:"merchantId",component:"ApiSelect",componentProps:{api:()=>h("")},colProps:{span:8}},{label:"应用编号",field:"appId",component:"Input",colProps:{span:8}},{label:"渠道编码",field:"channelCode",component:"Select",componentProps:{options:n(r.PAY_CHANNEL_CODE_TYPE)},colProps:{span:8}},{label:"商户订单编号",field:"merchantOrderId",component:"Input",colProps:{span:8}},{label:"渠道订单号",field:"channelOrderNo",component:"Input",colProps:{span:8}},{label:"支付状态",field:"status",component:"Select",componentProps:{options:n(r.PAY_ORDER_STATUS)},colProps:{span:8}},{label:"退款状态",field:"refundStatus",component:"Select",componentProps:{options:n(r.PAY_ORDER_REFUND_STATUS)},colProps:{span:8}},{label:"回调商户状态",field:"notifyStatus",component:"Select",componentProps:{options:n(r.PAY_ORDER_NOTIFY_STATUS)},colProps:{span:8}},{label:"创建时间",field:"createTime",component:"RangePicker",colProps:{span:8}}],x=[{label:"商户名称",field:"merchantName"},{label:"应用名称",field:"appName"},{label:"商品名称",field:"subject"},{label:"商户订单号",field:"merchantOrderId",render:e=>t.renderTag(e)},{label:"渠道订单号",field:"channelOrderNo",render:e=>t.renderTag(e)},{label:"支付订单号",field:"payOrderExtension.no",render:e=>t.renderTag(e)},{label:"支付金额",field:"amount",render:e=>"￥"+parseFloat(e||0/100).toFixed(2)},{label:"手续费",field:"channelFeeAmount",render:e=>"￥"+parseFloat(e||0/100).toFixed(2)},{label:"手续费比例",field:"channelFeeRate",render:e=>parseFloat(e||0/100).toFixed(2)+"%"},{label:"支付状态",field:"status",render:e=>t.renderDict(e,r.PAY_ORDER_STATUS)},{label:"回调状态",field:"notifyStatus",render:e=>t.renderDict(e,r.PAY_ORDER_NOTIFY_STATUS)},{label:"回调地址",field:"notifyUrl"},{label:"创建时间",field:"createTime",render:e=>t.renderDate(e)},{label:"支付时间",field:"successTime",render:e=>t.renderDate(e)},{label:"失效时间",field:"expireTime",render:e=>t.renderDate(e)},{label:"通知时间",field:"notifyTime",render:e=>t.renderDate(e)},{label:"支付渠道",field:"channelCodeName"},{label:"支付IP",field:"userIp"},{label:"退款状态",field:"notifyStatus",render:e=>t.renderDict(e,r.PAY_ORDER_REFUND_STATUS)},{label:"退款次数",field:"refundTimes"},{label:"退款金额",field:"refundAmount",render:e=>"￥"+parseFloat(e/100).toFixed(2)},{label:"商品描述",field:"body"},{label:"支付通道异步回调内容",field:"payOrderExtension.channelNotifyData"}];function C(e){return d.get({url:"/pay/order/page",params:e})}function I(e){return d.get({url:"/pay/order/get-detail?id="+e})}function B(e){return d.download({url:"/pay/order/export-excel",params:e},"支付订单.xls")}const S=s({name:"PayRefundModal"}),M=s({...S,setup(e){const o=b(),[c,{setModalProps:p}]=u(async l=>{p({confirmLoading:!1});const i=await I(l.record.id);o.value=i});return(l,i)=>(_(),T(a(m),R(l.$attrs,{width:"60%",onRegister:a(c),title:"查看详情",showOkBtn:!1}),{default:D(()=>[P(a(f),{bordered:!1,column:3,data:o.value,schema:a(x)},null,8,["data","schema"])]),_:1},16,["onRegister"]))}});export{M as _,Y as c,B as e,C as g,U as s};
