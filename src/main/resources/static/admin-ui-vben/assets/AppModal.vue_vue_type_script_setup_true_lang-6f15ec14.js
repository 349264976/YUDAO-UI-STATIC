import{a as g,c as _,z as M,k as e,o as h,j as w,w as A,n as v,ag as y,x as B}from"./index-8b526734.js";import{u as k,_ as x}from"./useForm-f7dccb87.js";import"./BasicForm.vue_vue_type_style_index_0_lang-42e5fba8.js";import{a as C,B as F}from"./index-40f1f97e.js";import{f as P,g as R,u as b,c as L}from"./app.data-c93b5012.js";const j=g({name:"PayAppModal",__name:"AppModal",emits:["success","register"],setup(S,{emit:n}){const{t}=_(),{createMessage:i}=B(),a=M(!0),[c,{setFieldsValue:l,resetFields:p,validate:m}]=k({labelWidth:120,baseColProps:{span:24},schemas:P,showActionButtonGroup:!1,actionColOptions:{span:23}}),[u,{setModalProps:o,closeModal:d}]=C(async s=>{if(p(),o({confirmLoading:!1}),a.value=!!s?.isUpdate,e(a)){const r=await R(s.record.id);l({...r})}});async function f(){try{const s=await m();o({confirmLoading:!0}),e(a)?await b(s):await L(s),d(),n("success"),i.success(t("common.saveSuccessText"))}finally{o({confirmLoading:!1})}}return(s,r)=>(h(),w(e(F),y(s.$attrs,{onRegister:e(u),title:a.value?e(t)("action.edit"):e(t)("action.create"),onOk:f}),{default:A(()=>[v(e(x),{onRegister:e(c)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{j as _};
