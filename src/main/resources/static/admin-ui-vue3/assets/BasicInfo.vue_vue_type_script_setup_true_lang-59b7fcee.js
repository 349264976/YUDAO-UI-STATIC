import{_ as e}from"./XButton-39866472.js";import{_ as l}from"./Form-a0e23abc.js";import"./base-085523fd.js";import{b as r,E as a}from"./el-radio-group-d1c0e064.js";import{E as s}from"./el-message-7ddf9388.js";import{u as o,g as t}from"./profile-79f323e1.js";import{u as i}from"./useI18n-56d4bc42.js";import{d as m,A as n,r as u,x as p,o as f,i as c,l as d,w as g,k as b,t as _,f as v,F as j}from"./runtime-core.esm-bundler-ccc21fcd.js";const k=m({__name:"BasicInfo",setup(m){const{t:k}=i(),x=n({nickname:[{required:!0,message:k("profile.rules.nickname"),trigger:"blur"}],email:[{required:!0,message:k("profile.rules.mail"),trigger:"blur"},{type:"email",message:k("profile.rules.truemail"),trigger:["blur","change"]}],mobile:[{required:!0,message:k("profile.rules.phone"),trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:k("profile.rules.truephone"),trigger:"blur"}]}),h=n([{field:"nickname",label:k("profile.user.nickname"),component:"Input"},{field:"mobile",label:k("profile.user.mobile"),component:"Input"},{field:"email",label:k("profile.user.email"),component:"Input"},{field:"sex",label:k("profile.user.sex"),component:"InputNumber",value:0}]),w=u(),y=async()=>{var e;const l=await t();null==(e=v(w))||e.setValues(l)};return p((async()=>{await y()})),(t,i)=>{const m=r,n=a,u=l,p=e;return f(),c(j,null,[d(u,{ref_key:"formRef",ref:w,rules:v(x),schema:v(h),labelWidth:80},{sex:g((e=>[d(n,{modelValue:e.sex,"onUpdate:modelValue":l=>e.sex=l},{default:g((()=>[d(m,{label:1},{default:g((()=>[b(_(v(k)("profile.user.man")),1)])),_:1}),d(m,{label:2},{default:g((()=>[b(_(v(k)("profile.user.woman")),1)])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:1},8,["rules","schema"]),d(p,{title:v(k)("common.save"),onClick:i[0]||(i[0]=e=>(()=>{var e;const l=null==(e=v(w))?void 0:e.getElFormRef();l&&l.validate((async e=>{var l;if(e){const e=null==(l=v(w))?void 0:l.formModel;await o(e),s.success(k("common.updateSuccess")),await y()}}))})())},null,8,["title"]),d(p,{type:"danger",title:v(k)("common.reset"),onClick:i[1]||(i[1]=e=>y())},null,8,["title"])],64)}}});export{k as _};
