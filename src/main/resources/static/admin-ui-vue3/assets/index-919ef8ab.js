import{u as O,_ as j,a as B,__tla as q}from"./useTable-d09c9fd9.js";import{d as D,r as P,b as H,A as N,ad as T,O as W,o as m,c as w,i as s,w as _,a as r,B as y,q as f,j as p,g as G,t as z,F as I,k as J,_ as K,H as Q,a4 as V,__tla as X}from"./index-0f589822.js";import{E as Y,__tla as Z}from"./el-image-9c2dd802.js";import{__tla as $}from"./el-image-viewer-863e3dd0.js";import{_ as tt,__tla as at}from"./ContentWrap.vue_vue_type_script_setup_true_lang-0f1e3633.js";import{a as i,S as rt,g as _t,d as lt,__tla as et}from"./SeckillActivityForm-cf9f0987.js";import{g as ot,__tla as ct}from"./seckillConfig-c37a15a6.js";import{c as st,__tla as nt}from"./index-2b69f27f.js";import{__tla as mt}from"./Form-89fb98fc.js";import{__tla as it}from"./el-virtual-list-d5f16f43.js";import{__tla as pt}from"./el-tree-select-df2c08ac.js";import{__tla as ut}from"./el-time-select-a6199faf.js";import{__tla as ft}from"./InputPassword-59b0f616.js";import"./_plugin-vue_export-helper-1b428a4d.js";import{__tla as ht}from"./style.css_vue_type_style_index_0_src_true_lang-317ea815.js";import{__tla as yt}from"./UploadImg-fe783aab.js";import{__tla as dt}from"./useMessage-45ab706e.js";import{__tla as gt}from"./UploadImgs-4f92341d.js";import{__tla as kt}from"./UploadFile.vue_vue_type_style_index_0_scoped_5a2639f8_lang-77946e64.js";import{__tla as Ct}from"./index-331b9b98.js";import{__tla as St}from"./useForm-a9940167.js";import"./download-20922b56.js";import{__tla as vt}from"./el-card-bbdd700f.js";import{__tla as xt}from"./Dialog.vue_vue_type_style_index_0_lang-2d188c85.js";import{__tla as bt}from"./SpuSelect.vue_vue_type_script_setup_true_lang-c17b8a9f.js";import{__tla as Pt}from"./index.vue_vue_type_script_setup_true_lang-75e3d81d.js";import{__tla as wt}from"./index-c338d539.js";import{__tla as zt}from"./Descriptions-add071e6.js";import{__tla as It}from"./el-descriptions-item-41445509.js";import{__tla as Lt}from"./DictTag.vue_vue_type_script_lang-9c2c480d.js";import"./color-a8b4eb58.js";import{__tla as At}from"./dict-f9a1a53b.js";import"./tree-f9b1893a.js";import{__tla as Ut}from"./DescriptionForm.vue_vue_type_script_setup_true_lang-fc21193d.js";import{__tla as Mt}from"./spu.data-4698afe5.js";import{__tla as Rt}from"./useCrudSchemas-9a73989a.js";import{__tla as Et}from"./formRules-04f2a102.js";import{__tla as Ft}from"./OtherSettingsForm.vue_vue_type_script_setup_true_lang-8438943b.js";import{__tla as Ot}from"./el-text-1124a1da.js";import{__tla as jt}from"./SkuList.vue_vue_type_script_setup_true_lang-8927b71a.js";import{__tla as Bt}from"./category-77c014e3.js";import{__tla as qt}from"./brand-9d019f03.js";import{__tla as Dt}from"./index-1853e07d.js";import{__tla as Ht}from"./ProductAttributes.vue_vue_type_script_setup_true_lang-7003f5aa.js";import{__tla as Nt}from"./property-e9306a35.js";import{__tla as Tt}from"./ProductPropertyAddForm.vue_vue_type_script_setup_true_lang-d0459cf7.js";import{__tla as Wt}from"./formatTime-58783104.js";import{__tla as Gt}from"./spu-3234a0da.js";import{__tla as Jt}from"./SpuAndSkuList.vue_vue_type_script_setup_true_lang-e469030d.js";let L,Kt=Promise.all([(()=>{try{return q}catch{}})(),(()=>{try{return X}catch{}})(),(()=>{try{return Z}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return at}catch{}})(),(()=>{try{return et}catch{}})(),(()=>{try{return ct}catch{}})(),(()=>{try{return nt}catch{}})(),(()=>{try{return mt}catch{}})(),(()=>{try{return it}catch{}})(),(()=>{try{return pt}catch{}})(),(()=>{try{return ut}catch{}})(),(()=>{try{return ft}catch{}})(),(()=>{try{return ht}catch{}})(),(()=>{try{return yt}catch{}})(),(()=>{try{return dt}catch{}})(),(()=>{try{return gt}catch{}})(),(()=>{try{return kt}catch{}})(),(()=>{try{return Ct}catch{}})(),(()=>{try{return St}catch{}})(),(()=>{try{return vt}catch{}})(),(()=>{try{return xt}catch{}})(),(()=>{try{return bt}catch{}})(),(()=>{try{return Pt}catch{}})(),(()=>{try{return wt}catch{}})(),(()=>{try{return zt}catch{}})(),(()=>{try{return It}catch{}})(),(()=>{try{return Lt}catch{}})(),(()=>{try{return At}catch{}})(),(()=>{try{return Ut}catch{}})(),(()=>{try{return Mt}catch{}})(),(()=>{try{return Rt}catch{}})(),(()=>{try{return Et}catch{}})(),(()=>{try{return Ft}catch{}})(),(()=>{try{return Ot}catch{}})(),(()=>{try{return jt}catch{}})(),(()=>{try{return Bt}catch{}})(),(()=>{try{return qt}catch{}})(),(()=>{try{return Dt}catch{}})(),(()=>{try{return Ht}catch{}})(),(()=>{try{return Nt}catch{}})(),(()=>{try{return Tt}catch{}})(),(()=>{try{return Wt}catch{}})(),(()=>{try{return Gt}catch{}})(),(()=>{try{return Jt}catch{}})()]).then(async()=>{let d;d={class:"align-middle"},L=D({name:"PromotionSeckillActivity",__name:"index",setup(Qt){const{tableObject:e,tableMethods:g}=O({getListApi:_t,delListApi:lt}),{getList:k,setSearchParams:C}=g,S=P(),v=(l,t)=>{S.value.open(l,t)},x=P([]),A=H(()=>l=>{var t,n;return(n=(t=x.value)==null?void 0:t.filter(o=>l.configIds.includes(o.id)))==null?void 0:n.map(o=>o.name)}),U=(l,t)=>{};return N(async()=>{const l=i.tableColumns.findIndex(n=>n.field==="spuId"),t=T(i.tableColumns[l]);i.tableColumns.splice(l,1),i.tableColumns.unshift(t),await k(),x.value=await ot()}),(l,t)=>{const n=K,o=Q,M=j,b=tt,R=Y,E=V,F=B,h=W("hasPermi");return m(),w(I,null,[s(b,null,{default:_(()=>[s(M,{schema:r(i).searchSchema,onReset:r(C),onSearch:r(C)},{actionMore:_(()=>[y((m(),f(o,{plain:"",type:"primary",onClick:t[0]||(t[0]=a=>v("create"))},{default:_(()=>[s(n,{class:"mr-5px",icon:"ep:plus"}),p(" \u65B0\u589E ")]),_:1})),[[h,["promotion:seckill-activity:create"]]])]),_:1},8,["schema","onReset","onSearch"])]),_:1}),s(b,null,{default:_(()=>[s(F,{currentPage:r(e).currentPage,"onUpdate:currentPage":t[1]||(t[1]=a=>r(e).currentPage=a),pageSize:r(e).pageSize,"onUpdate:pageSize":t[2]||(t[2]=a=>r(e).pageSize=a),columns:r(i).tableColumns,data:r(e).tableList,expand:!0,loading:r(e).loading,pagination:{total:r(e).total},onExpandChange:U},{expand:_(()=>[p(" \u5C55\u793A\u6D3B\u52A8\u5546\u54C1\u548C\u5546\u54C1\u76F8\u5173\u5C5E\u6027\u6D3B\u52A8\u914D\u7F6E")]),spuId:_(({row:a})=>[s(R,{src:a.picUrl,class:"w-30px h-30px align-middle mr-5px",onClick:u=>{return c=a.picUrl,void st({urlList:[c]});var c}},null,8,["src","onClick"]),G("span",d,z(a.spuName),1)]),configIds:_(({row:a})=>[(m(!0),w(I,null,J(r(A)(a),(u,c)=>(m(),f(E,{key:c,class:"mr-5px"},{default:_(()=>[p(z(u),1)]),_:2},1024))),128))]),action:_(({row:a})=>[y((m(),f(o,{link:"",type:"primary",onClick:u=>v("update",a.id)},{default:_(()=>[p(" \u7F16\u8F91 ")]),_:2},1032,["onClick"])),[[h,["promotion:seckill-activity:update"]]]),y((m(),f(o,{link:"",type:"danger",onClick:u=>{return c=a.id,void g.delList(c,!1);var c}},{default:_(()=>[p(" \u5220\u9664 ")]),_:2},1032,["onClick"])),[[h,["promotion:seckill-activity:delete"]]])]),_:1},8,["currentPage","pageSize","columns","data","loading","pagination"])]),_:1}),s(rt,{ref_key:"formRef",ref:S,onSuccess:r(k)},null,8,["onSuccess"])],64)}}})});export{Kt as __tla,L as default};
