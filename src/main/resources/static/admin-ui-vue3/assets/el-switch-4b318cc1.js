import{w as e,a}from"./runtime-dom.esm-bundler-daa7e741.js";import{b8 as t,d as i,c as l,r as n,m as o,x as s,o as c,i as r,e as u,f as v,n as d,a as p,w as m,g as f,h as b,t as y,l as h,s as g,G as k,D as x,br as I}from"./runtime-core.esm-bundler-ccc21fcd.js";import{b as V,d as C,H as S,i as w,u as T,c as B,E as _,_ as j,w as N}from"./base-085523fd.js";import{i as E,d as P,e as D,l as K}from"./index-c2caee16.js";import{h as U,U as z,C as A,I as F,d as G,t as H}from"./el-notification-c7d5f4ea.js";import{u as q,d as J,c as L}from"./el-button-6b012e5e.js";const M=V({modelValue:{type:[Boolean,String,Number],default:!1},value:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},activeIcon:{type:E},inactiveIcon:{type:E},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeColor:{type:String,default:""},inactiveColor:{type:String,default:""},borderColor:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},id:String,loading:{type:Boolean,default:!1},beforeChange:{type:C(Function)},size:{type:String,validator:U},tabindex:{type:[String,Number]}}),O={[z]:e=>S(e)||t(e)||w(e),[A]:e=>S(e)||t(e)||w(e),[F]:e=>S(e)||t(e)||w(e)},Q=["onClick"],R=["id","aria-checked","aria-disabled","name","true-value","false-value","disabled","tabindex","onKeydown"],W=["aria-hidden"],X=["aria-hidden"],Y=["aria-hidden"],Z="ElSwitch",$=i({name:Z});const ee=N(j(i({...$,props:M,emits:O,setup(t,{expose:i,emit:V}){const C=t,w=k(),{formItem:j}=q(),N=P(),E=T("switch");J({from:'"value"',replacement:'"model-value" or "v-model"',scope:Z,version:"2.3.0",ref:"https://element-plus.org/en-US/component/switch.html#attributes",type:"Attribute"},l((()=>{var e;return!!(null==(e=w.vnode.props)?void 0:e.value)})));const{inputId:U}=L(C,{formItemContext:j}),M=D(l((()=>C.loading))),O=n(!1!==C.modelValue),$=n(),ee=n(),ae=l((()=>[E.b(),E.m(N.value),E.is("disabled",M.value),E.is("checked",le.value)])),te=l((()=>({width:B(C.width)})));o((()=>C.modelValue),(()=>{O.value=!0})),o((()=>C.value),(()=>{O.value=!1}));const ie=l((()=>O.value?C.modelValue:C.value)),le=l((()=>ie.value===C.activeValue));[C.activeValue,C.inactiveValue].includes(ie.value)||(V(z,C.inactiveValue),V(A,C.inactiveValue),V(F,C.inactiveValue)),o(le,(e=>{var a;$.value.checked=e,C.validateEvent&&(null==(a=null==j?void 0:j.validate)||a.call(j,"change").catch((e=>G())))}));const ne=()=>{const e=le.value?C.inactiveValue:C.activeValue;V(z,e),V(A,e),V(F,e),x((()=>{$.value.checked=le.value}))},oe=()=>{if(M.value)return;const{beforeChange:e}=C;if(!e)return void ne();const a=e();[I(a),S(a)].includes(!0)||H(Z,"beforeChange must return type `Promise<boolean>` or `boolean`"),I(a)?a.then((e=>{e&&ne()})).catch((e=>{})):a&&ne()},se=l((()=>E.cssVarBlock({...C.activeColor?{"on-color":C.activeColor}:null,...C.inactiveColor?{"off-color":C.inactiveColor}:null,...C.borderColor?{"border-color":C.borderColor}:null})));return s((()=>{$.value.checked=le.value})),i({focus:()=>{var e,a;null==(a=null==(e=$.value)?void 0:e.focus)||a.call(e)},checked:le}),(t,i)=>(c(),r("div",{class:d(v(ae)),style:g(v(se)),onClick:a(oe,["prevent"])},[u("input",{id:v(U),ref_key:"input",ref:$,class:d(v(E).e("input")),type:"checkbox",role:"switch","aria-checked":v(le),"aria-disabled":v(M),name:t.name,"true-value":t.activeValue,"false-value":t.inactiveValue,disabled:v(M),tabindex:t.tabindex,onChange:ne,onKeydown:e(oe,["enter"])},null,42,R),t.inlinePrompt||!t.inactiveIcon&&!t.inactiveText?b("v-if",!0):(c(),r("span",{key:0,class:d([v(E).e("label"),v(E).em("label","left"),v(E).is("active",!v(le))])},[t.inactiveIcon?(c(),p(v(_),{key:0},{default:m((()=>[(c(),p(f(t.inactiveIcon)))])),_:1})):b("v-if",!0),!t.inactiveIcon&&t.inactiveText?(c(),r("span",{key:1,"aria-hidden":v(le)},y(t.inactiveText),9,W)):b("v-if",!0)],2)),u("span",{ref_key:"core",ref:ee,class:d(v(E).e("core")),style:g(v(te))},[t.inlinePrompt?(c(),r("div",{key:0,class:d(v(E).e("inner"))},[t.activeIcon||t.inactiveIcon?(c(),p(v(_),{key:0,class:d(v(E).is("icon"))},{default:m((()=>[(c(),p(f(v(le)?t.activeIcon:t.inactiveIcon)))])),_:1},8,["class"])):t.activeText||t.inactiveText?(c(),r("span",{key:1,class:d(v(E).is("text")),"aria-hidden":!v(le)},y(v(le)?t.activeText:t.inactiveText),11,X)):b("v-if",!0)],2)):b("v-if",!0),u("div",{class:d(v(E).e("action"))},[t.loading?(c(),p(v(_),{key:0,class:d(v(E).is("loading"))},{default:m((()=>[h(v(K))])),_:1},8,["class"])):b("v-if",!0)],2)],6),t.inlinePrompt||!t.activeIcon&&!t.activeText?b("v-if",!0):(c(),r("span",{key:1,class:d([v(E).e("label"),v(E).em("label","right"),v(E).is("active",v(le))])},[t.activeIcon?(c(),p(v(_),{key:0},{default:m((()=>[(c(),p(f(t.activeIcon)))])),_:1})):b("v-if",!0),!t.activeIcon&&t.activeText?(c(),r("span",{key:1,"aria-hidden":!v(le)},y(t.activeText),9,Y)):b("v-if",!0)],2))],14,Q))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/switch/src/switch.vue"]]));export{ee as E};
