import{_ as e}from"./Form-a0e23abc.js";import{_ as o}from"./XButton-39866472.js";import"./base-085523fd.js";import{E as s}from"./el-notification-c7d5f4ea.js";import{v as r}from"./runtime-dom.esm-bundler-daa7e741.js";import{u as l}from"./useForm-85cf424f.js";import{u as a}from"./useI18n-56d4bc42.js";import{u as t,_ as n,L as i}from"./LoginFormTitle.vue_vue_type_script_setup_true_lang-a0f67dd5.js";import{d,c,A as p,r as m,b as u,f as g,o as h,a as w,w as f,l as P,e as _}from"./runtime-core.esm-bundler-ccc21fcd.js";const{t:v}=a(),b={class:"w-[100%] flex"},k={class:"w-[100%]"},y={class:"w-[100%] mt-15px"},j=d({__name:"RegisterForm",setup(d){const{t:j}=a(),{required:q}={required:e=>({required:!0,message:e||v("common.required")}),lengthRange:(e,o,s)=>{const{min:r,max:l,message:a}=s;e.length<r||e.length>l?o(new Error(a)):o()},notSpace:(e,o,s)=>{-1!==e.indexOf(" ")?o(new Error(s)):o()},notSpecialCharacters:(e,o,s)=>{/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/gi.test(e)?o(new Error(s)):o()},isEqual:(e,o,s,r)=>{e===o?s():s(new Error(r))}},{register:E,elFormRef:R}=l(),{handleBackLogin:x,getLoginState:F}=t(),I=c((()=>g(F)===i.REGISTER)),L=p([{field:"title",colProps:{span:24}},{field:"username",label:j("login.username"),value:"",component:"Input",colProps:{span:24},componentProps:{placeholder:j("login.usernamePlaceholder")}},{field:"password",label:j("login.password"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:j("login.passwordPlaceholder")}},{field:"check_password",label:j("login.checkPassword"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:j("login.passwordPlaceholder")}},{field:"code",label:j("login.code"),colProps:{span:24}},{field:"register",colProps:{span:24}}]),S={username:[q()],password:[q()],check_password:[q()],code:[q()]},V=m(!1);return(l,a)=>{const t=s,i=o,d=e;return u((h(),w(d,{schema:g(L),rules:S,"label-position":"top","hide-required-asterisk":"",size:"large",class:"dark:border-1 dark:border-[var(--el-border-color)] dark:border-solid",onRegister:g(E)},{title:f((()=>[P(n,{style:{width:"100%"}})])),code:f((e=>[_("div",b,[P(t,{modelValue:e.code,"onUpdate:modelValue":o=>e.code=o,placeholder:g(j)("login.codePlaceholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"])])])),register:f((()=>[_("div",k,[P(i,{loading:g(V),type:"primary",class:"w-[100%]",title:g(j)("login.register"),onClick:a[0]||(a[0]=e=>(async()=>{const e=g(R);null==e||e.validate((async e=>{if(e)try{V.value=!0}finally{V.value=!1}}))})())},null,8,["loading","title"])]),_("div",y,[P(i,{class:"w-[100%]",title:g(j)("login.hasUser"),onClick:a[1]||(a[1]=e=>g(x)())},null,8,["title"])])])),_:1},8,["schema","onRegister"])),[[r,g(I)]])}}});export{j as _};
