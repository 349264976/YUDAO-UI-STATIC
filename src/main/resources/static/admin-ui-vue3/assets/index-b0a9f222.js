import{_ as e}from"./XModal.vue_vue_type_script_setup_true_lang-c47b87cf.js";import{_ as t}from"./XButton-39866472.js";import{_ as s}from"./Descriptions-8db90f03.js";import{_ as i}from"./ContentWrap.vue_vue_type_script_setup_true_lang-63555901.js";import{_ as o}from"./XTable.vue_vue_type_style_index_0_lang-9c560634.js";import{_ as r}from"./XTextButton-ab77381a.js";import{u as a}from"./useI18n-56d4bc42.js";import{D as l}from"./dict-3e42505d.js";import{u as m}from"./useVxeCrudSchemas-8bec068b.js";import{A as p,d as n,r as u,Q as c,o as d,i as j,l as _,w as f,f as y,b as v,M as g,F as x}from"./runtime-core.esm-bundler-ccc21fcd.js";import{a as h}from"./index-a7ef0ded.js";import{u as T}from"./useMessage-5e709b20.js";import{u as b}from"./useXTable-bf420a68.js";import"./base-085523fd.js";/* empty css                     */import"./propTypes-5cfdbdab.js";import"./index-be3181b1.js";import"./aria-8fadfbe9.js";import"./runtime-dom.esm-bundler-daa7e741.js";import"./el-notification-c7d5f4ea.js";import"./el-button-6b012e5e.js";import"./index-4665dced.js";import"./index-c2caee16.js";import"./is-a7957d81.js";import"./focus-trap-f53979c5.js";import"./index-7a379d2e.js";import"./Icon.vue_vue_type_script_setup_true_lang-4448c023.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./el-descriptions-item-d373bc22.js";import"./DictTag.vue_vue_type_script_lang-a5ff2643.js";import"./color-a8b4eb58.js";/* empty css               */import"./index-795de047.js";import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./dayjs.min-65a6b1e4.js";import"./useCache-d48cf6c5.js";import"./app-41ac77cd.js";import"./index-cf52a0ab.js";import"./el-message-7ddf9388.js";import"./index-7486e100.js";import"./index-183fdc84.js";import"./el-card-d8ab0074.js";import"./download-20922b56.js";import"./XTextButton.vue_vue_type_style_index_0_scoped_0fcea4df_lang-41ab76b9.js";import"./index-6f87c872.js";import"./auth-2fa258a0.js";import"./vue-router-0864a153.js";import"./cloneDeep-8298b498.js";import"./_flatRest-ac7abae6.js";const{t:k}=a(),C=p({primaryKey:"id",primaryType:null,action:!0,columns:[{title:"用户编号",field:"userId",isSearch:!0},{title:"访问令牌",field:"accessToken"},{title:"刷新令牌",field:"refreshToken"},{title:"客户端编号",field:"clientId",isSearch:!0},{title:"用户类型",field:"userType",dictType:l.USER_TYPE,dictClass:"number",isSearch:!0},{title:k("common.createTime"),field:"createTime",formatter:"formatDate",isForm:!1},{title:"过期时间",field:"expiresTime",formatter:"formatDate",isForm:!1}]}),{allSchemas:S}=m(C),w=e=>h.get({url:"/system/oauth2-token/page",params:e}),D=n({name:"Token"}),I=n({...D,setup(l){const{t:m}=a(),p=T(),[n,{reload:k}]=b({allSchemas:S,topActionSlots:!1,getListApi:w}),C=u(),D=u(!1),I=u(m("action.detail")),X=e=>{p.confirm("是否要强制退出用户").then((async()=>{var t;await(t=e,h.delete({url:"/system/oauth2-token/delete?accessToken="+t})),p.success(m("common.success"))})).finally((async()=>{await k()}))};return(a,l)=>{const p=r,u=o,h=i,T=s,b=t,k=e,w=c("hasPermi");return d(),j(x,null,[_(h,null,{default:f((()=>[_(u,{onRegister:y(n)},{actionbtns_default:f((({row:e})=>[_(p,{preIcon:"ep:view",title:y(m)("action.detail"),onClick:t=>(async e=>{C.value=e,D.value=!0})(e)},null,8,["title","onClick"]),v(_(p,{preIcon:"ep:delete",title:y(m)("action.logout"),onClick:t=>X(e.id)},null,8,["title","onClick"]),[[w,["system:oauth2-token:delete"]]])])),_:1},8,["onRegister"])])),_:1}),_(k,{modelValue:y(D),"onUpdate:modelValue":l[1]||(l[1]=e=>g(D)?D.value=e:null),title:y(I)},{footer:f((()=>[_(b,{title:y(m)("dialog.close"),onClick:l[0]||(l[0]=e=>D.value=!1)},null,8,["title"])])),default:f((()=>[_(T,{schema:y(S).detailSchema,data:y(C)},null,8,["schema","data"])])),_:1},8,["modelValue","title"])],64)}}});export{I as default};
