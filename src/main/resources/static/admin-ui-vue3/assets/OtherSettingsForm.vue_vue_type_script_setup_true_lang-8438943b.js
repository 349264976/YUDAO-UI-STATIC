import{_ as z,__tla as M}from"./Descriptions-add071e6.js";import{d as P,p as V,r as g,f as A,af as J,o as i,c as S,q as B,w as e,a as s,a1 as F,F as N,I as K,i as a,x as L,k as Q,j as t,t as c,dp as T,bE as W,D as X,E as Y,n as Z,aO as $,a4 as ee,H as ae,aG as le,__tla as te}from"./index-0f589822.js";import{o as re,__tla as oe}from"./spu.data-4698afe5.js";import{u as se,__tla as me}from"./useMessage-45ab706e.js";import{u as ne,__tla as ue}from"./useCrudSchemas-9a73989a.js";import{r as y,__tla as de}from"./formRules-04f2a102.js";let D,_e=Promise.all([(()=>{try{return M}catch{}})(),(()=>{try{return te}catch{}})(),(()=>{try{return oe}catch{}})(),(()=>{try{return me}catch{}})(),(()=>{try{return ue}catch{}})(),(()=>{try{return de}catch{}})()]).then(async()=>{D=P({name:"OtherSettingsForm",__name:"OtherSettingsForm",props:{propFormData:{type:Object,default:()=>{}},activeName:V.string.def(""),isDetail:V.bool.def(!1)},emits:["update:activeName"],setup(f,{expose:I,emit:O}){const w=f,k=se(),{allSchemas:C}=ne(re),p=g(),r=g({sort:1,giveIntegral:1,virtualSalesCount:1,recommendHot:!1,recommendBenefit:!1,recommendBest:!1,recommendNew:!1,recommendGood:!1}),E=A({sort:[y],giveIntegral:[y],virtualSalesCount:[y]}),v=[{name:"\u662F\u5426\u70ED\u5356",value:"recommendHot"},{name:"\u662F\u5426\u4F18\u60E0",value:"recommendBenefit"},{name:"\u662F\u5426\u7CBE\u54C1",value:"recommendBest"},{name:"\u662F\u5426\u65B0\u54C1",value:"recommendNew"},{name:"\u662F\u5426\u4F18\u54C1",value:"recommendGood"}],d=g([]),x=()=>{v.forEach(({value:m})=>{r.value[m]=d.value.includes(m)})};return J(()=>w.propFormData,m=>{m&&(T(r.value,m),v.forEach(({value:o})=>{r.value[o]&&!d.value.includes(o)&&d.value.push(o)}))},{immediate:!0}),I({validate:async()=>{if(p)return await s(p).validate(m=>{if(!m)throw k.warning("\u5546\u54C1\u5176\u4ED6\u8BBE\u7F6E\u672A\u5B8C\u5584\uFF01\uFF01"),O("update:activeName","otherSettings"),new Error("\u5546\u54C1\u5176\u4ED6\u8BBE\u7F6E\u672A\u5B8C\u5584\uFF01\uFF01");Object.assign(w.propFormData,r.value)})}}),(m,o)=>{const h=W,_=X,u=Y,b=Z,G=le,H=$,n=ee,U=ae,j=K,q=z;return i(),S(N,null,[f.isDetail?F("",!0):(i(),B(j,{key:0,ref_key:"otherSettingsFormRef",ref:p,model:s(r),rules:s(E),"label-width":"120px"},{default:e(()=>[a(b,null,{default:e(()=>[a(u,{span:24},{default:e(()=>[a(b,{gutter:20},{default:e(()=>[a(u,{span:8},{default:e(()=>[a(_,{label:"\u5546\u54C1\u6392\u5E8F",prop:"sort"},{default:e(()=>[a(h,{modelValue:s(r).sort,"onUpdate:modelValue":o[0]||(o[0]=l=>s(r).sort=l),min:0},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:8},{default:e(()=>[a(_,{label:"\u8D60\u9001\u79EF\u5206",prop:"giveIntegral"},{default:e(()=>[a(h,{modelValue:s(r).giveIntegral,"onUpdate:modelValue":o[1]||(o[1]=l=>s(r).giveIntegral=l),min:0},null,8,["modelValue"])]),_:1})]),_:1}),a(u,{span:8},{default:e(()=>[a(_,{label:"\u865A\u62DF\u9500\u91CF",prop:"virtualSalesCount"},{default:e(()=>[a(h,{modelValue:s(r).virtualSalesCount,"onUpdate:modelValue":o[2]||(o[2]=l=>s(r).virtualSalesCount=l),min:0,placeholder:"\u8BF7\u8F93\u5165\u865A\u62DF\u9500\u91CF"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),a(u,{span:24},{default:e(()=>[a(_,{label:"\u5546\u54C1\u63A8\u8350"},{default:e(()=>[a(H,{modelValue:s(d),"onUpdate:modelValue":o[3]||(o[3]=l=>L(d)?d.value=l:null),onChange:x},{default:e(()=>[(i(),S(N,null,Q(v,(l,R)=>a(G,{key:R,label:l.value},{default:e(()=>[t(c(l.name),1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{span:24},{default:e(()=>[a(_,{label:"\u6D3B\u52A8\u4F18\u5148\u7EA7"},{default:e(()=>[a(n,null,{default:e(()=>[t("\u9ED8\u8BA4")]),_:1}),a(n,{class:"ml-2",type:"success"},{default:e(()=>[t("\u79D2\u6740")]),_:1}),a(n,{class:"ml-2",type:"info"},{default:e(()=>[t("\u780D\u4EF7")]),_:1}),a(n,{class:"ml-2",type:"warning"},{default:e(()=>[t("\u62FC\u56E2")]),_:1})]),_:1})]),_:1}),a(u,{span:24},{default:e(()=>[a(_,{label:"\u8D60\u9001\u4F18\u60E0\u52B5"},{default:e(()=>[a(U,null,{default:e(()=>[t("\u9009\u62E9\u4F18\u60E0\u5238")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])),f.isDetail?(i(),B(q,{key:1,data:s(r),schema:s(C).detailSchema},{recommendHot:e(({row:l})=>[t(c(l.recommendHot?"\u662F":"\u5426"),1)]),recommendBenefit:e(({row:l})=>[t(c(l.recommendBenefit?"\u662F":"\u5426"),1)]),recommendBest:e(({row:l})=>[t(c(l.recommendBest?"\u662F":"\u5426"),1)]),recommendNew:e(({row:l})=>[t(c(l.recommendNew?"\u662F":"\u5426"),1)]),recommendGood:e(({row:l})=>[t(c(l.recommendGood?"\u662F":"\u5426"),1)]),activityOrders:e(()=>[a(n,null,{default:e(()=>[t("\u9ED8\u8BA4")]),_:1}),a(n,{class:"ml-2",type:"success"},{default:e(()=>[t("\u79D2\u6740")]),_:1}),a(n,{class:"ml-2",type:"info"},{default:e(()=>[t("\u780D\u4EF7")]),_:1}),a(n,{class:"ml-2",type:"warning"},{default:e(()=>[t("\u62FC\u56E2")]),_:1})]),_:1},8,["data","schema"])):F("",!0)],64)}}})});export{D as _,_e as __tla};
