import{j as e}from"./runtime-dom.esm-bundler-daa7e741.js";import{u as a,e as l,d as n}from"./index-c2caee16.js";import{U as o,d as t}from"./el-notification-c7d5f4ea.js";import{b8 as i,q as s,c as u,m as d,D as r,G as c,r as b,bd as v,ba as m,R as h,d as p,u as f,o as k,a as x,w as g,e as y,n as C,f as L,b as B,i as S,M as E,j as I,F,k as w,t as j,h as z,g as V,s as D,p as _,K as G}from"./runtime-core.esm-bundler-ccc21fcd.js";import{h as N,t as O,D as R,F as $,g as U,G as q,i as A,H as K,x as M,u as H,_ as P,b as J,d as Q,w as T,a as W}from"./base-085523fd.js";import{u as X,c as Y}from"./el-button-6b012e5e.js";import{i as Z}from"./isEqual-6e1d5dd6.js";import{i as ee,e as ae}from"./cloneDeep-8298b498.js";import{f as le}from"./_flatRest-ac7abae6.js";function ne(e,a){return null!=e&&a in Object(e)}function oe(e,a){return null!=e&&function(e,a,l){for(var n=-1,o=(a=N(a,e)).length,t=!1;++n<o;){var i=O(a[n]);if(!(t=null!=e&&l(e,i)))break;e=e[i]}return t||++n!=o?t:!!(o=null==e?0:e.length)&&ee(o)&&R(i,o)&&($(e)||ae(e))}(e,a,ne)}function te(e,a){return function(e,a,l){for(var n=-1,o=a.length,t={};++n<o;){var i=a[n],s=U(e,i);l(s,i)&&q(t,N(i,e),s)}return t}(e,a,(function(a,l){return oe(e,l)}))}const ie=le((function(e,a){return null==e?{}:te(e,a)})),se=Symbol("checkboxGroupContextKey"),ue={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object]},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:a,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},de={[o]:e=>i(e)||A(e)||K(e),change:e=>i(e)||A(e)||K(e)},re=(e,{model:a,isLimitExceeded:l,hasOwnLabel:n,isDisabled:o,isLabeledByFormItem:i})=>{const b=s(se,void 0),{formItem:v}=X(),{emit:m}=c();function h(a){var l,n;return a===e.trueLabel||!0===a?null==(l=e.trueLabel)||l:null!=(n=e.falseLabel)&&n}const p=u((()=>(null==b?void 0:b.validateEvent)||e.validateEvent));return d((()=>e.modelValue),(()=>{p.value&&(null==v||v.validate("change").catch((e=>t())))})),{handleChange:function(e){if(l.value)return;const a=e.target;m("change",h(a.checked),e)},onClickRoot:async function(t){if(!l.value&&!n.value&&!o.value&&i.value){t.composedPath().some((e=>"LABEL"===e.tagName))||(a.value=h([!1,e.falseLabel].includes(a.value)),await r(),function(e,a){m("change",h(e),a)}(a.value,t))}}}},ce=(e,a)=>{const{formItem:t}=X(),{model:i,isGroup:d,isLimitExceeded:r}=(e=>{const a=b(!1),{emit:l}=c(),n=s(se,void 0),t=u((()=>!1===M(n))),i=b(!1);return{model:u({get(){var l,o;return t.value?null==(l=null==n?void 0:n.modelValue)?void 0:l.value:null!=(o=e.modelValue)?o:a.value},set(e){var s,u;t.value&&v(e)?(i.value=void 0!==(null==(s=null==n?void 0:n.max)?void 0:s.value)&&e.length>(null==n?void 0:n.max.value),!1===i.value&&(null==(u=null==n?void 0:n.changeEvent)||u.call(n,e))):(l(o,e),a.value=e)}}),isGroup:t,isLimitExceeded:i}})(e),{isFocused:p,isChecked:f,checkboxButtonSize:k,checkboxSize:x,hasOwnLabel:g}=((e,a,{model:l})=>{const o=s(se,void 0),t=b(!1),i=u((()=>{const a=l.value;return K(a)?a:v(a)?m(e.label)?a.map(h).some((a=>Z(a,e.label))):a.map(h).includes(e.label):null!=a?a===e.trueLabel:!!a}));return{checkboxButtonSize:n(u((()=>{var e;return null==(e=null==o?void 0:o.size)?void 0:e.value})),{prop:!0}),isChecked:i,isFocused:t,checkboxSize:n(u((()=>{var e;return null==(e=null==o?void 0:o.size)?void 0:e.value}))),hasOwnLabel:u((()=>!(!a.default&&!e.label)))}})(e,a,{model:i}),{isDisabled:y}=(({model:e,isChecked:a})=>{const n=s(se,void 0),o=u((()=>{var l,o;const t=null==(l=null==n?void 0:n.max)?void 0:l.value,i=null==(o=null==n?void 0:n.min)?void 0:o.value;return!M(t)&&e.value.length>=t&&!a.value||!M(i)&&e.value.length<=i&&a.value}));return{isDisabled:l(u((()=>(null==n?void 0:n.disabled.value)||o.value))),isLimitDisabled:o}})({model:i,isChecked:f}),{inputId:C,isLabeledByFormItem:L}=Y(e,{formItemContext:t,disableIdGeneration:g,disableIdManagement:d}),{handleChange:B,onClickRoot:S}=re(e,{model:i,isLimitExceeded:r,hasOwnLabel:g,isDisabled:y,isLabeledByFormItem:L});return((e,{model:a})=>{e.checked&&(v(a.value)&&!a.value.includes(e.label)?a.value.push(e.label):a.value=e.trueLabel||!0)})(e,{model:i}),{inputId:C,isLabeledByFormItem:L,isChecked:f,isDisabled:y,isFocused:p,checkboxButtonSize:k,checkboxSize:x,hasOwnLabel:g,model:i,handleChange:B,onClickRoot:S}},be=["tabindex","role","aria-checked"],ve=["id","aria-hidden","name","tabindex","disabled","true-value","false-value"],me=["id","aria-hidden","disabled","value","name","tabindex"],he=p({name:"ElCheckbox"});var pe=P(p({...he,props:ue,emits:de,setup(a){const l=a,n=f(),{inputId:o,isLabeledByFormItem:t,isChecked:i,isDisabled:s,isFocused:d,checkboxSize:r,hasOwnLabel:c,model:b,handleChange:v,onClickRoot:m}=ce(l,n),h=H("checkbox"),p=u((()=>[h.b(),h.m(r.value),h.is("disabled",s.value),h.is("bordered",l.border),h.is("checked",i.value)])),D=u((()=>[h.e("input"),h.is("disabled",s.value),h.is("checked",i.value),h.is("indeterminate",l.indeterminate),h.is("focus",d.value)]));return(a,l)=>(k(),x(V(!L(c)&&L(t)?"span":"label"),{class:C(L(p)),"aria-controls":a.indeterminate?a.controls:null,onClick:L(m)},{default:g((()=>[y("span",{class:C(L(D)),tabindex:a.indeterminate?0:void 0,role:a.indeterminate?"checkbox":void 0,"aria-checked":a.indeterminate?"mixed":void 0},[a.trueLabel||a.falseLabel?B((k(),S("input",{key:0,id:L(o),"onUpdate:modelValue":l[0]||(l[0]=e=>E(b)?b.value=e:null),class:C(L(h).e("original")),type:"checkbox","aria-hidden":a.indeterminate?"true":"false",name:a.name,tabindex:a.tabindex,disabled:L(s),"true-value":a.trueLabel,"false-value":a.falseLabel,onChange:l[1]||(l[1]=(...e)=>L(v)&&L(v)(...e)),onFocus:l[2]||(l[2]=e=>d.value=!0),onBlur:l[3]||(l[3]=e=>d.value=!1)},null,42,ve)),[[e,L(b)]]):B((k(),S("input",{key:1,id:L(o),"onUpdate:modelValue":l[4]||(l[4]=e=>E(b)?b.value=e:null),class:C(L(h).e("original")),type:"checkbox","aria-hidden":a.indeterminate?"true":"false",disabled:L(s),value:a.label,name:a.name,tabindex:a.tabindex,onChange:l[5]||(l[5]=(...e)=>L(v)&&L(v)(...e)),onFocus:l[6]||(l[6]=e=>d.value=!0),onBlur:l[7]||(l[7]=e=>d.value=!1)},null,42,me)),[[e,L(b)]]),y("span",{class:C(L(h).e("inner"))},null,2)],10,be),L(c)?(k(),S("span",{key:0,class:C(L(h).e("label"))},[I(a.$slots,"default"),a.$slots.default?z("v-if",!0):(k(),S(F,{key:0},[w(j(a.label),1)],64))],2)):z("v-if",!0)])),_:3},8,["class","aria-controls","onClick"]))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox.vue"]]);const fe=["name","tabindex","disabled","true-value","false-value"],ke=["name","tabindex","disabled","value"],xe=p({name:"ElCheckboxButton"});var ge=P(p({...xe,props:ue,emits:de,setup(a){const l=a,n=f(),{isFocused:o,isChecked:t,isDisabled:i,checkboxButtonSize:d,model:r,handleChange:c}=ce(l,n),b=s(se,void 0),v=H("checkbox"),m=u((()=>{var e,a,l,n;const o=null!=(a=null==(e=null==b?void 0:b.fill)?void 0:e.value)?a:"";return{backgroundColor:o,borderColor:o,color:null!=(n=null==(l=null==b?void 0:b.textColor)?void 0:l.value)?n:"",boxShadow:o?`-1px 0 0 0 ${o}`:void 0}})),h=u((()=>[v.b("button"),v.bm("button",d.value),v.is("disabled",i.value),v.is("checked",t.value),v.is("focus",o.value)]));return(a,l)=>(k(),S("label",{class:C(L(h))},[a.trueLabel||a.falseLabel?B((k(),S("input",{key:0,"onUpdate:modelValue":l[0]||(l[0]=e=>E(r)?r.value=e:null),class:C(L(v).be("button","original")),type:"checkbox",name:a.name,tabindex:a.tabindex,disabled:L(i),"true-value":a.trueLabel,"false-value":a.falseLabel,onChange:l[1]||(l[1]=(...e)=>L(c)&&L(c)(...e)),onFocus:l[2]||(l[2]=e=>o.value=!0),onBlur:l[3]||(l[3]=e=>o.value=!1)},null,42,fe)),[[e,L(r)]]):B((k(),S("input",{key:1,"onUpdate:modelValue":l[4]||(l[4]=e=>E(r)?r.value=e:null),class:C(L(v).be("button","original")),type:"checkbox",name:a.name,tabindex:a.tabindex,disabled:L(i),value:a.label,onChange:l[5]||(l[5]=(...e)=>L(c)&&L(c)(...e)),onFocus:l[6]||(l[6]=e=>o.value=!0),onBlur:l[7]||(l[7]=e=>o.value=!1)},null,42,ke)),[[e,L(r)]]),a.$slots.default||a.label?(k(),S("span",{key:2,class:C(L(v).be("button","inner")),style:D(L(t)?L(m):void 0)},[I(a.$slots,"default",{},(()=>[w(j(a.label),1)]))],6)):z("v-if",!0)],2))}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-button.vue"]]);const ye=J({modelValue:{type:Q(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:a,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),Ce={[o]:e=>v(e),change:e=>v(e)},Le=p({name:"ElCheckboxGroup"});var Be=P(p({...Le,props:ye,emits:Ce,setup(e,{emit:a}){const l=e,n=H("checkbox"),{formItem:i}=X(),{inputId:s,isLabeledByFormItem:c}=Y(l,{formItemContext:i}),b=async e=>{a(o,e),await r(),a("change",e)},v=u({get:()=>l.modelValue,set(e){b(e)}});return _(se,{...ie(G(l),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:v,changeEvent:b}),d((()=>l.modelValue),(()=>{l.validateEvent&&(null==i||i.validate("change").catch((e=>t())))})),(e,a)=>{var l;return k(),x(V(e.tag),{id:L(s),class:C(L(n).b("group")),role:"group","aria-label":L(c)?void 0:e.label||"checkbox-group","aria-labelledby":L(c)?null==(l=L(i))?void 0:l.labelId:void 0},{default:g((()=>[I(e.$slots,"default")])),_:3},8,["id","class","aria-label","aria-labelledby"])}}}),[["__file","/home/runner/work/element-plus/element-plus/packages/components/checkbox/src/checkbox-group.vue"]]);const Se=T(pe,{CheckboxButton:ge,CheckboxGroup:Be}),Ee=W(ge),Ie=W(Be);export{Ie as E,Ee as a,Se as b,oe as h,ie as p};
