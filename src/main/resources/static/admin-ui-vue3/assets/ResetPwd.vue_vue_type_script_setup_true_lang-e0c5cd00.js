import"./base-085523fd.js";import{a as e,E as s}from"./el-form-item-8022b942.js";import{_ as r}from"./XButton-39866472.js";import{I as o}from"./InputPassword-d0077663.js";import{a}from"./profile-79f323e1.js";import{u as l}from"./useI18n-56d4bc42.js";import{u as d}from"./useMessage-5e709b20.js";import{d as t,r as m,A as i,o as u,a as w,w as n,l as p,f}from"./runtime-core.esm-bundler-ccc21fcd.js";const g=t({__name:"ResetPwd",setup(t){const{t:g}=l(),P=d(),c=m(),b=i({oldPassword:"",newPassword:"",confirmPassword:""}),_=i({oldPassword:[{required:!0,message:g("profile.password.oldPwdMsg"),trigger:"blur"},{min:3,max:5,message:g("profile.password.pwdRules"),trigger:"blur"}],newPassword:[{required:!0,message:g("profile.password.newPwdMsg"),trigger:"blur"},{min:6,max:20,message:g("profile.password.pwdRules"),trigger:"blur"}],confirmPassword:[{required:!0,message:g("profile.password.cfPwdMsg"),trigger:"blur"},{required:!0,validator:(e,s)=>{b.newPassword!==e?s(new Error(g("profile.password.diffPwd"))):s()},trigger:"blur"}]});return(l,d)=>{const t=e,m=r,i=s;return u(),w(i,{ref_key:"formRef",ref:c,model:f(b),rules:f(_),"label-width":"80px"},{default:n((()=>[p(t,{label:f(g)("profile.password.oldPassword")},{default:n((()=>[p(f(o),{modelValue:f(b).oldPassword,"onUpdate:modelValue":d[0]||(d[0]=e=>f(b).oldPassword=e)},null,8,["modelValue"])])),_:1},8,["label"]),p(t,{label:f(g)("profile.password.newPassword")},{default:n((()=>[p(f(o),{modelValue:f(b).newPassword,"onUpdate:modelValue":d[1]||(d[1]=e=>f(b).newPassword=e),strength:""},null,8,["modelValue"])])),_:1},8,["label"]),p(t,{label:f(g)("profile.password.confirmPassword")},{default:n((()=>[p(f(o),{modelValue:f(b).confirmPassword,"onUpdate:modelValue":d[2]||(d[2]=e=>f(b).confirmPassword=e),strength:""},null,8,["modelValue"])])),_:1},8,["label"]),p(t,null,{default:n((()=>[p(m,{type:"primary",onClick:d[3]||(d[3]=e=>{var s;(s=f(c))&&s.validate((async e=>{e&&(await a(b.oldPassword,b.newPassword),P.success(g("common.updateSuccess")))}))}),title:f(g)("common.save")},null,8,["title"]),p(m,{type:"danger",title:f(g)("common.reset"),onClick:d[4]||(d[4]=e=>{var s;(s=f(c))&&s.resetFields()})},null,8,["title"])])),_:1})])),_:1},8,["model","rules"])}}});export{g as _};
