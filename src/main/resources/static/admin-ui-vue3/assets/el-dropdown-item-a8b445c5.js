import{ag as Ke,aU as J,cK as Me,bk as I,aj as M,d as L,r as F,bg as k,b as C,bB as U,cD as Le,ak as G,a as S,af as ae,ct as Ge,al as $,cL as x,a7 as y,o as B,q as O,w as b,i as _,am as Oe,bC as ze,cM as ie,a9 as Ae,H as se,ce as He,cN as Ne,b6 as Ue,cO as Ye,aT as de,cP as Ve,cQ as We,a8 as ue,ah as Q,bn as je,aY as Je,aQ as Qe,bs as Ze,c as Y,cc as qe,a2 as H,V as Z,a1 as q,aZ as Xe,cR as ce,cS as en,cT as nn,g as on,ay as tn,aN as X,F as ln,cU as pe,cV as rn,cW as ve,cX as an,cY as sn,cZ as dn,au as un,c_ as cn,c$ as pn,an as vn,ao as fe,__tla as fn}from"./index-0f589822.js";let me,ge,be,mn=Promise.all([(()=>{try{return fn}catch{}})()]).then(async()=>{const we=Ke({style:{type:J([String,Array,Object])},currentTabId:{type:J(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:J(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:he,ElCollectionItem:ye,COLLECTION_INJECTION_KEY:V,COLLECTION_ITEM_INJECTION_KEY:Ie}=Me("RovingFocusGroup"),W=Symbol("elRovingFocusGroup"),ee=Symbol("elRovingFocusGroupItem"),Ee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},ke=(e,n,p)=>{const a=((u,c)=>{if(c!=="rtl")return u;switch(u){case I.right:return I.left;case I.left:return I.right;default:return u}})(e.key,p);if(!(n==="vertical"&&[I.left,I.right].includes(a)||n==="horizontal"&&[I.up,I.down].includes(a)))return Ee[a]},j=e=>{const{activeElement:n}=document;for(const p of e)if(p===n||(p.focus(),n!==document.activeElement))return},ne="currentTabIdChange",oe="rovingFocusGroup.entryFocus",Fe={bubbles:!1,cancelable:!0},Ce=L({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:we,emits:[ne,"entryFocus"],setup(e,{emit:n}){var p;const a=F((p=e.currentTabId||e.defaultCurrentTabId)!=null?p:null),u=F(!1),c=F(!1),i=F(null),{getItems:r}=k(V,void 0),v=C(()=>[{outline:"none"},e.style]),w=x(l=>{var s;(s=e.onMousedown)==null||s.call(e,l)},()=>{c.value=!0}),h=x(l=>{var s;(s=e.onFocus)==null||s.call(e,l)},l=>{const s=!S(c),{target:g,currentTarget:E}=l;if(g===E&&s&&!S(u)){const D=new Event(oe,Fe);if(E==null||E.dispatchEvent(D),!D.defaultPrevented){const R=r().filter(f=>f.focusable),T=[R.find(f=>f.active),R.find(f=>f.id===S(a)),...R].filter(Boolean).map(f=>f.ref);j(T)}}c.value=!1}),t=x(l=>{var s;(s=e.onBlur)==null||s.call(e,l)},()=>{u.value=!1});U(W,{currentTabbedId:Le(a),loop:G(e,"loop"),tabIndex:C(()=>S(u)?-1:0),rovingFocusGroupRef:i,rovingFocusGroupRootStyle:v,orientation:G(e,"orientation"),dir:G(e,"dir"),onItemFocus:l=>{n(ne,l)},onItemShiftTab:()=>{u.value=!0},onBlur:t,onFocus:h,onMousedown:w}),ae(()=>e.currentTabId,l=>{a.value=l??null}),Ge(i,oe,(...l)=>{n("entryFocus",...l)})}});var _e=M(L({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:he,ElRovingFocusGroupImpl:M(Ce,[["render",function(e,n,p,a,u,c){return $(e.$slots,"default")}],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]])}}),[["render",function(e,n,p,a,u,c){const i=y("el-roving-focus-group-impl"),r=y("el-focus-group-collection");return B(),O(r,null,{default:b(()=>[_(i,Oe(ze(e.$attrs)),{default:b(()=>[$(e.$slots,"default")]),_:3},16)]),_:3})}],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]),Re=M(L({components:{ElRovingFocusCollectionItem:ye},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:n}){const{currentTabbedId:p,loop:a,onItemFocus:u,onItemShiftTab:c}=k(W,void 0),{getItems:i}=k(V,void 0),r=ie(),v=F(null),w=x(s=>{n("mousedown",s)},s=>{e.focusable?u(S(r)):s.preventDefault()}),h=x(s=>{n("focus",s)},()=>{u(S(r))}),t=x(s=>{n("keydown",s)},s=>{const{key:g,shiftKey:E,target:D,currentTarget:R}=s;if(g===I.tab&&E)return void c();if(D!==R)return;const T=ke(s);if(T){s.preventDefault();let d=i().filter(m=>m.focusable).map(m=>m.ref);switch(T){case"last":d.reverse();break;case"prev":case"next":{T==="prev"&&d.reverse();const m=d.indexOf(R);d=a.value?(o=m+1,(f=d).map((P,K)=>f[(K+o)%f.length])):d.slice(m+1);break}}Ae(()=>{j(d)})}var f,o}),l=C(()=>p.value===S(r));return U(ee,{rovingFocusGroupItemRef:v,tabIndex:C(()=>S(l)?0:-1),handleMousedown:w,handleFocus:h,handleKeydown:t}),{id:r,handleKeydown:t,handleFocus:h,handleMousedown:w}}}),[["render",function(e,n,p,a,u,c){const i=y("el-roving-focus-collection-item");return B(),O(i,{id:e.id,focusable:e.focusable,active:e.active},{default:b(()=>[$(e.$slots,"default")]),_:3},8,["id","focusable","active"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const N=Symbol("elDropdown"),{ButtonGroup:Te}=se;var Se=M(L({name:"ElDropdown",components:{ElButton:se,ElButtonGroup:Te,ElScrollbar:He,ElDropdownCollection:Ne,ElTooltip:Ue,ElRovingFocusGroup:_e,ElOnlyChild:Ye,ElIcon:de,ArrowDown:Ve},props:We,emits:["visible-change","click","command"],setup(e,{emit:n}){const p=ue(),a=Q("dropdown"),{t:u}=je(),c=F(),i=F(),r=F(null),v=F(null),w=F(null),h=F(null),t=F(!1),l=[I.enter,I.space,I.down],s=C(()=>({maxHeight:Je(e.maxHeight)})),g=C(()=>[a.m(T.value)]),E=ie().value,D=C(()=>e.id||E);function R(){var o;(o=r.value)==null||o.onClose()}ae([c,G(e,"trigger")],([o,d],[m])=>{var P,K,z;const A=Xe(d)?d:[d];(P=m==null?void 0:m.$el)!=null&&P.removeEventListener&&m.$el.removeEventListener("pointerenter",f),(K=o==null?void 0:o.$el)!=null&&K.removeEventListener&&o.$el.removeEventListener("pointerenter",f),(z=o==null?void 0:o.$el)!=null&&z.addEventListener&&A.includes("hover")&&o.$el.addEventListener("pointerenter",f)},{immediate:!0}),Qe(()=>{var o,d;(d=(o=c.value)==null?void 0:o.$el)!=null&&d.removeEventListener&&c.value.$el.removeEventListener("pointerenter",f)});const T=Ze();function f(){var o,d;(d=(o=c.value)==null?void 0:o.$el)==null||d.focus()}return U(N,{contentRef:v,role:C(()=>e.role),triggerId:D,isUsingKeyboard:t,onItemEnter:function(){},onItemLeave:function(){const o=S(v);o==null||o.focus(),h.value=null}}),U("elDropdown",{instance:p,dropdownSize:T,handleClick:function(){R()},commandHandler:function(...o){n("command",...o)},trigger:G(e,"trigger"),hideOnClick:G(e,"hideOnClick")}),{t:u,ns:a,scrollbar:w,wrapStyle:s,dropdownTriggerKls:g,dropdownSize:T,triggerId:D,triggerKeys:l,currentTabId:h,handleCurrentTabIdChange:function(o){h.value=o},handlerMainButtonClick:o=>{n("click",o)},handleEntryFocus:function(o){t.value||(o.preventDefault(),o.stopImmediatePropagation())},handleClose:R,handleOpen:function(){var o;(o=r.value)==null||o.onOpen()},handleBeforeShowTooltip:function(){n("visible-change",!0)},handleShowTooltip:function(o){(o==null?void 0:o.type)==="keydown"&&v.value.focus()},handleBeforeHideTooltip:function(){n("visible-change",!1)},onFocusAfterTrapped:o=>{var d,m;o.preventDefault(),(m=(d=v.value)==null?void 0:d.focus)==null||m.call(d,{preventScroll:!0})},popperRef:r,contentRef:v,triggeringElementRef:c,referenceElementRef:i}}}),[["render",function(e,n,p,a,u,c){var i;const r=y("el-dropdown-collection"),v=y("el-roving-focus-group"),w=y("el-scrollbar"),h=y("el-only-child"),t=y("el-tooltip"),l=y("el-button"),s=y("arrow-down"),g=y("el-icon"),E=y("el-button-group");return B(),Y("div",{class:Z([e.ns.b(),e.ns.is("disabled",e.disabled)])},[_(t,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(i=e.referenceElementRef)==null?void 0:i.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},qe({content:b(()=>[_(w,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:b(()=>[_(v,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:b(()=>[_(r,null,{default:b(()=>[$(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:b(()=>[_(h,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:b(()=>[$(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(B(),O(E,{key:0},{default:b(()=>[_(l,H({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:b(()=>[$(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),_(l,H({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:b(()=>[_(g,{class:Z(e.ns.e("icon"))},{default:b(()=>[_(s)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):q("v-if",!0)],2)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const xe=L({name:"DropdownItemImpl",components:{ElIcon:de},props:ce,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:n}){const p=Q("dropdown"),{role:a}=k(N,void 0),{collectionItemRef:u}=k(en,void 0),{collectionItemRef:c}=k(Ie,void 0),{rovingFocusGroupItemRef:i,tabIndex:r,handleFocus:v,handleKeydown:w,handleMousedown:h}=k(ee,void 0),t=pe(u,c,i),l=C(()=>a.value==="menu"?"menuitem":a.value==="navigation"?"link":"button"),s=x(g=>{const{code:E}=g;if(E===I.enter||E===I.space)return g.preventDefault(),g.stopImmediatePropagation(),n("clickimpl",g),!0},w);return{ns:p,itemRef:t,dataset:{[nn]:""},role:l,tabIndex:r,handleFocus:v,handleKeydown:s,handleMousedown:h}}}),Be=["aria-disabled","tabindex","role"],te=()=>{const e=k("elDropdown",{}),n=C(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:n}},De=L({name:"ElDropdownItem",components:{ElDropdownCollectionItem:rn,ElRovingFocusItem:Re,ElDropdownItemImpl:M(xe,[["render",function(e,n,p,a,u,c){const i=y("el-icon");return B(),Y(ln,null,[e.divided?(B(),Y("li",H({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):q("v-if",!0),on("li",H({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:n[0]||(n[0]=r=>e.$emit("clickimpl",r)),onFocus:n[1]||(n[1]=(...r)=>e.handleFocus&&e.handleFocus(...r)),onKeydown:n[2]||(n[2]=X((...r)=>e.handleKeydown&&e.handleKeydown(...r),["self"])),onMousedown:n[3]||(n[3]=(...r)=>e.handleMousedown&&e.handleMousedown(...r)),onPointermove:n[4]||(n[4]=r=>e.$emit("pointermove",r)),onPointerleave:n[5]||(n[5]=r=>e.$emit("pointerleave",r))}),[e.icon?(B(),O(i,{key:0},{default:b(()=>[(B(),O(tn(e.icon)))]),_:1})):q("v-if",!0),$(e.$slots,"default")],16,Be)],64)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]])},inheritAttrs:!1,props:ce,emits:["pointermove","pointerleave","click"],setup(e,{emit:n,attrs:p}){const{elDropdown:a}=te(),u=ue(),c=F(null),i=C(()=>{var t,l;return(l=(t=S(c))==null?void 0:t.textContent)!=null?l:""}),{onItemEnter:r,onItemLeave:v}=k(N,void 0),w=x(t=>(n("pointermove",t),t.defaultPrevented),ve(t=>{if(e.disabled)return void v(t);const l=t.currentTarget;l===document.activeElement||l.contains(document.activeElement)||(r(t),t.defaultPrevented||l==null||l.focus())})),h=x(t=>(n("pointerleave",t),t.defaultPrevented),ve(t=>{v(t)}));return{handleClick:x(t=>{if(!e.disabled)return n("click",t),t.type!=="keydown"&&t.defaultPrevented},t=>{var l,s,g;e.disabled?t.stopImmediatePropagation():((l=a==null?void 0:a.hideOnClick)!=null&&l.value&&((s=a.handleClick)==null||s.call(a)),(g=a.commandHandler)==null||g.call(a,e.command,u,t))}),handlePointerMove:w,handlePointerLeave:h,textContent:i,propsAndAttrs:C(()=>({...e,...p}))}}});var le=M(De,[["render",function(e,n,p,a,u,c){var i;const r=y("el-dropdown-item-impl"),v=y("el-roving-focus-item"),w=y("el-dropdown-collection-item");return B(),O(w,{disabled:e.disabled,"text-value":(i=e.textValue)!=null?i:e.textContent},{default:b(()=>[_(v,{focusable:!e.disabled},{default:b(()=>[_(r,H(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:b(()=>[$(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const $e=L({name:"ElDropdownMenu",props:an,setup(e){const n=Q("dropdown"),{_elDropdownSize:p}=te(),a=p.value,{focusTrapRef:u,onKeydown:c}=k(sn,void 0),{contentRef:i,role:r,triggerId:v}=k(N,void 0),{collectionRef:w,getItems:h}=k(dn,void 0),{rovingFocusGroupRef:t,rovingFocusGroupRootStyle:l,tabIndex:s,onBlur:g,onFocus:E,onMousedown:D}=k(W,void 0),{collectionRef:R}=k(V,void 0),T=C(()=>[n.b("menu"),n.bm("menu",a==null?void 0:a.value)]),f=pe(i,w,u,t,R),o=x(d=>{var m;(m=e.onKeydown)==null||m.call(e,d)},d=>{const{currentTarget:m,code:P,target:K}=d;if(m.contains(K),I.tab===P&&d.stopImmediatePropagation(),d.preventDefault(),K!==S(i)||!cn.includes(P))return;const z=h().filter(A=>!A.disabled).map(A=>A.ref);pn.includes(P)&&z.reverse(),j(z)});return{size:a,rovingFocusGroupRootStyle:l,tabIndex:s,dropdownKls:T,role:r,triggerId:v,dropdownListWrapperRef:f,handleKeydown:d=>{o(d),c(d)},onBlur:g,onFocus:E,onMousedown:D}}}),Pe=["role","aria-labelledby"];var re=M($e,[["render",function(e,n,p,a,u,c){return B(),Y("ul",{ref:e.dropdownListWrapperRef,class:Z(e.dropdownKls),style:un(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:n[0]||(n[0]=(...i)=>e.onBlur&&e.onBlur(...i)),onFocus:n[1]||(n[1]=(...i)=>e.onFocus&&e.onFocus(...i)),onKeydown:n[2]||(n[2]=X((...i)=>e.handleKeydown&&e.handleKeydown(...i),["self"])),onMousedown:n[3]||(n[3]=X((...i)=>e.onMousedown&&e.onMousedown(...i),["self"]))},[$(e.$slots,"default")],46,Pe)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);be=vn(Se,{DropdownItem:le,DropdownMenu:re}),me=fe(le),ge=fe(re)});export{me as E,mn as __tla,ge as a,be as b};
