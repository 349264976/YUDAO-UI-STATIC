import{d as x,r as _,af as h,o as L,q as b,w as o,i as r,a as s,al as C,j as P,t as S,ac as I,J as E,K as A,__tla as D}from"./index-0f589822.js";import{E as U,__tla as j}from"./el-image-9c2dd802.js";import{__tla as q}from"./el-image-viewer-863e3dd0.js";import{c as z,__tla as J}from"./index-2b69f27f.js";import{__tla as K}from"./index-c338d539.js";import{__tla as R}from"./DescriptionForm.vue_vue_type_script_setup_true_lang-fc21193d.js";import{__tla as T}from"./OtherSettingsForm.vue_vue_type_script_setup_true_lang-8438943b.js";import{__tla as $}from"./el-text-1124a1da.js";import{__tla as B}from"./Dialog.vue_vue_type_style_index_0_lang-2d188c85.js";import{_ as F,__tla as G}from"./SkuList.vue_vue_type_script_setup_true_lang-8927b71a.js";let w,H=Promise.all([(()=>{try{return D}catch{}})(),(()=>{try{return j}catch{}})(),(()=>{try{return q}catch{}})(),(()=>{try{return J}catch{}})(),(()=>{try{return K}catch{}})(),(()=>{try{return R}catch{}})(),(()=>{try{return T}catch{}})(),(()=>{try{return $}catch{}})(),(()=>{try{return B}catch{}})(),(()=>{try{return G}catch{}})()]).then(async()=>{w=x({name:"PromotionSpuAndSkuList",__name:"SpuAndSkuList",props:{spuList:{},ruleConfig:{},spuPropertyListP:{}},setup(k,{expose:g}){const m=k,d=_([]),f=_(),p=_([]),y=_();return g({getSkuConfigs:t=>{f.value.validateSku();const i=[];return p.value.forEach(a=>{a.spuDetail.skus.forEach(n=>{i.push(n[t])})}),i}}),h(()=>m.spuList,t=>{t&&(d.value=t)},{deep:!0,immediate:!0}),h(()=>m.spuPropertyListP,t=>{t&&(p.value=t,setTimeout(()=>{y.value=t.map(i=>i.spuId)},200))},{deep:!0,immediate:!0}),(t,i)=>{const a=E,n=U,v=A;return L(),b(v,{data:s(d),"expand-row-keys":s(y),"row-key":"id"},{default:o(()=>[r(a,{type:"expand",width:"30"},{default:o(({row:e})=>{var u,l;return[r(s(F),{ref_key:"skuListRef",ref:f,"is-activity-component":!0,"prop-form-data":(u=s(p).find(c=>c.spuId===e.id))==null?void 0:u.spuDetail,"property-list":(l=s(p).find(c=>c.spuId===e.id))==null?void 0:l.propertyList,"rule-config":t.ruleConfig},{extension:o(()=>[C(t.$slots,"default")]),_:2},1032,["prop-form-data","property-list","rule-config"])]}),_:3}),r(a,{key:"id",align:"center",label:"\u5546\u54C1\u7F16\u53F7",prop:"id"}),r(a,{label:"\u5546\u54C1\u56FE","min-width":"80"},{default:o(({row:e})=>[r(n,{src:e.picUrl,class:"w-30px h-30px",onClick:u=>{return l=e.picUrl,void z({zIndex:99999999,urlList:[l]});var l}},null,8,["src","onClick"])]),_:1}),r(a,{"show-overflow-tooltip":!0,label:"\u5546\u54C1\u540D\u79F0","min-width":"300",prop:"name"}),r(a,{align:"center",label:"\u5546\u54C1\u552E\u4EF7","min-width":"90",prop:"price"},{default:o(({row:e})=>[P(S(s(I)(e.price)),1)]),_:1}),r(a,{align:"center",label:"\u9500\u91CF","min-width":"90",prop:"salesCount"}),r(a,{align:"center",label:"\u5E93\u5B58","min-width":"90",prop:"stock"})]),_:3},8,["data","expand-row-keys"])}}})});export{w as _,H as __tla};
