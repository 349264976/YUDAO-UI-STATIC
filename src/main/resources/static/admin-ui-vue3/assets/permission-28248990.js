import{d as e,c as t}from"./useI18n-56d4bc42.js";import{f as s,g as r,b as a}from"./index-a7ef0ded.js";import{a as o}from"./index-ffcbf524.js";import{u,C as n}from"./useCache-d48cf6c5.js";import{c as i}from"./cloneDeep-8298b498.js";const{wsCache:R}=u(),m=e("permission",{state:()=>({routers:[],addRouters:[],menuTabRouters:[]}),getters:{getRouters(){return this.routers},getAddRouters(){return s(i(this.addRouters))},getMenuTabRouters(){return this.menuTabRouters}},actions:{async generateRoutes(){return new Promise((async e=>{let t;R.get(n.ROLE_ROUTERS)?t=R.get(n.ROLE_ROUTERS):(t=await o(),R.set(n.ROLE_ROUTERS,t));const s=r(t);this.addRouters=s.concat([{path:"/:path(.*)*",redirect:"/404",name:"404Page",meta:{hidden:!0,breadcrumb:!1}}]),this.routers=i(a).concat(s),e()}))},setMenuTabRouters(e){this.menuTabRouters=e}}}),c=()=>m(t);export{m as a,c as u};
