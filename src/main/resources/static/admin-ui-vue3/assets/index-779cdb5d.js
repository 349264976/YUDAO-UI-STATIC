import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-63555901.js";import{_ as t}from"./XTable.vue_vue_type_style_index_0_lang-9c560634.js";import{_ as i}from"./XTextButton-ab77381a.js";import{_ as o}from"./XButton-39866472.js";import{d as r}from"./download-20922b56.js";import{b as s,d as p,s as m,e as a}from"./index-6f787488.js";import{u as n}from"./useI18n-56d4bc42.js";import{r as l}from"./formRules-a3380b28.js";import{u as c}from"./useVxeCrudSchemas-8bec068b.js";import{A as d,d as u,r as j,Q as _,o as f,i as g,l as v,w as y,f as x,b,F as h}from"./runtime-core.esm-bundler-ccc21fcd.js";import"./Form.vue_vue_type_style_index_0_scoped_f983cb9f_lang-54d674bd.js";import"./dict-3e42505d.js";import"./index-a7ef0ded.js";import{_ as w}from"./ImportTable.vue_vue_type_script_setup_true_lang-de134278.js";import{_ as k}from"./Preview.vue_vue_type_script_setup_true_lang-bff0b535.js";import{u as C}from"./useMessage-5e709b20.js";import{u as I}from"./vue-router-0864a153.js";import{u as T}from"./useXTable-bf420a68.js";import"./base-085523fd.js";import"./el-card-d8ab0074.js";import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./Icon.vue_vue_type_script_setup_true_lang-4448c023.js";import"./propTypes-5cfdbdab.js";import"./index-7486e100.js";import"./aria-8fadfbe9.js";import"./focus-trap-f53979c5.js";import"./runtime-dom.esm-bundler-daa7e741.js";import"./index-4665dced.js";import"./index-7a379d2e.js";import"./app-41ac77cd.js";import"./index-cf52a0ab.js";import"./el-message-7ddf9388.js";import"./index-c2caee16.js";import"./is-a7957d81.js";import"./useCache-d48cf6c5.js";import"./XTextButton.vue_vue_type_style_index_0_scoped_0fcea4df_lang-41ab76b9.js";import"./el-button-6b012e5e.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./index-6f87c872.js";import"./el-form-item-8022b942.js";import"./el-notification-c7d5f4ea.js";import"./cloneDeep-8298b498.js";import"./el-row-ad412a39.js";import"./el-col-613bea3c.js";/* empty css               */import"./el-checkbox-cd7dd8c1.js";import"./isEqual-6e1d5dd6.js";import"./_flatRest-ac7abae6.js";import"./el-radio-group-d1c0e064.js";/* empty css                     */import"./el-input-number-4fe7018b.js";/* empty css                  */import"./el-tree-39cab679.js";import"./index-183fdc84.js";import"./el-tree-select-6f481715.js";import"./index-168f367d.js";import"./index-be3181b1.js";import"./index-795de047.js";import"./strings-777507ad.js";import"./debounce-eb6bb100.js";import"./index-9d88d8a4.js";import"./el-switch-4b318cc1.js";/* empty css                   */import"./InputPassword-d0077663.js";import"./auth-2fa258a0.js";import"./el-image-viewer-f62c5b85.js";import"./el-progress-64245232.js";import"./dayjs.min-65a6b1e4.js";import"./isArrayLikeObject-26c677c4.js";import"./index-653de86a.js";/* empty css                        *//* empty css                                                                   *//* empty css                    *//* empty css                   */import"./XModal.vue_vue_type_script_setup_true_lang-c47b87cf.js";import"./index-1e0c357f.js";import"./directive-7e87637f.js";import"./tree-150ed6f6.js";import"./index-cb1b634a.js";const{t:X}=n();d({title:[l],type:[l],status:[l]});const R=d({primaryKey:"id",primaryType:"seq",action:!0,actionWidth:"400px",columns:[{title:"表名称",field:"tableName",isSearch:!0},{title:"表描述",field:"tableComment",isSearch:!0},{title:"实体",field:"className",isSearch:!0},{title:X("common.createTime"),field:"createTime",formatter:"formatDate",isForm:!1,search:{show:!0,itemRender:{name:"XDataTimePicker"}}},{title:X("common.updateTime"),field:"updateTime",formatter:"formatDate",isForm:!1}]}),{allSchemas:S}=c(R),D=u({name:"Codegen"}),F=u({...D,setup(l){const{t:c}=n(),d=C(),{push:u}=I(),[X,{reload:R,deleteData:D}]=T({allSchemas:S,getListApi:s,deleteApi:p}),F=j(),N=j();return(s,p)=>{const n=o,l=i,j=t,C=e,I=_("hasPermi");return f(),g(h,null,[v(C,null,{default:y((()=>[v(j,{onRegister:x(X)},{toolbar_buttons:y((()=>[b(v(n,{type:"primary",preIcon:"ep:zoom-in",title:x(c)("action.import"),onClick:p[0]||(p[0]=e=>{F.value.show()})},null,8,["title"]),[[I,["infra:codegen:create"]]])])),actionbtns_default:y((({row:e})=>[b(v(l,{preIcon:"ep:view",title:x(c)("action.preview"),onClick:t=>(e=>{N.value.show(e)})(e)},null,8,["title","onClick"]),[[I,["infra:codegen:query"]]]),b(v(l,{preIcon:"ep:edit",title:x(c)("action.edit"),onClick:t=>{return i=e.id,void u("/codegen/edit?id="+i);var i}},null,8,["title","onClick"]),[[I,["infra:codegen:update"]]]),b(v(l,{preIcon:"ep:delete",title:x(c)("action.del"),onClick:t=>x(D)(e.id)},null,8,["title","onClick"]),[[I,["infra:codegen:delete"]]]),b(v(l,{preIcon:"ep:refresh",title:x(c)("action.sync"),onClick:t=>(e=>{const t=e.tableName;d.confirm("确认要强制同步"+t+"表结构吗?",c("common.reminder")).then((async()=>{await m(e.id),d.success("同步成功")}))})(e)},null,8,["title","onClick"]),[[I,["infra:codegen:update"]]]),b(v(l,{preIcon:"ep:download",title:x(c)("action.generate"),onClick:t=>(async e=>{const t=await a(e.id);r.zip(t,"codegen-"+e.className+".zip")})(e)},null,8,["title","onClick"]),[[I,["infra:codegen:download"]]])])),_:1},8,["onRegister"])])),_:1}),v(x(w),{ref_key:"importRef",ref:F,onOk:p[1]||(p[1]=e=>x(R)())},null,512),v(x(k),{ref_key:"previewRef",ref:N},null,512)],64)}}});export{F as default};
