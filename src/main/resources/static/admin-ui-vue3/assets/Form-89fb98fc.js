import{b8 as fl,d as ye,a8 as hl,ah as Se,r as K,aW as Re,b as T,a as x,A as Ue,b9 as vl,ba as bl,ay as we,h as Be,aX as Vt,a9 as Z,bb as gl,aj as je,o as D,c as G,t as le,V as E,au as se,g as Q,bc as yl,bd as Sl,be as xl,aU as Vl,bf as Il,al as Ee,aN as J,bg as Cl,af as he,bh as wl,i as F,a2 as ce,bi as ae,bj as Oe,bk as Ol,aZ as Te,bl as Tl,bm as qe,bn as Ml,bo as kl,f as Ge,bp as It,bq as _l,br as zl,bs as Pl,aP as Rl,bt as Ct,bu as Bl,bv as El,bw as Ll,bx as wt,by as Ot,a4 as Fl,b6 as Tt,aT as Dl,bz as Nl,bA as Wl,at as Mt,bB as Kl,a7 as Le,O as Qe,B as xe,w as X,a1 as de,F as Ve,k as Xe,q as ue,P as ne,a3 as $l,am as Al,bC as Hl,a5 as kt,aO as _t,T as Ul,bD as jl,bE as ql,C as Gl,bF as Ql,bG as Xl,bH as Zl,bI as Jl,G as Yl,bJ as ea,bK as ta,bL as la,m as aa,bM as oa,l as sa,bN as na,M as ia,a6 as ra,bO as ca,aG as da,bP as ua,p as Me,L as pa,I as ma,Z as fa,bQ as ha,v as va,n as ba,E as ga,_ as ya,D as Sa,a_ as xa,__tla as Va}from"./index-0f589822.js";import{c as Ia,r as Ca,H as zt,V as wa,v as Oa,I as Pt,S as Rt,u as Ta,i as ke,R as Ze,g as Bt,a as Ma,b as Et,d as ka,B as _a,F as za,e as Je,A as Ye,f as Pa,C as Fe,E as Lt,h as Ft,j as Dt,D as Ra,__tla as Ba}from"./el-virtual-list-d5f16f43.js";import{E as Ea,__tla as La}from"./el-tree-select-df2c08ac.js";import{E as Fa,__tla as Da}from"./el-time-select-a6199faf.js";import{I as Na,__tla as Wa}from"./InputPassword-59b0f616.js";import{_ as Ka,__tla as $a}from"./style.css_vue_type_style_index_0_src_true_lang-317ea815.js";import{_ as Aa,__tla as Ha}from"./UploadImg-fe783aab.js";import{U as Ua,__tla as ja}from"./UploadImgs-4f92341d.js";import{_ as qa,__tla as Ga}from"./UploadFile.vue_vue_type_style_index_0_scoped_5a2639f8_lang-77946e64.js";import{_ as Nt}from"./_plugin-vue_export-helper-1b428a4d.js";let Wt,pe,Qa=Promise.all([(()=>{try{return Va}catch{}})(),(()=>{try{return Ba}catch{}})(),(()=>{try{return La}catch{}})(),(()=>{try{return Da}catch{}})(),(()=>{try{return Wa}catch{}})(),(()=>{try{return $a}catch{}})(),(()=>{try{return Ha}catch{}})(),(()=>{try{return ja}catch{}})(),(()=>{try{return Ga}catch{}})()]).then(async()=>{const Kt={[zt]:"deltaX",[wa]:"deltaY"},et=({name:e,getOffset:l,getItemSize:i,getItemOffset:n,getEstimatedTotalSize:p,getStartIndexForOffset:r,getStopIndexForStartIndex:c,initCache:o,clearCache:y,validateProps:N})=>ye({name:e??"ElVirtualList",props:Oa,emits:[Pt,Rt],setup(f,{emit:C,expose:t}){N(f);const V=hl(),S=Se("vl"),k=K(o(f,V)),h=Ta(),d=K(),u=K(),M=K(),m=K({isScrolling:!1,scrollDir:"forward",scrollOffset:Re(f.initScrollOffset)?f.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:f.scrollbarAlwaysOn}),I=T(()=>{const{total:g,cache:_}=f,{isScrolling:B,scrollDir:H,scrollOffset:P}=x(m);if(g===0)return[0,0,0,0];const L=r(f,P,x(k)),U=c(f,L,P,x(k)),j=B&&H!==_a?1:Math.max(1,_),ee=B&&H!==za?1:Math.max(1,_);return[Math.max(0,L-j),Math.max(0,Math.min(g-1,U+ee)),L,U]}),w=T(()=>p(f,x(k))),v=T(()=>ke(f.layout)),O=T(()=>[{position:"relative",["overflow-"+(v.value?"x":"y")]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:f.direction,height:Re(f.height)?`${f.height}px`:f.height,width:Re(f.width)?`${f.width}px`:f.width},f.style]),$=T(()=>{const g=x(w),_=x(v);return{height:_?"100%":`${g}px`,pointerEvents:x(m).isScrolling?"none":void 0,width:_?`${g}px`:"100%"}}),R=T(()=>v.value?f.width:f.height),{onWheel:W}=(({atEndEdge:g,atStartEdge:_,layout:B},H)=>{let P,L=0;const U=j=>j<0&&_.value||j>0&&g.value;return{hasReachedEdge:U,onWheel:j=>{Ia(P);const ee=j[Kt[B.value]];U(L)&&U(L+ee)||(L+=ee,fl()||j.preventDefault(),P=Ca(()=>{H(L),L=0}))}}})({atStartEdge:T(()=>m.value.scrollOffset<=0),atEndEdge:T(()=>m.value.scrollOffset>=w.value),layout:T(()=>f.layout)},g=>{var _,B;(B=(_=M.value).onMouseUp)==null||B.call(_),q(Math.min(m.value.scrollOffset+g,w.value-R.value))}),A=()=>{const{total:g}=f;if(g>0){const[P,L,U,j]=x(I);C(Pt,P,L,U,j)}const{scrollDir:_,scrollOffset:B,updateRequested:H}=x(m);C(Rt,_,B,H)},q=g=>{(g=Math.max(g,0))!==x(m).scrollOffset&&(m.value={...x(m),scrollOffset:g,scrollDir:Je(x(m).scrollOffset,g),updateRequested:!0},Z(oe))},ie=(g,_=Ye)=>{const{scrollOffset:B}=x(m);g=Math.max(0,Math.min(g,f.total-1)),q(l(f,g,_,B,x(k)))},oe=()=>{m.value.isScrolling=!1,Z(()=>{h.value(-1,null,null)})},Y=()=>{const g=d.value;g&&(g.scrollTop=0)};Ue(()=>{if(!vl)return;const{initScrollOffset:g}=f,_=x(d);Re(g)&&_&&(x(v)?_.scrollLeft=g:_.scrollTop=g),A()}),bl(()=>{const{direction:g,layout:_}=f,{scrollOffset:B,updateRequested:H}=x(m),P=x(d);if(H&&P)if(_===zt)if(g===Ze)switch(Bt()){case Et:P.scrollLeft=-B;break;case Ma:P.scrollLeft=B;break;default:{const{clientWidth:L,scrollWidth:U}=P;P.scrollLeft=U-L-B;break}}else P.scrollLeft=B;else P.scrollTop=B});const be={ns:S,clientSize:R,estimatedTotalSize:w,windowStyle:O,windowRef:d,innerRef:u,innerStyle:$,itemsToRender:I,scrollbarRef:M,states:m,getItemStyle:g=>{const{direction:_,itemSize:B,layout:H}=f,P=h.value(y&&B,y&&H,y&&_);let L;if(gl(P,String(g)))L=P[g];else{const U=n(f,g,x(k)),j=i(f,g,x(k)),ee=x(v),Ie=_===Ze,ge=ee?U:0;P[g]=L={position:"absolute",left:Ie?void 0:`${ge}px`,right:Ie?`${ge}px`:void 0,top:ee?0:`${U}px`,height:ee?"100%":`${j}px`,width:ee?`${j}px`:"100%"}}return L},onScroll:g=>{x(v)?(_=>{const{clientWidth:B,scrollLeft:H,scrollWidth:P}=_.currentTarget,L=x(m);if(L.scrollOffset===H)return;const{direction:U}=f;let j=H;if(U===Ze)switch(Bt()){case Et:j=-H;break;case Pa:j=P-B-H}j=Math.max(0,Math.min(j,P-B)),m.value={...L,isScrolling:!0,scrollDir:Je(L.scrollOffset,j),scrollOffset:j,updateRequested:!1},Z(oe)})(g):(_=>{const{clientHeight:B,scrollHeight:H,scrollTop:P}=_.currentTarget,L=x(m);if(L.scrollOffset===P)return;const U=Math.max(0,Math.min(P,H-B));m.value={...L,isScrolling:!0,scrollDir:Je(L.scrollOffset,U),scrollOffset:U,updateRequested:!1},Z(oe)})(g),A()},onScrollbarScroll:(g,_)=>{const B=(w.value-R.value)/_*g;q(Math.min(w.value-R.value,B))},onWheel:W,scrollTo:q,scrollToItem:ie,resetScrollTop:Y};return t({windowRef:d,innerRef:u,getItemStyleCache:h,scrollTo:q,scrollToItem:ie,resetScrollTop:Y,states:m}),be},render(f){var C;const{$slots:t,className:V,clientSize:S,containerElement:k,data:h,getItemStyle:d,innerElement:u,itemsToRender:M,innerStyle:m,layout:I,total:w,onScroll:v,onScrollbarScroll:O,onWheel:$,states:R,useIsScrolling:W,windowStyle:A,ns:q}=f,[ie,oe]=M,Y=we(k),be=we(u),g=[];if(w>0)for(let P=ie;P<=oe;P++)g.push((C=t.default)==null?void 0:C.call(t,{data:h,key:P,index:P,isScrolling:W?R.isScrolling:void 0,style:d(P)}));const _=[Be(be,{style:m,ref:"innerRef"},Vt(be)?g:{default:()=>g})],B=Be(ka,{ref:"scrollbarRef",clientSize:S,layout:I,onScroll:O,ratio:100*S/this.estimatedTotalSize,scrollFrom:R.scrollOffset/(this.estimatedTotalSize-S),total:w}),H=Be(Y,{class:[q.e("window"),V],style:A,onScroll:v,onWheel:$,ref:"windowRef",key:0},Vt(Y)?[_]:{default:()=>[_]});return Be("div",{key:0,class:[q.e("wrapper"),R.scrollbarAlwaysOn?"always-on":""]},[H,B])}}),$t=et({name:"ElFixedSizeList",getItemOffset:({itemSize:e},l)=>l*e,getItemSize:({itemSize:e})=>e,getEstimatedTotalSize:({total:e,itemSize:l})=>l*e,getOffset:({height:e,total:l,itemSize:i,layout:n,width:p},r,c,o)=>{const y=ke(n)?p:e,N=Math.max(0,l*i-y),f=Math.min(N,r*i),C=Math.max(0,(r+1)*i-y);switch(c===Dt&&(c=o>=C-y&&o<=f+y?Ye:Fe),c){case Ft:return f;case Lt:return C;case Fe:{const t=Math.round(C+(f-C)/2);return t<Math.ceil(y/2)?0:t>N+Math.floor(y/2)?N:t}default:return o>=C&&o<=f?o:o<C?C:f}},getStartIndexForOffset:({total:e,itemSize:l},i)=>Math.max(0,Math.min(e-1,Math.floor(i/l))),getStopIndexForStartIndex:({height:e,total:l,itemSize:i,layout:n,width:p},r,c)=>{const o=r*i,y=ke(n)?p:e,N=Math.ceil((y+c-o)/i);return Math.max(0,Math.min(l-1,r+N-1))},initCache(){},clearCache:!0,validateProps(){}}),ve=(e,l,i)=>{const{itemSize:n}=e,{items:p,lastVisitedIndex:r}=i;if(l>r){let c=0;if(r>=0){const o=p[r];c=o.offset+o.size}for(let o=r+1;o<=l;o++){const y=n(o);p[o]={offset:c,size:y},c+=y}i.lastVisitedIndex=l}return p[l]},tt=(e,l,i,n,p)=>{for(;i<=n;){const r=i+Math.floor((n-i)/2),c=ve(e,r,l).offset;if(c===p)return r;c<p?i=r+1:c>p&&(n=r-1)}return Math.max(0,i-1)},At=(e,l,i,n)=>{const{total:p}=e;let r=1;for(;i<p&&ve(e,i,l).offset<n;)i+=r,r*=2;return tt(e,l,Math.floor(i/2),Math.min(i,p-1),n)},lt=({total:e},{items:l,estimatedItemSize:i,lastVisitedIndex:n})=>{let p=0;if(n>=e&&(n=e-1),n>=0){const r=l[n];p=r.offset+r.size}return p+(e-n-1)*i},Ht=et({name:"ElDynamicSizeList",getItemOffset:(e,l,i)=>ve(e,l,i).offset,getItemSize:(e,l,{items:i})=>i[l].size,getEstimatedTotalSize:lt,getOffset:(e,l,i,n,p)=>{const{height:r,layout:c,width:o}=e,y=ke(c)?o:r,N=ve(e,l,p),f=lt(e,p),C=Math.max(0,Math.min(f-y,N.offset)),t=Math.max(0,N.offset-y+N.size);switch(i===Dt&&(i=n>=t-y&&n<=C+y?Ye:Fe),i){case Ft:return C;case Lt:return t;case Fe:return Math.round(t+(C-t)/2);default:return n>=t&&n<=C?n:n<t?t:C}},getStartIndexForOffset:(e,l,i)=>((n,p,r)=>{const{items:c,lastVisitedIndex:o}=p;return(o>0?c[o].offset:0)>=r?tt(n,p,0,o,r):At(n,p,Math.max(0,o),r)})(e,i,l),getStopIndexForStartIndex:(e,l,i,n)=>{const{height:p,total:r,layout:c,width:o}=e,y=ke(c)?o:p,N=ve(e,l,n),f=i+y;let C=N.offset+N.size,t=l;for(;t<r-1&&C<f;)t++,C+=ve(e,t,n).size;return t},initCache({estimatedItemSize:e=Ra},l){const i={items:{},estimatedItemSize:e,lastVisitedIndex:-1,clearCacheAfterIndex:(n,p=!0)=>{var r,c;i.lastVisitedIndex=Math.min(i.lastVisitedIndex,n-1),(r=l.exposed)==null||r.getItemStyleCache(-1),p&&((c=l.proxy)==null||c.$forceUpdate())}};return i},clearCache:!1,validateProps:({itemSize:e})=>{}});var Ut=je(ye({props:{item:{type:Object,required:!0},style:Object,height:Number},setup:()=>({ns:Se("select")})}),[["render",function(e,l,i,n,p,r){return e.item.isTitle?(D(),G("div",{key:0,class:E(e.ns.be("group","title")),style:se([e.style,{lineHeight:`${e.height}px`}])},le(e.item.label),7)):(D(),G("div",{key:1,class:E(e.ns.be("group","split")),style:se(e.style)},[Q("span",{class:E(e.ns.be("group","split-dash")),style:se({top:e.height/2+"px"})},null,6)],6))}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/group-item.vue"]]);const jt={allowCreate:Boolean,autocomplete:{type:String,default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:[String,Object],default:yl},effect:{type:String,default:"light"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:170},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,label:String,modelValue:[Array,String,Number,Boolean,Object],multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:Array,required:!0},placeholder:{type:String},teleported:Sl.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,size:{type:String,validator:xl},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:{type:Boolean,default:!1},validateEvent:{type:Boolean,default:!0},placement:{type:Vl(String),values:Il,default:"bottom-start"}},qt={data:Array,disabled:Boolean,hovering:Boolean,item:Object,index:Number,style:Object,selected:Boolean,created:Boolean},Gt=ye({props:qt,emits:["select","hover"],setup(e,{emit:l}){const i=Se("select"),{hoverItem:n,selectOptionClick:p}=function(r,{emit:c}){return{hoverItem:()=>{r.disabled||c("hover",r.index)},selectOptionClick:()=>{r.disabled||c("select",r.item,r.index)}}}(e,{emit:l});return{ns:i,hoverItem:n,selectOptionClick:p}}}),Qt=["aria-selected"];var Xt=je(Gt,[["render",function(e,l,i,n,p,r){return D(),G("li",{"aria-selected":e.selected,style:se(e.style),class:E([e.ns.be("dropdown","option-item"),e.ns.is("selected",e.selected),e.ns.is("disabled",e.disabled),e.ns.is("created",e.created),{hover:e.hovering}]),onMouseenter:l[0]||(l[0]=(...c)=>e.hoverItem&&e.hoverItem(...c)),onClick:l[1]||(l[1]=J((...c)=>e.selectOptionClick&&e.selectOptionClick(...c),["stop"]))},[Ee(e.$slots,"default",{item:e.item,index:e.index,disabled:e.disabled},()=>[Q("span",null,le(e.item.label),1)])],46,Qt)}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/option-item.vue"]]);const at=Symbol("ElSelectV2Injection");var Zt=ye({name:"ElSelectDropdown",props:{data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(e,{slots:l,expose:i}){const n=Cl(at),p=Se("select"),r=K([]),c=K(),o=T(()=>e.data.length);he(()=>o.value,()=>{var d,u;(u=(d=n.popper.value).updatePopper)==null||u.call(d)});const y=T(()=>wl(n.props.estimatedOptionHeight)),N=T(()=>y.value?{itemSize:n.props.itemHeight}:{estimatedSize:n.props.estimatedOptionHeight,itemSize:d=>r.value[d]}),f=(d,u)=>{const{valueKey:M}=n.props;return n.props.multiple?((m=[],I)=>{const{props:{valueKey:w}}=n;return Oe(I)?m&&m.some(v=>ae(v,w)===ae(I,w)):m.includes(I)})(d,ae(u,M)):((m,I)=>{if(Oe(I)){const{valueKey:w}=n.props;return ae(m,w)===ae(I,w)}return m===I})(d,ae(u,M))},C=(d,u)=>{const{disabled:M,multiple:m,multipleLimit:I}=n.props;return M||!u&&!!m&&I>0&&d.length>=I},t=d=>e.hoveringIndex===d;i({listRef:c,isSized:y,isItemDisabled:C,isItemHovering:t,isItemSelected:f,scrollToItem:d=>{const u=c.value;u&&u.scrollToItem(d)},resetScrollTop:()=>{const d=c.value;d&&d.resetScrollTop()}});const V=d=>{const{index:u,data:M,style:m}=d,I=x(y),{itemSize:w,estimatedSize:v}=x(N),{modelValue:O}=n.props,{onSelect:$,onHover:R}=n,W=M[u];if(W.type==="Group")return F(Ut,{item:W,style:m,height:I?w:v},null);const A=f(O,W),q=C(O,A),ie=t(u);return F(Xt,ce(d,{selected:A,disabled:W.disabled||q,created:!!W.created,hovering:ie,item:W,onSelect:$,onHover:R}),{default:oe=>{var Y;return((Y=l.default)==null?void 0:Y.call(l,oe))||F("span",null,[W.label])}})},{onKeyboardNavigate:S,onKeyboardSelect:k}=n,h=d=>{const{code:u}=d,{tab:M,esc:m,down:I,up:w,enter:v}=Ol;switch(u!==M&&(d.preventDefault(),d.stopPropagation()),u){case M:case m:n.expanded=!1;break;case I:S("forward");break;case w:S("backward");break;case v:k()}};return()=>{var d;const{data:u,width:M}=e,{height:m,multiple:I,scrollbarAlwaysOn:w}=n.props;if(u.length===0)return F("div",{class:p.b("dropdown"),style:{width:`${M}px`}},[(d=l.empty)==null?void 0:d.call(l)]);const v=x(y)?$t:Ht;return F("div",{class:[p.b("dropdown"),p.is("multiple",I)]},[F(v,ce({ref:c},x(N),{className:p.be("dropdown","list"),scrollbarAlwaysOn:w,data:u,height:m,width:M,total:u.length,onKeydown:h}),{default:O=>F(V,O,null)})])}}});function Jt(e,l){const i=K(0),n=K(null),p=T(()=>e.allowCreate&&e.filterable);return{createNewOption:function(r){if(p.value)if(r&&r.length>0&&!function(c){const o=y=>y.value===c;return e.options&&e.options.some(o)||l.createdOptions.some(o)}(r)){const c={value:r,label:r,created:!0,disabled:!1};l.createdOptions.length>=i.value?l.createdOptions[i.value]=c:l.createdOptions.push(c)}else if(e.multiple)l.createdOptions.length=i.value;else{const c=n.value;l.createdOptions.length=0,c&&c.created&&l.createdOptions.push(c)}},removeNewOption:function(r){if(!p.value||!r||!r.created||r.created&&e.reserveKeyword&&l.inputValue===r.label)return;const c=l.createdOptions.findIndex(o=>o.value===r.value);~c&&(l.createdOptions.splice(c,1),i.value--)},selectNewOption:function(r){p.value&&(e.multiple&&r.created?i.value++:n.value=r)},clearAllNewOption:function(){p.value&&(l.createdOptions.length=0,i.value=0)}}}const Yt={larget:51,default:42,small:33},el=(e,l)=>{const{t:i}=Ml(),n=Se("select-v2"),p=Se("input"),{form:r,formItem:c}=kl(),o=Ge({inputValue:"",displayInputValue:"",calculatedWidth:0,cachedPlaceholder:"",cachedOptions:[],createdOptions:[],createdLabel:"",createdSelected:!1,currentPlaceholder:"",hoveringIndex:-1,comboBoxHovering:!1,isOnComposition:!1,isSilentBlur:!1,isComposing:!1,inputLength:20,selectWidth:200,initialInputHeight:0,previousQuery:null,previousValue:void 0,query:"",selectedLabel:"",softFocus:!1,tagInMultiLine:!1}),y=K(-1),N=K(-1),f=K(null),C=K(null),t=K(null),V=K(null),S=K(null),k=K(null),h=K(null),d=K(!1),u=T(()=>e.disabled||(r==null?void 0:r.disabled)),M=T(()=>{const a=34*A.value.length;return a>e.height?e.height:a}),m=T(()=>!It(e.modelValue)),I=T(()=>{const a=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:m.value;return e.clearable&&!u.value&&o.comboBoxHovering&&a}),w=T(()=>e.remote&&e.filterable?"":_l),v=T(()=>w.value&&n.is("reverse",d.value)),O=T(()=>(c==null?void 0:c.validateState)||""),$=T(()=>zl[O.value]),R=T(()=>e.remote?300:0),W=T(()=>{const a=A.value;return e.loading?e.loadingText||i("el.select.loading"):(!e.remote||o.inputValue!==""||a.length!==0)&&(e.filterable&&o.inputValue&&a.length>0?e.noMatchText||i("el.select.noMatch"):a.length===0?e.noDataText||i("el.select.noData"):null)}),A=T(()=>{const a=s=>{const b=o.inputValue,z=new RegExp(Ll(b),"i");return!b||z.test(s.label||"")};return e.loading?[]:(s=>{const b=[];return s.forEach(z=>{Te(z.options)?(b.push({label:z.label,isTitle:!0,type:"Group"}),z.options.forEach(te=>{b.push(te)}),b.push({type:"Group"})):b.push(z)}),b})(e.options.concat(o.createdOptions).map(s=>{if(Te(s.options)){const b=s.options.filter(a);if(b.length>0)return{...s,options:b}}else if(e.remote||a(s))return s;return null}).filter(s=>s!==null))}),q=T(()=>{const a=new Map;return A.value.forEach((s,b)=>{a.set(me(s),{option:s,index:b})}),a}),ie=T(()=>A.value.every(a=>a.disabled)),oe=Pl(),Y=T(()=>oe.value==="small"?"small":"default"),be=T(()=>{const a=k.value,s=Y.value||"default",b=a?Number.parseInt(getComputedStyle(a).paddingLeft):0,z=a?Number.parseInt(getComputedStyle(a).paddingRight):0;return o.selectWidth-z-b-Yt[s]}),g=()=>{var a;N.value=((a=S.value)==null?void 0:a.offsetWidth)||200},_=T(()=>({width:`${o.calculatedWidth===0?11:Math.ceil(o.calculatedWidth)+11}px`})),B=T(()=>Te(e.modelValue)?e.modelValue.length===0&&!o.displayInputValue:!e.filterable||o.displayInputValue.length===0),H=T(()=>{const a=e.placeholder||i("el.select.placeholder");return e.multiple||It(e.modelValue)?a:o.selectedLabel}),P=T(()=>{var a,s;return(s=(a=V.value)==null?void 0:a.popperRef)==null?void 0:s.contentRef}),L=T(()=>{if(e.multiple){const a=e.modelValue.length;if(e.modelValue.length>0&&q.value.has(e.modelValue[a-1])){const{index:s}=q.value.get(e.modelValue[a-1]);return s}}else if(e.modelValue&&q.value.has(e.modelValue)){const{index:a}=q.value.get(e.modelValue);return a}return-1}),U=T({get:()=>d.value&&W.value!==!1,set(a){d.value=a}}),j=T(()=>o.cachedOptions.slice(0,e.maxCollapseTags)),ee=T(()=>o.cachedOptions.slice(e.maxCollapseTags)),{createNewOption:Ie,removeNewOption:ge,selectNewOption:rt,clearAllNewOption:Ne}=Jt(e,o),{handleCompositionStart:il,handleCompositionUpdate:rl,handleCompositionEnd:cl}=function(a){const s=K(!1);return{handleCompositionStart:()=>{s.value=!0},handleCompositionUpdate:b=>{const z=b.target.value,te=z[z.length-1]||"";s.value=!Tl(te)},handleCompositionEnd:b=>{s.value&&(s.value=!1,qe(a)&&a(b))}}}(a=>gt(a)),ct=()=>{var a,s,b;(s=(a=C.value)==null?void 0:a.focus)==null||s.call(a),(b=V.value)==null||b.updatePopper()},We=()=>{if(!e.automaticDropdown)return u.value?void 0:(o.isComposing&&(o.softFocus=!0),Z(()=>{var a,s;d.value=!d.value,(s=(a=C.value)==null?void 0:a.focus)==null||s.call(a)}))},dt=()=>(e.filterable&&o.inputValue!==o.selectedLabel&&(o.query=o.selectedLabel),pt(o.inputValue),Z(()=>{Ie(o.inputValue)})),ut=Rl(dt,R.value),pt=a=>{o.previousQuery!==a&&(o.previousQuery=a,e.filterable&&qe(e.filterMethod)?e.filterMethod(a):e.filterable&&e.remote&&qe(e.remoteMethod)&&e.remoteMethod(a))},Ce=a=>{l(wt,a),(s=>{Ct(e.modelValue,s)||l(Ot,s)})(a),o.previousValue=a==null?void 0:a.toString()},me=a=>Oe(a)?ae(a,e.valueKey):a,Ke=()=>Z(()=>{var a,s;if(!C.value)return;const b=k.value;S.value.height=b.offsetHeight,d.value&&W.value!==!1&&((s=(a=V.value)==null?void 0:a.updatePopper)==null||s.call(a))}),mt=()=>{var a,s;if(dl(),g(),(s=(a=V.value)==null?void 0:a.updatePopper)==null||s.call(a),e.multiple)return Ke()},dl=()=>{const a=k.value;a&&(o.selectWidth=a.getBoundingClientRect().width)},ft=(a,s,b=!0)=>{var z,te;if(e.multiple){let re=e.modelValue.slice();const Pe=((yt=[],He)=>{if(!Oe(He))return yt.indexOf(He);const St=e.valueKey;let xt=-1;return yt.some((pl,ml)=>ae(pl,St)===ae(He,St)&&(xt=ml,!0)),xt})(re,me(a));Pe>-1?(re=[...re.slice(0,Pe),...re.slice(Pe+1)],o.cachedOptions.splice(Pe,1),ge(a)):(e.multipleLimit<=0||re.length<e.multipleLimit)&&(re=[...re,me(a)],o.cachedOptions.push(a),rt(a),fe(s)),Ce(re),a.created&&(o.query="",pt(""),o.inputLength=20),e.filterable&&!e.reserveKeyword&&((te=(z=C.value).focus)==null||te.call(z),ze("")),e.filterable&&(o.calculatedWidth=h.value.getBoundingClientRect().width),Ke(),ul()}else y.value=s,o.selectedLabel=a.label,Ce(me(a)),d.value=!1,o.isComposing=!1,o.isSilentBlur=b,rt(a),a.created||Ne(),fe(s)},ht=a=>(o.softFocus=!1,Z(()=>{var s,b;(b=(s=C.value)==null?void 0:s.blur)==null||b.call(s),h.value&&(o.calculatedWidth=h.value.getBoundingClientRect().width),o.isSilentBlur?o.isSilentBlur=!1:o.isComposing&&l("blur",a),o.isComposing=!1})),ze=a=>{o.displayInputValue=a,o.inputValue=a},vt=(a,s=void 0)=>{const b=A.value;if(!["forward","backward"].includes(a)||u.value||b.length<=0||ie.value)return;if(!d.value)return We();s===void 0&&(s=o.hoveringIndex);let z=-1;a==="forward"?(z=s+1,z>=b.length&&(z=0)):a==="backward"&&(z=s-1,(z<0||z>=b.length)&&(z=b.length-1));const te=b[z];if(te.disabled||te.type==="Group")return vt(a,z);fe(z),$e(z)},fe=a=>{o.hoveringIndex=a},bt=()=>{o.hoveringIndex=-1},ul=()=>{var a;const s=C.value;s&&((a=s.focus)==null||a.call(s))},gt=a=>{const s=a.target.value;if(ze(s),o.displayInputValue.length>0&&!d.value&&(d.value=!0),o.calculatedWidth=h.value.getBoundingClientRect().width,e.multiple&&Ke(),!e.remote)return dt();ut()},$e=a=>{t.value.scrollToItem(a)},Ae=()=>{if(bt(),e.multiple)if(e.modelValue.length>0){let a=!1;o.cachedOptions.length=0,o.previousValue=e.modelValue.toString();for(const s of e.modelValue)if(q.value.has(s)){const{index:b,option:z}=q.value.get(s);o.cachedOptions.push(z),a||fe(b),a=!0}}else o.cachedOptions=[],o.previousValue=void 0;else if(m.value){o.previousValue=e.modelValue;const a=A.value,s=a.findIndex(b=>me(b)===me(e.modelValue));~s?(o.selectedLabel=a[s].label,fe(s)):o.selectedLabel=`${e.modelValue}`}else o.selectedLabel="",o.previousValue=void 0;Ne(),g()};return he(d,a=>{var s,b;l("visible-change",a),a?(b=(s=V.value).update)==null||b.call(s):(o.displayInputValue="",o.previousQuery=null,Ie(""))}),he(()=>e.modelValue,(a,s)=>{var b;a&&a.toString()===o.previousValue||Ae(),!Ct(a,s)&&e.validateEvent&&((b=c==null?void 0:c.validate)==null||b.call(c,"change").catch(z=>Bl()))},{deep:!0}),he(()=>e.options,()=>{const a=C.value;(!a||a&&document.activeElement!==a)&&Ae()},{deep:!0}),he(A,()=>Z(t.value.resetScrollTop)),he(()=>U.value,a=>{a||bt()}),Ue(()=>{Ae()}),El(S,mt),{collapseTagSize:Y,currentPlaceholder:H,expanded:d,emptyText:W,popupHeight:M,debounce:R,filteredOptions:A,iconComponent:w,iconReverse:v,inputWrapperStyle:_,popperSize:N,dropdownMenuVisible:U,hasModelValue:m,shouldShowPlaceholder:B,selectDisabled:u,selectSize:oe,showClearBtn:I,states:o,tagMaxWidth:be,nsSelectV2:n,nsInput:p,calculatorRef:h,controlRef:f,inputRef:C,menuRef:t,popper:V,selectRef:S,selectionRef:k,popperRef:P,validateState:O,validateIcon:$,showTagList:j,collapseTagList:ee,debouncedOnInputChange:ut,deleteTag:(a,s)=>{const{valueKey:b}=e,z=e.modelValue.indexOf(ae(s,b));if(z>-1&&!u.value){const te=[...e.modelValue.slice(0,z),...e.modelValue.slice(z+1)];return o.cachedOptions.splice(z,1),Ce(te),l("remove-tag",ae(s,b)),o.softFocus=!0,ge(s),Z(ct)}a.stopPropagation()},getLabel:a=>Oe(a)?a.label:a,getValueKey:me,handleBlur:ht,handleClear:()=>{let a;return a=Te(e.modelValue)?[]:void 0,o.softFocus=!0,e.multiple?o.cachedOptions=[]:o.selectedLabel="",d.value=!1,Ce(a),l("clear"),Ne(),Z(ct)},handleClickOutside:()=>(d.value=!1,ht()),handleDel:a=>{if(o.displayInputValue.length===0){a.preventDefault();const s=e.modelValue.slice();s.pop(),ge(o.cachedOptions.pop()),Ce(s)}},handleEsc:()=>{o.displayInputValue.length>0?ze(""):d.value=!1},handleFocus:a=>{const s=o.isComposing;o.isComposing=!0,o.softFocus?o.softFocus=!1:s||l("focus",a)},handleMenuEnter:()=>(o.inputValue=o.displayInputValue,Z(()=>{~L.value&&(fe(L.value),$e(o.hoveringIndex))})),handleResize:mt,toggleMenu:We,scrollTo:$e,onInput:gt,onKeyboardNavigate:vt,onKeyboardSelect:()=>{if(!d.value)return We();~o.hoveringIndex&&A.value[o.hoveringIndex]&&ft(A.value[o.hoveringIndex],o.hoveringIndex,!1)},onSelect:ft,onHover:fe,onUpdateInputValue:ze,handleCompositionStart:il,handleCompositionEnd:cl,handleCompositionUpdate:rl}},tl=ye({name:"ElSelectV2",components:{ElSelectMenu:Zt,ElTag:Fl,ElTooltip:Tt,ElIcon:Dl},directives:{ClickOutside:Nl,ModelText:Wl},props:jt,emits:[wt,Ot,"remove-tag","clear","visible-change","focus","blur"],setup(e,{emit:l}){const i=T(()=>{const{modelValue:p,multiple:r}=e,c=r?[]:void 0;return Te(p)?r?p:c:r?c:p}),n=el(Ge({...Mt(e),modelValue:i}),l);return Kl(at,{props:Ge({...Mt(e),height:n.popupHeight,modelValue:i}),popper:n.popper,onSelect:n.onSelect,onHover:n.onHover,onKeyboardNavigate:n.onKeyboardNavigate,onKeyboardSelect:n.onKeyboardSelect}),{...n,modelValue:i}}}),ll={key:0},al=["id","autocomplete","aria-expanded","aria-labelledby","disabled","readonly","name","unselectable"],ol=["textContent"],sl=["id","aria-labelledby","aria-expanded","autocomplete","disabled","name","readonly","unselectable"],nl=["textContent"];var _e=je(tl,[["render",function(e,l,i,n,p,r){const c=Le("el-tag"),o=Le("el-tooltip"),y=Le("el-icon"),N=Le("el-select-menu"),f=Qe("model-text"),C=Qe("click-outside");return xe((D(),G("div",{ref:"selectRef",class:E([e.nsSelectV2.b(),e.nsSelectV2.m(e.selectSize)]),onClick:l[24]||(l[24]=J((...t)=>e.toggleMenu&&e.toggleMenu(...t),["stop"])),onMouseenter:l[25]||(l[25]=t=>e.states.comboBoxHovering=!0),onMouseleave:l[26]||(l[26]=t=>e.states.comboBoxHovering=!1)},[F(o,{ref:"popper",visible:e.dropdownMenuVisible,teleported:e.teleported,"popper-class":[e.nsSelectV2.e("popper"),e.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,placement:e.placement,pure:"",transition:`${e.nsSelectV2.namespace.value}-zoom-in-top`,trigger:"click",persistent:e.persistent,onBeforeShow:e.handleMenuEnter,onHide:l[23]||(l[23]=t=>e.states.inputValue=e.states.displayInputValue)},{default:X(()=>[Q("div",{ref:"selectionRef",class:E([e.nsSelectV2.e("wrapper"),e.nsSelectV2.is("focused",e.states.isComposing||e.expanded),e.nsSelectV2.is("hovering",e.states.comboBoxHovering),e.nsSelectV2.is("filterable",e.filterable),e.nsSelectV2.is("disabled",e.selectDisabled)])},[e.$slots.prefix?(D(),G("div",ll,[Ee(e.$slots,"prefix")])):de("v-if",!0),e.multiple?(D(),G("div",{key:1,class:E(e.nsSelectV2.e("selection"))},[e.collapseTags&&e.modelValue.length>0?(D(),G(Ve,{key:0},[(D(!0),G(Ve,null,Xe(e.showTagList,t=>(D(),G("div",{key:e.getValueKey(t),class:E(e.nsSelectV2.e("selected-item"))},[F(c,{closable:!e.selectDisabled&&!(t!=null&&t.disable),size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:V=>e.deleteTag(V,t)},{default:X(()=>[Q("span",{class:E(e.nsSelectV2.e("tags-text")),style:se({maxWidth:`${e.tagMaxWidth}px`})},le(t==null?void 0:t.label),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),Q("div",{class:E(e.nsSelectV2.e("selected-item"))},[e.modelValue.length>e.maxCollapseTags?(D(),ue(c,{key:0,closable:!1,size:e.collapseTagSize,type:"info","disable-transitions":""},{default:X(()=>[e.collapseTagsTooltip?(D(),ue(o,{key:0,disabled:e.dropdownMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:!1},{default:X(()=>[Q("span",{class:E(e.nsSelectV2.e("tags-text")),style:se({maxWidth:`${e.tagMaxWidth}px`})},"+ "+le(e.modelValue.length-e.maxCollapseTags),7)]),content:X(()=>[Q("div",{class:E(e.nsSelectV2.e("selection"))},[(D(!0),G(Ve,null,Xe(e.collapseTagList,t=>(D(),G("div",{key:e.getValueKey(t),class:E(e.nsSelectV2.e("selected-item"))},[F(c,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,class:"in-tooltip",type:"info","disable-transitions":"",onClose:V=>e.deleteTag(V,t)},{default:X(()=>[Q("span",{class:E(e.nsSelectV2.e("tags-text")),style:se({maxWidth:`${e.tagMaxWidth}px`})},le(e.getLabel(t)),7)]),_:2},1032,["closable","size","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect"])):(D(),G("span",{key:1,class:E(e.nsSelectV2.e("tags-text")),style:se({maxWidth:`${e.tagMaxWidth}px`})},"+ "+le(e.modelValue.length-e.maxCollapseTags),7))]),_:1},8,["size"])):de("v-if",!0)],2)],64)):(D(!0),G(Ve,{key:1},Xe(e.states.cachedOptions,t=>(D(),G("div",{key:e.getValueKey(t),class:E(e.nsSelectV2.e("selected-item"))},[F(c,{closable:!e.selectDisabled&&!t.disabled,size:e.collapseTagSize,type:"info","disable-transitions":"",onClose:V=>e.deleteTag(V,t)},{default:X(()=>[Q("span",{class:E(e.nsSelectV2.e("tags-text")),style:se({maxWidth:`${e.tagMaxWidth}px`})},le(e.getLabel(t)),7)]),_:2},1032,["closable","size","onClose"])],2))),128)),Q("div",{class:E([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")]),style:se(e.inputWrapperStyle)},[xe(Q("input",{id:e.id,ref:"inputRef",autocomplete:e.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":e.expanded,"aria-labelledby":e.label,class:E([e.nsSelectV2.is(e.selectSize),e.nsSelectV2.e("combobox-input")]),disabled:e.disabled,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",name:e.name,unselectable:e.expanded?"on":void 0,"onUpdate:modelValue":l[0]||(l[0]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t)),onFocus:l[1]||(l[1]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:l[2]||(l[2]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:l[3]||(l[3]=(...t)=>e.onInput&&e.onInput(...t)),onCompositionstart:l[4]||(l[4]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:l[5]||(l[5]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:l[6]||(l[6]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onKeydown:[l[7]||(l[7]=ne(J(t=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),l[8]||(l[8]=ne(J(t=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),l[9]||(l[9]=ne(J((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t),["stop","prevent"]),["enter"])),l[10]||(l[10]=ne(J((...t)=>e.handleEsc&&e.handleEsc(...t),["stop","prevent"]),["esc"])),l[11]||(l[11]=ne(J((...t)=>e.handleDel&&e.handleDel(...t),["stop"]),["delete"]))]},null,42,al),[[f,e.states.displayInputValue]]),e.filterable?(D(),G("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:E(e.nsSelectV2.e("input-calculator")),textContent:le(e.states.displayInputValue)},null,10,ol)):de("v-if",!0)],6)],2)):(D(),G(Ve,{key:2},[Q("div",{class:E([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-wrapper")])},[xe(Q("input",{id:e.id,ref:"inputRef","aria-autocomplete":"list","aria-haspopup":"listbox","aria-labelledby":e.label,"aria-expanded":e.expanded,autocapitalize:"off",autocomplete:e.autocomplete,class:E(e.nsSelectV2.e("combobox-input")),disabled:e.disabled,name:e.name,role:"combobox",readonly:!e.filterable,spellcheck:"false",type:"text",unselectable:e.expanded?"on":void 0,onCompositionstart:l[12]||(l[12]=(...t)=>e.handleCompositionStart&&e.handleCompositionStart(...t)),onCompositionupdate:l[13]||(l[13]=(...t)=>e.handleCompositionUpdate&&e.handleCompositionUpdate(...t)),onCompositionend:l[14]||(l[14]=(...t)=>e.handleCompositionEnd&&e.handleCompositionEnd(...t)),onFocus:l[15]||(l[15]=(...t)=>e.handleFocus&&e.handleFocus(...t)),onBlur:l[16]||(l[16]=(...t)=>e.handleBlur&&e.handleBlur(...t)),onInput:l[17]||(l[17]=(...t)=>e.onInput&&e.onInput(...t)),onKeydown:[l[18]||(l[18]=ne(J(t=>e.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),l[19]||(l[19]=ne(J(t=>e.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),l[20]||(l[20]=ne(J((...t)=>e.onKeyboardSelect&&e.onKeyboardSelect(...t),["stop","prevent"]),["enter"])),l[21]||(l[21]=ne(J((...t)=>e.handleEsc&&e.handleEsc(...t),["stop","prevent"]),["esc"]))],"onUpdate:modelValue":l[22]||(l[22]=(...t)=>e.onUpdateInputValue&&e.onUpdateInputValue(...t))},null,42,sl),[[f,e.states.displayInputValue]])],2),e.filterable?(D(),G("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:E([e.nsSelectV2.e("selected-item"),e.nsSelectV2.e("input-calculator")]),textContent:le(e.states.displayInputValue)},null,10,nl)):de("v-if",!0)],64)),e.shouldShowPlaceholder?(D(),G("span",{key:3,class:E([e.nsSelectV2.e("placeholder"),e.nsSelectV2.is("transparent",e.multiple?e.modelValue.length===0:!e.hasModelValue)])},le(e.currentPlaceholder),3)):de("v-if",!0),Q("span",{class:E(e.nsSelectV2.e("suffix"))},[e.iconComponent?xe((D(),ue(y,{key:0,class:E([e.nsSelectV2.e("caret"),e.nsInput.e("icon"),e.iconReverse])},{default:X(()=>[(D(),ue(we(e.iconComponent)))]),_:1},8,["class"])),[[$l,!e.showClearBtn]]):de("v-if",!0),e.showClearBtn&&e.clearIcon?(D(),ue(y,{key:1,class:E([e.nsSelectV2.e("caret"),e.nsInput.e("icon")]),onClick:J(e.handleClear,["prevent","stop"])},{default:X(()=>[(D(),ue(we(e.clearIcon)))]),_:1},8,["class","onClick"])):de("v-if",!0),e.validateState&&e.validateIcon?(D(),ue(y,{key:2,class:E([e.nsInput.e("icon"),e.nsInput.e("validateIcon")])},{default:X(()=>[(D(),ue(we(e.validateIcon)))]),_:1},8,["class"])):de("v-if",!0)],2)],2)]),content:X(()=>[F(N,{ref:"menuRef",data:e.filteredOptions,width:e.popperSize,"hovering-index":e.states.hoveringIndex,"scrollbar-always-on":e.scrollbarAlwaysOn},{default:X(t=>[Ee(e.$slots,"default",Al(Hl(t)))]),empty:X(()=>[Ee(e.$slots,"empty",{},()=>[Q("p",{class:E(e.nsSelectV2.e("empty"))},le(e.emptyText?e.emptyText:""),3)])]),_:3},8,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","effect","placement","transition","persistent","onBeforeShow"])],34)),[[C,e.handleClickOutside,e.popperRef]])}],["__file","/home/runner/work/element-plus/element-plus/packages/components/select-v2/src/select.vue"]]);_e.install=e=>{e.component(_e.name,_e)};let De,ot;De={Radio:kt,Checkbox:_t,CheckboxButton:_t,Input:Ul,Autocomplete:jl,InputNumber:ql,Select:Gl,Cascader:Ql,Switch:Xl,Slider:Zl,TimePicker:Jl,DatePicker:Yl,Rate:ea,ColorPicker:ta,Transfer:la,Divider:aa,TimeSelect:Fa,SelectV2:_e,TreeSelect:Ea,RadioButton:kt,InputPassword:Na,Editor:Ka,UploadImg:Aa,UploadImgs:Ua,UploadFile:Nt(qa,[["__scopeId","data-v-5a2639f8"]])},pe=(e,l="default",i)=>{if(!e||!Reflect.has(e,l)||!oa(e[l]))return null;const n=e[l];return n?n(i):null},ot=(e,l={},i)=>{const n={};for(const p in l)l[p]&&(n[p]=r=>pe(e,`${i}-${p}`,r));return n};function st(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!xa(e)}let nt,it;({getPrefixCls:nt}=fa()),it=nt("form"),Wt=Nt(ye({name:"Form",props:{schema:{type:Array,default:()=>[]},isCol:Me.bool.def(!1),model:{type:Object,default:()=>({})},autoSetPlaceholder:Me.bool.def(!0),isCustom:Me.bool.def(!1),labelWidth:Me.oneOfType([String,Number]).def("auto"),vLoading:Me.bool.def(!1)},emits:["register"],setup(e,{slots:l,expose:i,emit:n}){const p=K(),r=K({}),c=K({}),o=T(()=>{const t={...e};return Object.assign(t,x(c)),t}),y=K({});Ue(()=>{var t;n("register",(t=x(p))==null?void 0:t.$parent,x(p))}),i({setValues:(t={})=>{y.value=Object.assign(x(y),t)},formModel:y,setProps:(t={})=>{c.value=Object.assign(x(c),t),r.value=t},delSchema:t=>{const{schema:V}=x(o),S=ha(V,k=>k.field===t);S>-1&&V.splice(S,1)},addSchema:(t,V)=>{const{schema:S}=x(o);V===void 0?S.push(t):S.splice(V,0,t)},setSchema:t=>{const{schema:V}=x(o);for(const S of V)for(const k of t)S.field===k.field&&va(S,k.path,k.value)},getElFormRef:()=>x(p)}),he(()=>x(o).schema,(t=[])=>{y.value=((V,S)=>{const k={...S};return V.map(h=>{if(h.hidden)delete k[h.field];else if(h.component&&h.component!=="Divider"){const d=Reflect.has(k,h.field);k[h.field]=d?k[h.field]:h.value!==void 0?h.value:""}}),k})(t,x(y))},{immediate:!0,deep:!0});const N=()=>{const{schema:t=[],isCol:V}=x(o);return t.filter(S=>!S.hidden).map(S=>{let k;return S.component==="Divider"?F(De.Divider,{contentPosition:"left",...S.componentProps},{default:()=>[S==null?void 0:S.label]}):V?F(ga,((h={})=>({...h.span?{}:{xs:24,sm:12,md:12,lg:12,xl:12},...h}))(S.colProps),st(k=f(S))?k:{default:()=>[k]}):f(S)})},f=t=>{var h,d;const V=["SelectV2","Cascader","Transfer"],S={...ot(l,(h=t==null?void 0:t.componentProps)==null?void 0:h.slots,t.field)};(t==null?void 0:t.component)!=="SelectV2"&&(t==null?void 0:t.component)!=="Cascader"&&((d=t==null?void 0:t.componentProps)!=null&&d.options)&&(S.default=()=>C(t));const k=((u,M)=>{const m={};return u[`${M}-error`]&&(m.error=I=>pe(u,`${M}-error`,I)),u[`${M}-label`]&&(m.label=I=>pe(u,`${M}-label`,I)),m})(l,t.field);return t!=null&&t.labelMessage&&(k.label=()=>F(Ve,null,[F("span",null,[t.label]),F(Tt,{placement:"right","raw-content":!0},{content:()=>xe(F("span",null,null),[[Qe("dompurify-html"),t.labelMessage]]),default:()=>F(ya,{icon:"ep:warning",size:16,color:"var(--el-color-primary)",class:"ml-2px relative top-1px"},null)})])),F(Sa,ce(t.formItemProps||{},{prop:t.field,label:t.label||""}),{...k,default:()=>{var m,I,w;const u=De[t.component],{autoSetPlaceholder:M}=x(o);return l[t.field]?pe(l,t.field,y.value):F(u,ce({modelValue:y.value[t.field],"onUpdate:modelValue":v=>y.value[t.field]=v},M&&(v=>{var $,R;const{t:O}=sa();return["Input","Autocomplete","InputNumber","InputPassword"].includes(v==null?void 0:v.component)?{placeholder:O("common.inputText")+v.label}:["Select","SelectV2","TimePicker","DatePicker","TimeSelect","TimeSelect"].includes(v==null?void 0:v.component)?["datetimerange","daterange","monthrange","datetimerange","daterange"].includes((($=v==null?void 0:v.componentProps)==null?void 0:$.type)||((R=v==null?void 0:v.componentProps)==null?void 0:R.isRange))?{startPlaceholder:O("common.startTimeText"),endPlaceholder:O("common.endTimeText"),rangeSeparator:"-"}:{placeholder:O("common.selectText")+v.label}:{}})(t),(v=>{const O=["ColorPicker"].includes(v.component)?{...v.componentProps}:{clearable:!0,...v.componentProps};return O==null||delete O.slots,O})(t),{style:(m=t.componentProps)==null?void 0:m.style},V.includes(t==null?void 0:t.component)&&((I=t==null?void 0:t.componentProps)!=null&&I.options)?{options:((w=t==null?void 0:t.componentProps)==null?void 0:w.options)||[]}:{}),{...S})}})},C=t=>{switch(t.component){case"Select":case"SelectV2":const{renderSelectOptions:V}=(h=>{const d=(u,M)=>{var $,R,W,A;const m=(R=($=u==null?void 0:u.componentProps)==null?void 0:$.optionsAlias)==null?void 0:R.labelField,I=(A=(W=u==null?void 0:u.componentProps)==null?void 0:W.optionsAlias)==null?void 0:A.valueField,{label:w,value:v,...O}=M;return F(ia,ce(O,{label:m?M[m]:w,value:I?M[I]:v}),{default:()=>{var q;return(q=u==null?void 0:u.componentProps)!=null&&q.optionsSlot?pe(h,`${u.field}-option`,{item:M}):void 0}})};return{renderSelectOptions:u=>{var m,I,w,v;const M=(I=(m=u==null?void 0:u.componentProps)==null?void 0:m.optionsAlias)==null?void 0:I.labelField;return(v=(w=u==null?void 0:u.componentProps)==null?void 0:w.options)==null?void 0:v.map(O=>{var $;return($=O==null?void 0:O.options)!=null&&$.length?F(na,{label:O[M||"label"]},{default:()=>{var R;return(R=O==null?void 0:O.options)==null?void 0:R.map(W=>d(u,W))}}):d(u,O)})}}})(l);return V(t);case"Radio":case"RadioButton":const{renderRadioOptions:S}={renderRadioOptions:h=>{var m,I,w,v,O,$;const d=(I=(m=h==null?void 0:h.componentProps)==null?void 0:m.optionsAlias)==null?void 0:I.labelField,u=(v=(w=h==null?void 0:h.componentProps)==null?void 0:w.optionsAlias)==null?void 0:v.valueField,M=h.component==="Radio"?ra:ca;return($=(O=h==null?void 0:h.componentProps)==null?void 0:O.options)==null?void 0:$.map(R=>{const{...W}=R;return F(M,ce(W,{label:R[u||"value"]}),{default:()=>[R[d||"label"]]})})}};return S(t);case"Checkbox":case"CheckboxButton":const{renderCheckboxOptions:k}={renderCheckboxOptions:h=>{var m,I,w,v,O,$;const d=(I=(m=h==null?void 0:h.componentProps)==null?void 0:m.optionsAlias)==null?void 0:I.labelField,u=(v=(w=h==null?void 0:h.componentProps)==null?void 0:w.optionsAlias)==null?void 0:v.valueField,M=h.component==="Checkbox"?da:ua;return($=(O=h==null?void 0:h.componentProps)==null?void 0:O.options)==null?void 0:$.map(R=>{const{...W}=R;return F(M,ce(W,{label:R[u||"value"]}),{default:()=>[R[d||"label"]]})})}};return k(t)}};return()=>xe(F(ma,ce({ref:p},(()=>{const t=["schema","isCol","autoSetPlaceholder","isCustom","model"],V={...x(o)};for(const S in V)t.indexOf(S)!==-1&&delete V[S];return V})(),{model:e.isCustom?e.model:y,class:it}),{default:()=>{const{isCustom:t}=x(o);return t?pe(l,"default"):(()=>{let V;const{isCol:S}=x(o);return S?F(ba,{gutter:20},st(V=N())?V:{default:()=>[V]}):N()})()}}),[[pa,e.vLoading]])}}),[["__scopeId","data-v-4cbfad87"]])});export{Wt as _,Qa as __tla,pe as g};
