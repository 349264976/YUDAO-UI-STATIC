import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-63555901.js";import{_ as t}from"./XModal.vue_vue_type_script_setup_true_lang-c47b87cf.js";import{_ as o}from"./XTable.vue_vue_type_style_index_0_lang-9c560634.js";import{_ as r}from"./XTextButton-ab77381a.js";import{_ as i}from"./XButton-39866472.js";import{a as s,d as a,g as m}from"./index-918c96df.js";import{u as p}from"./useI18n-56d4bc42.js";import{r as l}from"./formRules-a3380b28.js";import{D as n}from"./dict-3e42505d.js";import{u}from"./useVxeCrudSchemas-8bec068b.js";import{A as d,d as c,r as _,C as j,Q as f,o as y,a as b,w as x,l as v,f as C,b as g,M as T,h}from"./runtime-core.esm-bundler-ccc21fcd.js";import{b as w}from"./formCreate-a3356cdc.js";import{u as k}from"./vue-router-0864a153.js";import{u as I}from"./useXTable-bf420a68.js";import"./base-085523fd.js";import"./el-card-d8ab0074.js";import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./Icon.vue_vue_type_script_setup_true_lang-4448c023.js";import"./propTypes-5cfdbdab.js";import"./index-7486e100.js";import"./aria-8fadfbe9.js";import"./focus-trap-f53979c5.js";import"./runtime-dom.esm-bundler-daa7e741.js";import"./index-4665dced.js";import"./index-7a379d2e.js";/* empty css                     */import"./index-be3181b1.js";import"./el-notification-c7d5f4ea.js";import"./el-button-6b012e5e.js";import"./index-c2caee16.js";import"./is-a7957d81.js";import"./app-41ac77cd.js";import"./index-cf52a0ab.js";import"./el-message-7ddf9388.js";import"./useCache-d48cf6c5.js";import"./download-20922b56.js";import"./useMessage-5e709b20.js";import"./XTextButton.vue_vue_type_style_index_0_scoped_0fcea4df_lang-41ab76b9.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./index-a7ef0ded.js";import"./auth-2fa258a0.js";import"./cloneDeep-8298b498.js";import"./_flatRest-ac7abae6.js";import"./index-6f87c872.js";const{t:S}=p();d({name:[l]});const X=d({primaryKey:"id",primaryType:"seq",primaryTitle:"表单编号",action:!0,columns:[{title:"表单名",field:"name",isSearch:!0},{title:S("common.status"),field:"status",dictType:n.COMMON_STATUS,dictClass:"number"},{title:"备注",field:"remark"},{title:S("common.createTime"),field:"createTime",formatter:"formatDate",isForm:!1,table:{width:180}}]}),{allSchemas:B}=u(X),D=c({name:"BpmForm"}),M=c({...D,setup(l){const{t:n}=p(),{push:u}=k(),[d,{deleteData:c}]=I({allSchemas:B,getListApi:s,deleteApi:a}),S=_(!1),X=_({rule:[],option:{}});return(s,a)=>{const p=i,l=r,_=o,k=j("form-create"),I=t,B=e,D=f("hasPermi");return y(),b(B,null,{default:x((()=>[v(_,{onRegister:C(d)},{toolbar_buttons:x((()=>[g(v(p,{type:"primary",preIcon:"ep:zoom-in",title:C(n)("action.add"),onClick:a[0]||(a[0]=e=>{u({name:"bpmFormEditor"})})},null,8,["title"]),[[D,["system:post:create"]]])])),actionbtns_default:x((({row:e})=>[g(v(l,{preIcon:"ep:edit",title:C(n)("action.edit"),onClick:t=>(async e=>{await u({name:"bpmFormEditor",query:{id:e}})})(e.id)},null,8,["title","onClick"]),[[D,["bpm:form:update"]]]),g(v(l,{preIcon:"ep:view",title:C(n)("action.detail"),onClick:t=>(async e=>{const t=await m(e);w(X,t.conf,t.fields),S.value=!0})(e.id)},null,8,["title","onClick"]),[[D,["bpm:form:query"]]]),g(v(l,{preIcon:"ep:delete",title:C(n)("action.del"),onClick:t=>C(c)(e.id)},null,8,["title","onClick"]),[[D,["bpm:form:delete"]]])])),_:1},8,["onRegister"]),v(I,{modelValue:C(S),"onUpdate:modelValue":a[1]||(a[1]=e=>T(S)?S.value=e:null),width:"800",title:"表单详情"},{default:x((()=>[C(S)?(y(),b(k,{key:0,rule:C(X).rule,option:C(X).option},null,8,["rule","option"])):h("",!0)])),_:1},8,["modelValue"])])),_:1})}}});export{M as default};
