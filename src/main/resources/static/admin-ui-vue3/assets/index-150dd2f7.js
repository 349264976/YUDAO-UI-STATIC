import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-63555901.js";import{_ as t}from"./XTable.vue_vue_type_style_index_0_lang-9c560634.js";import{_ as s}from"./XTextButton-ab77381a.js";import{_ as o}from"./XButton-39866472.js";import"./base-085523fd.js";import{a as r}from"./el-notification-c7d5f4ea.js";import"./el-button-6b012e5e.js";import{a as i,b as p}from"./leave.data-d5653728.js";import{a}from"./index-6ed5f261.js";import{u as n}from"./useI18n-56d4bc42.js";import{u as m}from"./useMessage-5e709b20.js";import{u as l}from"./vue-router-0864a153.js";import{u}from"./useXTable-bf420a68.js";import{d as c,Q as j,o as _,a as d,w as f,l as x,f as v,b as y,h as b}from"./runtime-core.esm-bundler-ccc21fcd.js";import"./el-card-d8ab0074.js";import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./Icon.vue_vue_type_script_setup_true_lang-4448c023.js";import"./propTypes-5cfdbdab.js";import"./index-7486e100.js";import"./aria-8fadfbe9.js";import"./focus-trap-f53979c5.js";import"./runtime-dom.esm-bundler-daa7e741.js";import"./index-4665dced.js";import"./index-7a379d2e.js";import"./app-41ac77cd.js";import"./index-cf52a0ab.js";import"./el-message-7ddf9388.js";import"./index-c2caee16.js";import"./is-a7957d81.js";import"./useCache-d48cf6c5.js";import"./download-20922b56.js";import"./XTextButton.vue_vue_type_style_index_0_scoped_0fcea4df_lang-41ab76b9.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./index-a7ef0ded.js";import"./auth-2fa258a0.js";import"./cloneDeep-8298b498.js";import"./_flatRest-ac7abae6.js";import"./dict-3e42505d.js";import"./useVxeCrudSchemas-8bec068b.js";import"./index-6f87c872.js";const g=c({__name:"index",setup(c){const{t:g}=n(),C=m(),{push:h}=l(),[k,{reload:I}]=u({allSchemas:i,getListApi:p});return(i,p)=>{const n=o,m=s,l=t,u=e,c=j("hasPermi");return _(),d(u,null,{default:f((()=>[x(l,{onRegister:v(k)},{toolbar_buttons:f((()=>[x(n,{type:"primary",preIcon:"ep:plus",title:"发起请假",onClick:p[0]||(p[0]=e=>{h({name:"OALeaveCreate"})})})])),actionbtns_default:f((({row:e})=>[1===e.result?y((_(),d(m,{key:0,preIcon:"ep:delete",title:"取消请假",onClick:t=>(e=>{r.prompt("请输入取消原因","取消流程",{confirmButtonText:g("common.ok"),cancelButtonText:g("common.cancel"),inputPattern:/^[\s\S]*.*\S[\s\S]*$/,inputErrorMessage:"取消原因不能为空"}).then((async({value:t})=>{await a(e.id,t),C.success("取消成功"),I()}))})(e)},null,8,["onClick"])),[[c,["bpm:oa-leave:create"]]]):b("",!0),x(m,{preIcon:"ep:view",title:v(g)("action.detail"),onClick:t=>(e=>{h({name:"OALeaveDetail",query:{id:e.id}})})(e)},null,8,["title","onClick"]),x(m,{preIcon:"ep:edit-pen",title:"审批进度",onClick:t=>(e=>{h({name:"BpmProcessInstanceDetail",query:{id:e.processInstanceId}})})(e)},null,8,["onClick"])])),_:1},8,["onRegister"])])),_:1})}}});export{g as default};
