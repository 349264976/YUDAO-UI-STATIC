import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-63555901.js";import{_ as t}from"./XTable.vue_vue_type_style_index_0_lang-9c560634.js";import{_ as s}from"./XTextButton-ab77381a.js";import{_ as i}from"./XButton-39866472.js";import{D as o}from"./dict-3e42505d.js";import{u as r}from"./useVxeCrudSchemas-8bec068b.js";import{A as a,d as p,Q as m,o as n,a as l,w as u,l as c,b as d,h as _,f as j}from"./runtime-core.esm-bundler-ccc21fcd.js";import{g as f,u as y,a as b}from"./index-a7c8d1db.js";import{u as h}from"./useMessage-5e709b20.js";import{u as T}from"./useXTable-bf420a68.js";import"./base-085523fd.js";import"./el-card-d8ab0074.js";import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./Icon.vue_vue_type_script_setup_true_lang-4448c023.js";import"./propTypes-5cfdbdab.js";import"./index-7486e100.js";import"./aria-8fadfbe9.js";import"./focus-trap-f53979c5.js";import"./runtime-dom.esm-bundler-daa7e741.js";import"./index-4665dced.js";import"./index-7a379d2e.js";import"./app-41ac77cd.js";import"./useI18n-56d4bc42.js";import"./useCache-d48cf6c5.js";import"./index-cf52a0ab.js";import"./el-message-7ddf9388.js";import"./index-c2caee16.js";import"./is-a7957d81.js";import"./download-20922b56.js";import"./XTextButton.vue_vue_type_style_index_0_scoped_0fcea4df_lang-41ab76b9.js";import"./el-button-6b012e5e.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./index-a7ef0ded.js";import"./el-notification-c7d5f4ea.js";import"./auth-2fa258a0.js";import"./vue-router-0864a153.js";import"./cloneDeep-8298b498.js";import"./_flatRest-ac7abae6.js";import"./index-6f87c872.js";const x=a({primaryKey:"id",primaryTitle:" ",primaryType:"checkbox",action:!0,actionWidth:"200",columns:[{title:"发送人名称",field:"templateNickname",table:{width:120}},{title:"发送时间",field:"createTime",isForm:!1,formatter:"formatDate",search:{show:!0,itemRender:{name:"XDataTimePicker"}},table:{width:180}},{title:"类型",field:"templateType",dictType:o.SYSTEM_NOTIFY_TEMPLATE_TYPE,dictClass:"number",table:{width:80}},{title:"内容",field:"templateContent"},{title:"是否已读",field:"readStatus",dictType:o.INFRA_BOOLEAN_STRING,dictClass:"boolean",table:{width:80},isSearch:!0}]}),{allSchemas:g}=r(x),w=p({name:"MyNotifyMessage"}),v=p({...w,setup(o){const r=h(),[a,{reload:p,getCheckboxRecords:x}]=T({allSchemas:g,getListApi:f}),w=async()=>{const e=x();0!==e.length&&await v(e.map((e=>e.id)))},v=async e=>{await y(e),r.success("标记已读成功！"),p()},C=async()=>{await b(),r.success("全部已读成功！"),p()};return(o,r)=>{const p=i,f=s,y=t,b=e,h=m("hasPermi");return n(),l(b,null,{default:u((()=>[c(y,{onRegister:j(a)},{toolbar_buttons:u((()=>[c(p,{type:"primary",preIcon:"ep:zoom-in",title:"标记已读",onClick:w}),c(p,{type:"primary",preIcon:"ep:zoom-in",title:"全部已读",onClick:C})])),actionbtns_default:u((({row:e})=>[e.readStatus?_("",!0):d((n(),l(f,{key:0,preIcon:"ep:view",title:"已读",onClick:t=>v([e.id])},null,8,["onClick"])),[[h,["system:notify-message:query"]]])])),_:1},8,["onRegister"])])),_:1})}}});export{v as default};
