import{_ as O,__tla as V}from"./Descriptions-add071e6.js";import{d as j,p as m,r as n,f as S,af as d,O as q,o as l,c as R,q as u,w as o,a as t,a1 as f,F as B,I as E,i as h,B as I,g as P,dp as U,D as z,__tla as A}from"./index-0f589822.js";import{_ as C,__tla as G}from"./style.css_vue_type_style_index_0_src_true_lang-317ea815.js";import{d as H,__tla as J}from"./spu.data-4698afe5.js";import{u as K,__tla as L}from"./useMessage-45ab706e.js";import{u as M,__tla as Q}from"./useCrudSchemas-9a73989a.js";import{r as T,__tla as W}from"./formRules-04f2a102.js";let y,X=Promise.all([(()=>{try{return V}catch{}})(),(()=>{try{return A}catch{}})(),(()=>{try{return G}catch{}})(),(()=>{try{return J}catch{}})(),(()=>{try{return L}catch{}})(),(()=>{try{return Q}catch{}})(),(()=>{try{return W}catch{}})()]).then(async()=>{let p;p={style:{width:"600px"}},y=j({name:"DescriptionForm",__name:"DescriptionForm",props:{propFormData:{type:Object,default:()=>{}},activeName:m.string.def(""),isDetail:m.bool.def(!1)},emits:["update:activeName"],setup(r,{expose:v,emit:D}){const _=r,w=K(),{allSchemas:F}=M(H),s=n(),a=n({description:""}),b=S({description:[T]});return d(()=>a.value.description,e=>{e==="<p><br></p>"&&(a.value.description="")},{deep:!0,immediate:!0}),d(()=>_.propFormData,e=>{e&&U(a.value,e)},{immediate:!0}),v({validate:async()=>{if(s)return await t(s).validate(e=>{if(!e)throw w.warning("\u5546\u54C1\u8BE6\u60C5\u4E3A\u5B8C\u5584!!"),D("update:activeName","description"),new Error("\u5546\u54C1\u8BE6\u60C5\u4E3A\u5B8C\u5584!!");Object.assign(_.propFormData,a.value)})}}),(e,c)=>{const g=z,x=E,k=O,N=q("dompurify-html");return l(),R(B,null,[r.isDetail?f("",!0):(l(),u(x,{key:0,ref_key:"descriptionFormRef",ref:s,model:t(a),rules:t(b),"label-width":"120px"},{default:o(()=>[h(g,{label:"\u5546\u54C1\u8BE6\u60C5",prop:"description"},{default:o(()=>[h(t(C),{modelValue:t(a).description,"onUpdate:modelValue":c[0]||(c[0]=i=>t(a).description=i)},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])),r.isDetail?(l(),u(k,{key:1,data:t(a),schema:t(F).detailSchema,class:"descriptionFormDescriptions"},{description:o(({row:i})=>[I(P("div",p,null,512),[[N,i.description]])]),_:1},8,["data","schema"])):f("",!0)],64)}}})});export{y as _,X as __tla};
