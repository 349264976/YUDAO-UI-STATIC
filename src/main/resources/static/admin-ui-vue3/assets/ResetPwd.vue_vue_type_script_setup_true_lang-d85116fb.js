import{d as b,r as y,f as _,o as h,q as V,w as d,i as l,a as e,l as q,D as v,I as R,__tla as x}from"./index-0f589822.js";import{_ as k,__tla as M}from"./XButton-ceeece05.js";import{I as i,__tla as U}from"./InputPassword-59b0f616.js";import{a as C,__tla as I}from"./profile-1a5a9953.js";import{u as D,__tla as E}from"./useMessage-45ab706e.js";let p,F=Promise.all([(()=>{try{return x}catch{}})(),(()=>{try{return M}catch{}})(),(()=>{try{return U}catch{}})(),(()=>{try{return I}catch{}})(),(()=>{try{return E}catch{}})()]).then(async()=>{p=b({name:"ResetPwd",__name:"ResetPwd",setup(S){const{t:a}=q(),f=D(),n=y(),s=_({oldPassword:"",newPassword:"",confirmPassword:""}),c=_({oldPassword:[{required:!0,message:a("profile.password.oldPwdMsg"),trigger:"blur"},{min:3,max:5,message:a("profile.password.pwdRules"),trigger:"blur"}],newPassword:[{required:!0,message:a("profile.password.newPwdMsg"),trigger:"blur"},{min:6,max:20,message:a("profile.password.pwdRules"),trigger:"blur"}],confirmPassword:[{required:!0,message:a("profile.password.cfPwdMsg"),trigger:"blur"},{required:!0,validator:(m,r)=>{s.newPassword!==m?r(new Error(a("profile.password.diffPwd"))):r()},trigger:"blur"}]});return(m,r)=>{const w=v,u=k,P=R;return h(),V(P,{ref_key:"formRef",ref:n,model:e(s),rules:e(c),"label-width":"80px"},{default:d(()=>[l(w,{label:e(a)("profile.password.oldPassword")},{default:d(()=>[l(e(i),{modelValue:e(s).oldPassword,"onUpdate:modelValue":r[0]||(r[0]=o=>e(s).oldPassword=o)},null,8,["modelValue"])]),_:1},8,["label"]),l(w,{label:e(a)("profile.password.newPassword")},{default:d(()=>[l(e(i),{modelValue:e(s).newPassword,"onUpdate:modelValue":r[1]||(r[1]=o=>e(s).newPassword=o),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(w,{label:e(a)("profile.password.confirmPassword")},{default:d(()=>[l(e(i),{modelValue:e(s).confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=o=>e(s).confirmPassword=o),strength:""},null,8,["modelValue"])]),_:1},8,["label"]),l(w,null,{default:d(()=>[l(u,{title:e(a)("common.save"),type:"primary",onClick:r[3]||(r[3]=o=>{var t;(t=e(n))&&t.validate(async g=>{g&&(await C(s.oldPassword,s.newPassword),f.success(a("common.updateSuccess")))})})},null,8,["title"]),l(u,{title:e(a)("common.reset"),type:"danger",onClick:r[4]||(r[4]=o=>{var t;(t=e(n))&&t.resetFields()})},null,8,["title"])]),_:1})]),_:1},8,["model","rules"])}}})});export{p as _,F as __tla};
