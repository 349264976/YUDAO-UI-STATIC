import{b9 as te,a8 as Me,b as c,bV as Le,bW as v,aU as S,ag as I,bX as Te,d as Ce,ah as ae,r as re,f as Ie,bY as Be,a as B,af as Re,aQ as Fe,h as le,aN as qe,__tla as Ae}from"./index-0f589822.js";let ne,G,oe,se,ie,j,h,ue,R,ce,F,P,V,k,de,me,H,ve,pe,fe,ge,he,ye,W,K,be,we,Oe=Promise.all([(()=>{try{return Ae}catch{}})()]).then(async()=>{K=e=>te?window.requestAnimationFrame(e):setTimeout(e,16),k=e=>te?window.cancelAnimationFrame(e):clearTimeout(e);var Y=Number.isNaN||function(e){return typeof e=="number"&&e!=e};function Se(e,a){if(e.length!==a.length)return!1;for(var l=0;l<e.length;l++)if(n=e[l],r=a[l],!(n===r||Y(n)&&Y(r)))return!1;var n,r;return!0}let Q,x,N,z,U,E,y,q,A,M,O,_;be=()=>{const e=Me().proxy.$props;return c(()=>{const a=(l,n,r)=>({});return e.perfMode?Le(a):function(l,n){n===void 0&&(n=Se);var r=null;function p(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];if(r&&r.lastThis===this&&n(u,r.lastArgs))return r.lastResult;var f=l.apply(this,u);return r={lastResult:f,lastArgs:u,lastThis:this},f}return p.clear=function(){r=null},p}(a)})},se=50,ue="itemRendered",ce="scroll",j="forward",G="backward",ne="auto",ge="smart",pe="start",oe="center",ie="end",h="horizontal",F="vertical",R="rtl",V="negative",P="positive-ascending",H="positive-descending",Q={[h]:"left",[F]:"top"},x=v({type:S([Number,Function]),required:!0}),N=v({type:Number}),z=v({type:Number,default:2}),U=v({type:String,values:["ltr","rtl"],default:"ltr"}),E=v({type:Number,default:0}),y=v({type:Number,required:!0}),q=v({type:String,values:["horizontal","vertical"],default:F}),A=I({className:{type:String,default:""},containerElement:{type:S([String,Object]),default:"div"},data:{type:S(Array),default:()=>Te([])},direction:U,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:S([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),we=I({cache:z,estimatedItemSize:N,layout:q,initScrollOffset:E,total:y,itemSize:x,...A}),M={type:Number,default:6},O={type:Number,default:0},_={type:Number,default:2},he=I({columnCache:z,columnWidth:x,estimatedColumnWidth:N,estimatedRowHeight:N,initScrollLeft:E,initScrollTop:E,itemKey:{type:S(Function),default:({columnIndex:e,rowIndex:a})=>`${a}:${e}`},rowCache:z,rowHeight:x,totalColumn:y,totalRow:y,hScrollbarSize:M,vScrollbarSize:M,scrollbarStartGap:O,scrollbarEndGap:_,role:String,...A}),W=I({alwaysOn:Boolean,class:String,layout:q,total:y,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:M,startGap:O,endGap:_,visible:Boolean}),me=(e,a)=>e<a?j:G,fe=e=>e==="ltr"||e===R||e===h,ye=e=>e===R;let b=null;ve=function(e=!1){if(b===null||e){const a=document.createElement("div"),l=a.style;l.width="50px",l.height="50px",l.overflow="scroll",l.direction="rtl";const n=document.createElement("div"),r=n.style;return r.width="100px",r.height="100px",a.appendChild(n),document.body.appendChild(a),a.scrollLeft>0?b=H:(a.scrollLeft=1,b=a.scrollLeft===0?V:P),document.body.removeChild(a),b}return b},de=Ce({name:"ElVirtualScrollBar",props:W,emits:["scroll","start-move","stop-move"],setup(e,{emit:a}){const l=c(()=>e.startGap+e.endGap),n=ae("virtual-scrollbar"),r=ae("scrollbar"),p=re(),u=re();let d=null,f=null;const i=Ie({isDragging:!1,traveled:0}),o=c(()=>Be[e.layout]),X=c(()=>e.clientSize-B(l)),xe=c(()=>({position:"absolute",width:`${h===e.layout?X.value:e.scrollbarSize}px`,height:`${h===e.layout?e.scrollbarSize:X.value}px`,[Q[e.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),$=c(()=>{const t=e.ratio,s=e.clientSize;if(t>=100)return Number.POSITIVE_INFINITY;if(t>=50)return t*s/100;const g=s/3;return Math.floor(Math.min(Math.max(t*s,20),g))}),Ne=c(()=>{if(!Number.isFinite($.value))return{display:"none"};const t=`${$.value}px`;return function({move:g,size:C,bar:ee},Ee){const m={},D=`translate${ee.axis}(${g}px)`;return m[ee.size]=C,m.transform=D,m.msTransform=D,m.webkitTransform=D,Ee==="horizontal"?m.height="100%":m.width="100%",m}({bar:o.value,size:t,move:i.traveled},e.layout)}),w=c(()=>Math.floor(e.clientSize-$.value-B(l))),J=()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",L),document.onselectstart=f,f=null;const t=B(u);t&&(t.removeEventListener("touchmove",T),t.removeEventListener("touchend",L))},Z=t=>{t.stopImmediatePropagation(),t.ctrlKey||[1,2].includes(t.button)||(i.isDragging=!0,i[o.value.axis]=t.currentTarget[o.value.offset]-(t[o.value.client]-t.currentTarget.getBoundingClientRect()[o.value.direction]),a("start-move"),(()=>{window.addEventListener("mousemove",T),window.addEventListener("mouseup",L);const s=B(u);s&&(f=document.onselectstart,document.onselectstart=()=>!1,s.addEventListener("touchmove",T),s.addEventListener("touchend",L))})())},L=()=>{i.isDragging=!1,i[o.value.axis]=0,a("stop-move"),J()},T=t=>{const{isDragging:s}=i;if(!s||!u.value||!p.value)return;const g=i[o.value.axis];if(!g)return;k(d);const C=-1*(p.value.getBoundingClientRect()[o.value.direction]-t[o.value.client])-(u.value[o.value.offset]-g);d=K(()=>{i.traveled=Math.max(e.startGap,Math.min(C,w.value)),a("scroll",C,w.value)})},ze=t=>{const s=Math.abs(t.target.getBoundingClientRect()[o.value.direction]-t[o.value.client])-u.value[o.value.offset]/2;i.traveled=Math.max(0,Math.min(s,w.value)),a("scroll",s,w.value)};return Re(()=>e.scrollFrom,t=>{i.isDragging||(i.traveled=Math.ceil(t*w.value))}),Fe(()=>{J()}),()=>le("div",{role:"presentation",ref:p,class:[n.b(),e.class,(e.alwaysOn||i.isDragging)&&"always-on"],style:xe.value,onMousedown:qe(ze,["stop","prevent"]),onTouchstartPrevent:Z},le("div",{ref:u,class:r.e("thumb"),style:Ne.value,onMousedown:Z},[]))}})});export{ne as A,G as B,oe as C,se as D,ie as E,j as F,h as H,ue as I,R,ce as S,F as V,Oe as __tla,P as a,V as b,k as c,de as d,me as e,H as f,ve as g,pe as h,fe as i,ge as j,he as k,ye as l,W as m,K as r,be as u,we as v};
