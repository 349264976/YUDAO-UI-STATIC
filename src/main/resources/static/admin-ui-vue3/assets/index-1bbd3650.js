import{_ as e}from"./XModal.vue_vue_type_script_setup_true_lang-c47b87cf.js";import{_ as t}from"./Descriptions-8db90f03.js";import{_ as i}from"./ContentWrap.vue_vue_type_script_setup_true_lang-63555901.js";import{_ as r}from"./XTable.vue_vue_type_style_index_0_lang-9c560634.js";import{_ as a}from"./XTextButton-ab77381a.js";import{_ as s}from"./XButton-39866472.js";import{u as o}from"./useI18n-56d4bc42.js";import{r as l}from"./formRules-a3380b28.js";import{D as m}from"./dict-3e42505d.js";import{u as n}from"./useVxeCrudSchemas-8bec068b.js";import{A as p,d,r as u,Q as c,o as f,i as _,l as j,w as y,f as h,b as x,M as T,F as g}from"./runtime-core.esm-bundler-ccc21fcd.js";import{a as S}from"./index-a7ef0ded.js";import{u as v}from"./useXTable-bf420a68.js";import"./base-085523fd.js";/* empty css                     */import"./propTypes-5cfdbdab.js";import"./index-be3181b1.js";import"./aria-8fadfbe9.js";import"./runtime-dom.esm-bundler-daa7e741.js";import"./el-notification-c7d5f4ea.js";import"./el-button-6b012e5e.js";import"./index-4665dced.js";import"./index-c2caee16.js";import"./is-a7957d81.js";import"./focus-trap-f53979c5.js";import"./index-7a379d2e.js";import"./el-descriptions-item-d373bc22.js";import"./DictTag.vue_vue_type_script_lang-a5ff2643.js";import"./color-a8b4eb58.js";/* empty css               */import"./index-795de047.js";import"./el-tooltip-4ed993c7.js";/* empty css                  */import"./Icon.vue_vue_type_script_setup_true_lang-4448c023.js";import"./dayjs.min-65a6b1e4.js";import"./useCache-d48cf6c5.js";import"./app-41ac77cd.js";import"./index-cf52a0ab.js";import"./el-message-7ddf9388.js";import"./index-7486e100.js";import"./index-183fdc84.js";import"./_plugin-vue_export-helper-1b428a4d.js";import"./el-card-d8ab0074.js";import"./download-20922b56.js";import"./useMessage-5e709b20.js";import"./XTextButton.vue_vue_type_style_index_0_scoped_0fcea4df_lang-41ab76b9.js";import"./index-6f87c872.js";import"./auth-2fa258a0.js";import"./vue-router-0864a153.js";import"./cloneDeep-8298b498.js";import"./_flatRest-ac7abae6.js";const{t:b}=o();p({merchantId:[l],appId:[l],merchantOrderId:[l],subject:[l],body:[l],notifyUrl:[l],notifyStatus:[l],amount:[l],status:[l],userIp:[l],expireTime:[l],refundStatus:[l],refundTimes:[l],refundAmount:[l]});const I=p({primaryKey:"id",primaryType:"seq",primaryTitle:"岗位编号",action:!0,columns:[{title:"商户编号",field:"merchantId",isSearch:!0},{title:"应用编号",field:"appId",isSearch:!0},{title:"渠道编号",field:"channelId"},{title:"渠道编码",field:"channelCode",isSearch:!0},{title:"渠道订单号",field:"merchantOrderId",isSearch:!0},{title:"商品标题",field:"subject"},{title:"商品描述",field:"body"},{title:"异步通知地址",field:"notifyUrl"},{title:"回调状态",field:"notifyStatus",dictType:m.PAY_ORDER_NOTIFY_STATUS,dictClass:"number"},{title:"支付金额",field:"amount",isSearch:!0},{title:"渠道手续费",field:"channelFeeRate",isSearch:!0},{title:"渠道手续金额",field:"channelFeeAmount",isSearch:!0},{title:"支付状态",field:"status",dictType:m.PAY_ORDER_STATUS,dictClass:"number",isSearch:!0},{title:"用户 IP",field:"userIp"},{title:"订单失效时间",field:"expireTime",formatter:"formatDate"},{title:"支付时间",field:"successTime",formatter:"formatDate"},{title:"支付通知时间",field:"notifyTime",formatter:"formatDate"},{title:"拓展编号",field:"successExtensionId"},{title:"退款状态",field:"refundStatus",dictType:m.PAY_ORDER_REFUND_STATUS,dictClass:"number",isSearch:!0},{title:"退款次数",field:"refundTimes"},{title:"退款总金额",field:"refundAmount"},{title:"渠道用户编号",field:"channelUserId"},{title:"渠道订单号",field:"channelOrderNo"},{title:b("common.createTime"),field:"createTime",formatter:"formatDate",isForm:!1,search:{show:!0,itemRender:{name:"XDataTimePicker"}}}]}),{allSchemas:w}=n(I),D=async e=>await S.get({url:"/pay/order/page",params:e}),C=async e=>await S.download({url:"/pay/order/export-excel",params:e}),R=d({name:"Order"}),A=d({...R,setup(l){const{t:m}=o(),[n,{exportList:p}]=v({allSchemas:w,getListApi:D,exportListApi:C}),d=u(!1),b=u(""),I=u(!1),R=u("edit"),A=u(),O=e=>{R.value=m("action."+e),b.value=e,I.value=!0},U=async e=>{O("detail");const t=await(async e=>await S.get({url:"/pay/order/get?id="+e}))(e);A.value=t};return(o,l)=>{const u=s,S=a,v=r,b=i,D=t,C=e,X=c("hasPermi");return f(),_(g,null,[j(b,null,{default:y((()=>[j(v,{onRegister:h(n)},{toolbar_buttons:y((()=>[x(j(u,{type:"primary",preIcon:"ep:zoom-in",title:h(m)("action.add"),onClick:l[0]||(l[0]=e=>{O("create")})},null,8,["title"]),[[X,["pay:order:create"]]]),x(j(u,{type:"warning",preIcon:"ep:download",title:h(m)("action.export"),onClick:l[1]||(l[1]=e=>h(p)("订单数据.xls"))},null,8,["title"]),[[X,["pay:order:export"]]])])),actionbtns_default:y((({row:e})=>[x(j(S,{preIcon:"ep:view",title:h(m)("action.detail"),onClick:t=>U(e.id)},null,8,["title","onClick"]),[[X,["pay:order:query"]]])])),_:1},8,["onRegister"])])),_:1}),j(C,{modelValue:h(I),"onUpdate:modelValue":l[3]||(l[3]=e=>T(I)?I.value=e:null),title:h(R)},{footer:y((()=>[j(u,{loading:h(d),title:h(m)("dialog.close"),onClick:l[2]||(l[2]=e=>I.value=!1)},null,8,["loading","title"])])),default:y((()=>[j(D,{schema:h(w).detailSchema,data:h(A)},null,8,["schema","data"])])),_:1},8,["modelValue","title"])],64)}}});export{A as default};
